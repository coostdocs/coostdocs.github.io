<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Documents for Coost</title>
    <link>https://coostdocs.github.io/cn/</link>
    <description>Recent content on Documents for Coost</description>
    <generator>Hugo -- gohugo.io</generator><atom:link href="https://coostdocs.github.io/cn/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>åŸå­æ“ä½œ</title>
      <link>https://coostdocs.github.io/cn/co/concurrency/atomic/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/concurrency/atomic/</guid>
      <description>include: co/atomic.h.
#Memory Order coost ä» v3.0 å¼€å§‹ï¼Œå¢åŠ äº†å¯¹ memory order çš„æ”¯æŒã€‚coost ä¸­çš„ 6 ç§ memory order å®šä¹‰å¦‚ä¸‹ï¼š
enum memory_order_t { mo_relaxed, mo_consume, mo_acquire, mo_release, mo_acq_rel, mo_seq_cst, }; ä¸ºäº†ä¿æŒå…¼å®¹æ€§ï¼Œcoost ä¸­çš„åŸå­æ“ä½œé»˜è®¤çš„ memory order å‡ä¸º mo_seq_cstã€‚
#v3.0 åˆ é™¤çš„ API atomic_getï¼Œä½¿ç”¨ atomic_load å–ä»£ä¹‹ã€‚ atomic_setï¼Œä½¿ç”¨ atomic_store å–ä»£ä¹‹ã€‚ atomic_resetï¼Œä½¿ç”¨ atomic_store(&amp;amp;x, 0) å–ä»£ä¹‹ã€‚ #load &amp;amp; store #atomic_load template &amp;lt;typename T&amp;gt; inline T atomic_load(const T* p, memory_order_t mo = mo_seq_cst); æ­¤å‡½æ•°è·å– p æŒ‡å‘çš„å˜é‡çš„å€¼ï¼ŒT æ˜¯é•¿åº¦ä¸º 1, 2, 4, 8 å­—èŠ‚çš„ä»»æ„å†…ç½®æ•°æ®ç±»å‹(åŒ…æ‹¬æŒ‡é’ˆç±»å‹)ã€‚</description>
    </item>
    
    <item>
      <title>åŸºæœ¬å®šä¹‰</title>
      <link>https://coostdocs.github.io/cn/co/def/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/def/</guid>
      <description>include: co/def.h.
#typedefs #å®šé•¿æ•´æ•°ç±»å‹ co/def.hÂ å®šä¹‰äº†å¦‚ä¸‹çš„ 8 ç§æ•´æ•°ç±»å‹ï¼š
typedef int8_t int8; typedef int16_t int16; typedef int32_t int32; typedef int64_t int64; typedef uint8_t uint8; typedef uint16_t uint16; typedef uint32_t uint32; typedef uint64_t uint64; è¿™äº›ç±»å‹åœ¨ä¸åŒå¹³å°çš„é•¿åº¦æ˜¯ä¸€è‡´çš„ï¼Œä¸å­˜åœ¨å¯ç§»æ¤æ€§é—®é¢˜ã€‚Google Code Style å»ºè®®é™¤äº† intï¼Œä¸è¦ä½¿ç”¨ short, long, long long ç­‰å†…ç½®æ•´æ•°ç±»å‹ã€‚
#macros #æ•´å‹æœ€å¤§ã€æœ€å°å€¼ MAX_UINT8 MAX_UINT16 MAX_UINT32 MAX_UINT64 MAX_INT8 MAX_INT16 MAX_INT32 MAX_INT64 MIN_INT8 MIN_INT16 MIN_INT32 MIN_INT64 è¿™äº›å®åˆ†åˆ«è¡¨ç¤º 8 ç§æ•´æ•°ç±»å‹çš„æœ€å¤§ã€æœ€å°å€¼ã€‚
#DISALLOW_COPY_AND_ASSIGN è¿™ä¸ªå®ç”¨äºç¦æ­¢ C++ ç±»ä¸­çš„æ‹·è´æ„é€ å‡½æ•°ä¸èµ‹å€¼æ“ä½œã€‚
ç¤ºä¾‹ class T { public: T(); DISALLOW_COPY_AND_ASSIGN(T); }; #__arch64, __arch32 64ä½ç³»ç»Ÿä¸Šï¼Œ__arch64 å®šä¹‰ä¸º 1ï¼›32ä½ç³»ç»Ÿä¸Šï¼Œ__arch32 å®šä¹‰ä¸º 1ã€‚</description>
    </item>
    
    <item>
      <title>åŸºæœ¬æ¦‚å¿µ</title>
      <link>https://coostdocs.github.io/cn/co/concurrency/coroutine/basic/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/concurrency/coroutine/basic/</guid>
      <description>#åç¨‹åŸºæœ¬æ¦‚å¿µ åç¨‹æ˜¯è¿è¡Œäºçº¿ç¨‹ä¸­çš„è½»é‡çº§è°ƒåº¦å•ä½ã€‚ åç¨‹ä¹‹äºçº¿ç¨‹ï¼Œç±»ä¼¼äºçº¿ç¨‹ä¹‹äºè¿›ç¨‹ã€‚ ä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥å­˜åœ¨å¤šä¸ªçº¿ç¨‹ï¼Œä¸€ä¸ªçº¿ç¨‹ä¸­å¯ä»¥å­˜åœ¨å¤šä¸ªåç¨‹ã€‚ åç¨‹æ‰€åœ¨çš„çº¿ç¨‹ä¸€èˆ¬è¢«ç§°ä¸ºè°ƒåº¦çº¿ç¨‹ã€‚ åç¨‹å‘ç”Ÿ io é˜»å¡æˆ–è°ƒç”¨ sleep ç­‰æ“ä½œæ—¶ï¼Œè°ƒåº¦çº¿ç¨‹ä¼šæŒ‚èµ·æ­¤åç¨‹ã€‚ åç¨‹æŒ‚èµ·æ—¶ï¼Œè°ƒåº¦çº¿ç¨‹ä¼šåˆ‡æ¢åˆ°å…¶ä»–ç­‰å¾…ä¸­çš„åç¨‹è¿è¡Œã€‚ åç¨‹çš„åˆ‡æ¢æ˜¯åœ¨ç”¨æˆ·æ€è¿›è¡Œçš„ï¼Œæ¯”çº¿ç¨‹é—´çš„åˆ‡æ¢æ›´å¿«ã€‚ åç¨‹éå¸¸é€‚åˆå†™ç½‘ç»œç¨‹åºï¼Œå¯ä»¥å®ç°åŒæ­¥çš„ç¼–ç¨‹æ–¹å¼ï¼Œä¸éœ€è¦å¼‚æ­¥å›è°ƒï¼Œå¤§å¤§å‡è½»äº†ç¨‹åºå‘˜çš„æ€æƒ³è´Ÿæ‹…ã€‚
#co åç¨‹ç‰¹æ€§ coost ä¸­å®ç°çš„æ˜¯ä¸€ç§ç±»ä¼¼ goroutine çš„åç¨‹ï¼Œæœ‰å¦‚ä¸‹ç‰¹æ€§ï¼š
æ”¯æŒå¤šçº¿ç¨‹è°ƒåº¦ï¼Œé»˜è®¤çº¿ç¨‹æ•°ä¸ºç³»ç»Ÿ CPU æ ¸æ•°ã€‚ å…±äº«æ ˆï¼ŒåŒä¸€çº¿ç¨‹ä¸­çš„åç¨‹å…±ç”¨è‹¥å¹²ä¸ªæ ˆ(å¤§å°é»˜è®¤ä¸º 1MB)ï¼Œå†…å­˜å ç”¨ä½ï¼ŒLinux ä¸Šçš„æµ‹è¯•æ˜¾ç¤º 1000 ä¸‡åç¨‹åªç”¨äº† 2.8G å†…å­˜(ä»…ä¾›å‚è€ƒ)ã€‚ åç¨‹åˆ›å»ºåï¼Œå§‹ç»ˆåœ¨åŒä¸€ä¸ªçº¿ç¨‹ä¸­è¿è¡Œï¼Œè€Œä¸ä¼šåˆ‡æ¢åˆ°å…¶ä»–çº¿ç¨‹ã€‚ å„åç¨‹ä¹‹é—´ä¸ºå¹³çº§å…³ç³»ï¼Œå¯ä»¥åœ¨ä»»ä½•åœ°æ–¹(åŒ…æ‹¬åœ¨åç¨‹ä¸­)åˆ›å»ºæ–°çš„åç¨‹ã€‚ coost åç¨‹åº“ä¸­ context ç›¸å…³ä»£ç å–è‡ª ruki çš„ tboxï¼Œè€Œ tbox åˆ™å‚è€ƒäº† boost çš„å®ç°ï¼Œåœ¨æ­¤è¡¨ç¤ºæ„Ÿè°¢ï¼ </description>
    </item>
    
    <item>
      <title>å£°æ˜</title>
      <link>https://coostdocs.github.io/cn/about/announce/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/about/announce/</guid>
      <description>#æ–‡æ¡£ä»˜è´¹å£°æ˜ æœ¬æ–‡æ¡£é‡‡å–ä»˜è´¹é˜…è¯»æ¨¡å¼ï¼Œç”¨æˆ·å¯é€‰æ‹©å¦‚ä¸‹ä»˜è´¹æ–¹æ¡ˆä¹‹ä¸€ï¼š
æ¯ä¸ªç”¨æˆ·ä¸€æ¬¡æ€§æ”¯ä»˜ 59ï¿¥ï¼Œè·å¾—æœ¬æ–‡æ¡£æ°¸ä¹…é˜…è¯»æƒã€‚ æ¯ä¸ªç”¨æˆ·æ”¯ä»˜ 23ï¿¥/å¹´ï¼ŒæŒç»­ 3 å¹´ï¼Œä¹‹åè·å¾—æœ¬æ–‡æ¡£æ°¸ä¹…é˜…è¯»æƒã€‚ æ”¯ä»˜é¡µé¢</description>
    </item>
    
    <item>
      <title>å­—èŠ‚åº</title>
      <link>https://coostdocs.github.io/cn/co/net/byte_order/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/net/byte_order/</guid>
      <description>include: co/byte_order.h.
è®¡ç®—æœºä¸­çš„æ•°æ®åœ¨å†…å­˜ä¸­æ˜¯ä»¥å­—èŠ‚(8 bit)ä¸ºåŸºæœ¬å•ä½è¿›è¡Œå­˜å‚¨çš„ï¼Œå¤§ç«¯æœºé‡‡ç”¨å¤§ç«¯å­—èŠ‚åºï¼Œå³é«˜ä½å­—èŠ‚åœ¨ä½åœ°å€ï¼Œä½ä½å­—èŠ‚åœ¨é«˜åœ°å€ï¼Œå°ç«¯æœºåˆ™é‡‡ç”¨å°ç«¯å­—èŠ‚åºï¼Œå³ä½ä½å­—èŠ‚åœ¨ä½åœ°å€ï¼Œé«˜ä½å­—èŠ‚åœ¨é«˜åœ°å€ã€‚
å•ä¸ªå­—èŠ‚åœ¨å¤§ã€å°ç«¯æœºå™¨ä¸Šæ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œè€Œå¤šä¸ªå­—èŠ‚çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Œåœ¨å¤§ã€å°ç«¯æœºå™¨ä¸Šæœ‰ç€ä¸åŒçš„å­—èŠ‚åºã€‚è¿™é‡Œè¯´çš„åŸºæœ¬æ•°æ®ç±»å‹æ˜¯æŒ‡åƒ int, doubleÂ è¿™æ ·çš„å†…ç½®ç±»å‹ï¼Œå­—ç¬¦ä¸²ä¸åœ¨æ­¤åˆ—ï¼Œå®ƒæ˜¯ç”±å•å­—èŠ‚æ„æˆçš„åºåˆ—ï¼Œåœ¨å¤§ã€å°ç«¯æœºå™¨ä¸Šæœ‰ç€ç›¸åŒçš„å­˜å‚¨å½¢å¼ã€‚
ç½‘ç»œä¸Šä¼ è¾“çš„æ•°æ®é‡‡ç”¨å¤§ç«¯å­—èŠ‚åºï¼Œæ‰€è°“çš„ç½‘ç»œå­—èŠ‚åºä¹Ÿå°±æ˜¯å¤§ç«¯å­—èŠ‚åºã€‚å‘é€æ•°æ®åˆ°ç½‘ç»œä¸Šæ—¶ï¼Œéœ€è¦å°†å…¶ä¸­çš„å¤šå­—èŠ‚åŸºæœ¬ç±»å‹è½¬æ¢æˆç½‘ç»œå­—èŠ‚åºï¼Œè€Œä»ç½‘ç»œä¸Šæ¥æ”¶æ•°æ®æ—¶ï¼Œåˆ™éœ€è¦è½¬æ¢æˆæ‰€åœ¨ä¸»æœºçš„å­—èŠ‚åºã€‚
byte_order.hÂ å®šä¹‰äº†å¦‚ä¸‹çš„æ–¹æ³•ï¼š
ntoh16 ntoh32 ntoh64 hton16 hton32 hton64 è¿™äº›æ–¹æ³•åˆ†åˆ«é€‚ç”¨äºé•¿åº¦ä¸º 2, 4, 8 å­—èŠ‚çš„æ•´æ•°ï¼Œå…¶ä¸­ ntohÂ ç³»åˆ—å°†ç½‘ç»œå­—èŠ‚åºè½¬æ¢æˆä¸»æœºå­—èŠ‚åºï¼ŒhtonÂ ç³»åˆ—åˆ™å°†ä¸»æœºå­—èŠ‚åºè½¬æ¢æˆç½‘ç»œå­—èŠ‚åºã€‚
ä»£ç ç¤ºä¾‹ uint32 h = 777; uint32 n = hton32(h); </description>
    </item>
    
    <item>
      <title>ç»ˆç«¯è¾“å‡º</title>
      <link>https://coostdocs.github.io/cn/co/other/console/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/other/console/</guid>
      <description>include: co/cout.h.
#é¢œè‰² å¦‚ä¸‹ï¼š
cout &amp;lt;&amp;lt; text::red(&amp;#34;hello\n&amp;#34;); cout &amp;lt;&amp;lt; text::green(&amp;#34;hello\n&amp;#34;); cout &amp;lt;&amp;lt; text::blue(&amp;#34;hello\n&amp;#34;); cout &amp;lt;&amp;lt; text::yellow(&amp;#34;hello\n&amp;#34;); cout &amp;lt;&amp;lt; text::magenta(&amp;#34;hello\n&amp;#34;); cout &amp;lt;&amp;lt; text::cyan(&amp;#34;hello\n&amp;#34;); cout &amp;lt;&amp;lt; &amp;#34;hello\n&amp;#34;; cout &amp;lt;&amp;lt; text::bold(&amp;#34;hello\n&amp;#34;); cout &amp;lt;&amp;lt; text::bold(&amp;#34;hello\n&amp;#34;).red(); cout &amp;lt;&amp;lt; text::bold(&amp;#34;hello\n&amp;#34;).green(); cout &amp;lt;&amp;lt; text::bold(&amp;#34;hello\n&amp;#34;).blue(); cout &amp;lt;&amp;lt; text::bold(&amp;#34;hello\n&amp;#34;).yellow(); cout &amp;lt;&amp;lt; text::bold(&amp;#34;hello\n&amp;#34;).magenta(); cout &amp;lt;&amp;lt; text::bold(&amp;#34;hello\n&amp;#34;).cyan(); #co::print template&amp;lt;typename ...X&amp;gt; void print(X&amp;amp;&amp;amp; ... x); æ¥å—ä»»æ„æ•°é‡çš„å‚æ•°ï¼Œè¾“å‡ºåˆ° stdoutï¼Œæœ«å°¾ä¼šæ·»åŠ æ¢è¡Œç¬¦ã€‚ å†…éƒ¨æœ‰åŠ é”ï¼Œæ”¯æŒå¤šçº¿ç¨‹åŒæ—¶è°ƒç”¨ co::printã€‚ co::print(&amp;#34;hello &amp;#34;, 23); co::print(text::red(&amp;#34;hello&amp;#34;)); co::vector&amp;lt;int&amp;gt; v = { 1, 2, 3 }; co::print(v); </description>
    </item>
    
    <item>
      <title>APIs</title>
      <link>https://coostdocs.github.io/cn/co/concurrency/coroutine/api/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/concurrency/coroutine/api/</guid>
      <description>include: co/co.h.
#Coroutine APIs v3.0 ç§»é™¤äº† co::init, co::exit, co::stopã€‚ #go 1. void go(Closure* cb); 2. template&amp;lt;typename F&amp;gt; void go(F&amp;amp;&amp;amp; f); 3. template&amp;lt;typename F, typename P&amp;gt; void go(F&amp;amp;&amp;amp; f, P&amp;amp;&amp;amp; p); 4. template&amp;lt;typename F, typename T, typename P&amp;gt; void go(F&amp;amp;&amp;amp; f, T* t, P&amp;amp;&amp;amp; p); æ­¤å‡½æ•°ç”¨äºåˆ›å»ºåç¨‹ï¼Œä¸åˆ›å»ºçº¿ç¨‹ç±»ä¼¼ï¼Œéœ€è¦æŒ‡å®šä¸€ä¸ªåç¨‹å‡½æ•°ã€‚
1, å‚æ•° cb æŒ‡å‘ä¸€ä¸ª Closure å¯¹è±¡ï¼Œåç¨‹å¯åŠ¨åä¼šè°ƒç”¨ Closure ä¸­çš„ run()Â æ–¹æ³•ã€‚
2-4, å°†ä¼ å…¥çš„å‚æ•°æ‰“åŒ…æˆä¸€ä¸ª Closureï¼Œç„¶åè°ƒç”¨ 1ã€‚
2, å‚æ•° f æ˜¯ä»»æ„å¯è°ƒç”¨çš„å¯¹è±¡ï¼Œåªè¦èƒ½è°ƒç”¨ f()Â æˆ– (*f)()Â å°±è¡Œã€‚
3, å‚æ•° f æ˜¯ä»»æ„å¯è°ƒç”¨çš„å¯¹è±¡ï¼Œåªè¦èƒ½è°ƒç”¨ f(p), (*f)(p)Â æˆ– (p-&amp;gt;*f)()Â å°±è¡Œã€‚</description>
    </item>
    
    <item>
      <title>defer</title>
      <link>https://coostdocs.github.io/cn/co/other/defer/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/other/defer/</guid>
      <description>include: co/defer.h.
#defer defer æ˜¯ coost æä¾›çš„ä¸€ä¸ªå®ï¼Œå®ƒå®ç°äº†ç±»ä¼¼ golang ä¸­ defer çš„åŠŸèƒ½ã€‚defer çš„å‚æ•°å¯ä»¥æ˜¯ä¸€æ¡æˆ–å¤šæ¡è¯­å¥ã€‚
void f() { void* p = malloc(32); defer(free(p)); defer( std::cout &amp;lt;&amp;lt; &amp;#34;111&amp;#34; &amp;lt;&amp;lt; std::endl; std::cout &amp;lt;&amp;lt; &amp;#34;222&amp;#34; &amp;lt;&amp;lt; std::endl; ); std::cout &amp;lt;&amp;lt; &amp;#34;333&amp;#34; &amp;lt;&amp;lt; std::endl; } ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œdefer ä¸­çš„ä»£ç å°†åœ¨å‡½æ•° f ç»“æŸæ—¶æ‰§è¡Œï¼Œå› æ­¤ 333 å…ˆäº 111 ä¸ 222 æ‰“å°ã€‚</description>
    </item>
    
    <item>
      <title>socket ç¼–ç¨‹</title>
      <link>https://coostdocs.github.io/cn/co/net/sock/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/net/sock/</guid>
      <description>include: co/co.h.
#Socket APIs co æä¾›äº†å¸¸ç”¨çš„åç¨‹åŒ–çš„ socket APIï¼Œä»¥æ”¯æŒåŸºäºåç¨‹çš„ç½‘ç»œç¼–ç¨‹ã€‚
å¤§éƒ¨åˆ† API å½¢å¼ä¸Šä¸åŸç”Ÿçš„ socket API ä¿æŒä¸€è‡´ï¼Œè¿™æ ·å¯ä»¥å‡è½»ç”¨æˆ·çš„å­¦ä¹ è´Ÿæ‹…ï¼Œç†Ÿæ‚‰ socket ç¼–ç¨‹çš„ç”¨æˆ·å¯ä»¥è½»æ¾ä¸Šæ‰‹ã€‚
è¿™äº› API å¤§éƒ¨åˆ†éœ€è¦åœ¨åç¨‹ä¸­ä½¿ç”¨ï¼Œå®ƒä»¬åœ¨ I/O é˜»å¡æˆ–è°ƒç”¨ sleep ç­‰æ“ä½œæ—¶ï¼Œè°ƒåº¦çº¿ç¨‹ä¼šæŒ‚èµ·å½“å‰åç¨‹ï¼Œåˆ‡æ¢åˆ°å…¶ä»–ç­‰å¾…ä¸­çš„åç¨‹è¿è¡Œï¼Œè°ƒåº¦çº¿ç¨‹æœ¬èº«å¹¶ä¸ä¼šé˜»å¡ã€‚å€ŸåŠ©è¿™äº› APIï¼Œç”¨æˆ·å¯ä»¥è½»æ¾çš„å®ç°é«˜å¹¶å‘ã€é«˜æ€§èƒ½çš„ç½‘ç»œç¨‹åºã€‚
#æœ¯è¯­çº¦å®š é˜»å¡
åœ¨æè¿° co ä¸­çš„ä¸€äº› socket API æ—¶ï¼Œä¼šç”¨åˆ°é˜»å¡ä¸€è¯ï¼Œå¦‚ accept, recvï¼Œæ–‡æ¡£ä¸­è¯´å®ƒä»¬ä¼šé˜»å¡ï¼Œæ˜¯æŒ‡å½“å‰çš„åç¨‹ä¼šé˜»å¡ï¼Œè€Œå½“å‰çš„è°ƒåº¦çº¿ç¨‹å¹¶ä¸ä¼šé˜»å¡(å¯ä»¥åˆ‡æ¢åˆ°å…¶ä»–åç¨‹è¿è¡Œ)ã€‚ç”¨æˆ·çœ‹åˆ°çš„æ˜¯åç¨‹ï¼Œè€Œä¸æ˜¯è°ƒåº¦çº¿ç¨‹ï¼Œå› æ­¤ä»ç”¨æˆ·çš„è§’åº¦çœ‹ï¼Œå®ƒä»¬æ˜¯é˜»å¡çš„ã€‚å®é™…ä¸Šï¼Œè¿™äº› API å†…éƒ¨ä½¿ç”¨ non-blocking socketï¼Œå¹¶ä¸ä¼šçœŸçš„é˜»å¡ï¼Œåªæ˜¯åœ¨ socket ä¸Šæ²¡æœ‰æ•°æ®å¯è¯»æˆ–è€…æ— æ³•ç«‹å³å†™å…¥æ•°æ®æ—¶ï¼Œè°ƒåº¦çº¿ç¨‹ä¼šæŒ‚èµ·å½“å‰åç¨‹ï¼Œå½“ socket å˜ä¸ºå¯è¯»æˆ–å¯å†™æ—¶ï¼Œè°ƒåº¦çº¿ç¨‹ä¼šé‡æ–°å”¤èµ·è¯¥åç¨‹ï¼Œç»§ç»­ I/O æ“ä½œã€‚
non-blocking socket
co ä¸­çš„ socket API å¿…é¡»ä½¿ç”¨ non-blocking socketï¼Œåœ¨ windows å¹³å°è¿˜è¦æ±‚ socket æ”¯æŒ overlapped I/Oï¼Œwin32 API åˆ›å»ºçš„ socket é»˜è®¤éƒ½æ”¯æŒ overlapped I/Oï¼Œç”¨æˆ·ä¸€èˆ¬ä¸éœ€è¦æ‹…å¿ƒè¿™ä¸ªé—®é¢˜ã€‚ä¸ºäº†å™è¿°æ–¹ä¾¿ï¼Œè¿™é‡Œçº¦å®šæ–‡æ¡£ä¸­è¯´åˆ° non-blocking socket æ—¶ï¼ŒåŒæ—¶ä¹Ÿè¡¨ç¤ºå®ƒåœ¨ windows ä¸Šæ”¯æŒ overlapped I/Oã€‚</description>
    </item>
    
    <item>
      <title>ç®€ä»‹</title>
      <link>https://coostdocs.github.io/cn/about/co/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/about/co/</guid>
      <description>#coost ç®€ä»‹ coost æ˜¯ä¸€ä¸ªå…¼å…·æ€§èƒ½ä¸æ˜“ç”¨æ€§çš„è·¨å¹³å° C++ åŸºç¡€åº“ï¼Œå…¶ç›®æ ‡æ˜¯æ‰“é€ ä¸€æŠŠ C++ å¼€å‘ç¥å™¨ï¼Œè®© C++ ç¼–ç¨‹å˜å¾—ç®€å•ã€è½»æ¾ã€æ„‰å¿«ã€‚
coost ç®€ç§°ä¸º coï¼Œæ›¾è¢«ç§°ä¸ºå°å‹ boost åº“ï¼Œä¸ boost ç›¸æ¯”ï¼Œcoost å°è€Œç²¾ç¾ï¼Œåœ¨ linux ä¸ mac ä¸Šç¼–è¯‘å‡ºæ¥çš„é™æ€åº“ä»… 1M å·¦å³å¤§å°ï¼Œå´åŒ…å«äº†ä¸å°‘å¼ºå¤§çš„åŠŸèƒ½ï¼š
å‘½ä»¤è¡Œä¸é…ç½®æ–‡ä»¶è§£æ(flag) é«˜æ€§èƒ½æ—¥å¿—åº“(log) å•å…ƒæµ‹è¯•æ¡†æ¶ åŸºå‡†æµ‹è¯•æ¡†æ¶ go-style åç¨‹ åŸºäºåç¨‹çš„ç½‘ç»œç¼–ç¨‹æ¡†æ¶ åŸºäº JSON çš„ RPC æ¡†æ¶ åŸå­æ“ä½œ(atomic) é«˜æ•ˆå­—ç¬¦æµ(fastream) é«˜æ•ˆå­—ç¬¦ä¸²(fastring) å­—ç¬¦ä¸²æ“ä½œ(str) æ—¶é—´åº“(time) çº¿ç¨‹åº“(thread) å®šæ—¶ä»»åŠ¡è°ƒåº¦å™¨ é¢å‘ç„å­¦ç¼–ç¨‹ é«˜æ•ˆ JSON åº“ hash åº“ path åº“ æ–‡ä»¶ç³»ç»Ÿæ“ä½œ(fs) ç³»ç»Ÿæ“ä½œ(os) é«˜æ€§èƒ½å†…å­˜åˆ†é…å™¨ æ–‡æ¡£ä»˜è´¹å£°æ˜
æœ¬æ–‡æ¡£é‡‡å–ä»˜è´¹é˜…è¯»æ¨¡å¼ï¼Œç”¨æˆ·å¯é€‰æ‹©å¦‚ä¸‹ä»˜è´¹æ–¹æ¡ˆä¹‹ä¸€ï¼š
æ¯ä¸ªç”¨æˆ·ä¸€æ¬¡æ€§æ”¯ä»˜ 59ï¿¥ï¼Œè·å¾—æœ¬æ–‡æ¡£æ°¸ä¹…é˜…è¯»æƒã€‚ æ¯ä¸ªç”¨æˆ·æ”¯ä»˜ 23ï¿¥/å¹´ï¼ŒæŒç»­ 3 å¹´ï¼Œä¹‹åè·å¾—æœ¬æ–‡æ¡£æ°¸ä¹…é˜…è¯»æƒã€‚ æ”¯ä»˜é¡µé¢
#coost å‘å±•å†ç¨‹ 2013-2015 å¹´ï¼ŒAlvin(idealvin) åœ¨ä½¿ç”¨ google gflagsã€glogã€gtest ç­‰æ—¶ï¼Œæ„Ÿåˆ°æœ‰äº›ç¹çï¼Œå°±è‡ªå·±åŠ¨æ‰‹å®ç°äº†ç›¸åº”çš„åŠŸèƒ½ï¼Œå³ç°ä»Š coost ä¸­çš„ flagã€logã€unitest ç­‰ç»„ä»¶ã€‚</description>
    </item>
    
    <item>
      <title>çº¿ç¨‹</title>
      <link>https://coostdocs.github.io/cn/co/concurrency/thread/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/concurrency/thread/</guid>
      <description>include: co/co.h.
#çº¿ç¨‹ v3.0.1 åˆ é™¤äº† co/thread.h å¤´æ–‡ä»¶ï¼Œç§»é™¤äº†å…¨å±€çš„ Thread ä¸ Mutex ç±»ï¼Œå…¶åŠŸèƒ½ä¸ C++11 ä¸­çš„ std::thread ä¸ std::mutex ä¸€æ ·ï¼Œç”¨æˆ·å¯ä»¥ç›´æ¥ä½¿ç”¨ std ç‰ˆæœ¬ã€‚ #co::thread_id uint32 thread_id(); è¿”å›å½“å‰çº¿ç¨‹çš„ id å€¼ã€‚ #co::sync_event åŒæ­¥äº‹ä»¶æ˜¯å¤šçº¿ç¨‹é—´çš„ä¸€ç§åŒæ­¥æœºåˆ¶ï¼Œé€‚ç”¨äºç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹ã€‚æ¶ˆè´¹è€…çº¿ç¨‹è°ƒç”¨ wait()Â æ–¹æ³•ç­‰å¾…åŒæ­¥ä¿¡å·ï¼Œç”Ÿäº§è€…çº¿ç¨‹åˆ™è°ƒç”¨ signal()Â æ–¹æ³•äº§ç”ŸåŒæ­¥ä¿¡å·ã€‚co::sync_event æ”¯æŒå¤šç”Ÿäº§è€…ã€å¤šæ¶ˆè´¹è€…ï¼Œä½†å®é™…åº”ç”¨ä¸­ï¼Œå•ä¸ªæ¶ˆè´¹è€…çš„æƒ…å†µæ¯”è¾ƒå¤šã€‚
v3.0.1 ç§»é™¤äº†å…¨å±€èŒƒå›´çš„ SyncEventï¼Œè¯·ä½¿ç”¨ co::sync_event æ›¿ä»£ä¹‹ã€‚ #constructor explicit sync_event(bool manual_reset=false, bool signaled=false); æ„é€ å‡½æ•°ï¼Œå‚æ•° manual_reset è¡¨ç¤ºæ˜¯å¦æ‰‹åŠ¨å°†åŒæ­¥çŠ¶æ€è®¾ç½®æˆæœªåŒæ­¥ï¼Œå‚æ•° signaled è¡¨ç¤ºåˆå§‹çŠ¶æ€æ˜¯å¦ä¸ºåŒæ­¥çŠ¶æ€ã€‚ #sync_event::reset void reset(); å°†äº‹ä»¶è®¾ç½®æˆæœªåŒæ­¥çŠ¶æ€ã€‚ å½“æ„é€ å‡½æ•°ä¸­ manual_reset ä¸º true æ—¶ï¼Œç”¨æˆ·åœ¨è°ƒç”¨ wait() åéœ€è¦æ‰‹åŠ¨è°ƒç”¨æ­¤æ–¹æ³•ï¼Œå°†äº‹ä»¶è®¾ç½®æˆæœªåŒæ­¥çŠ¶æ€ã€‚ #sync_event::signal void signal(); äº§ç”ŸåŒæ­¥ä¿¡å·ï¼Œå°†äº‹ä»¶è®¾ç½®æˆåŒæ­¥çŠ¶æ€ã€‚ #sync_event::wait 1. void wait(); 2. bool wait(uint32 ms); 1, ä¸€ç›´ç­‰å¾…ç›´åˆ°äº‹ä»¶å˜æˆåŒæ­¥çŠ¶æ€ã€‚ 2, ç­‰å¾…ç›´åˆ°äº‹ä»¶å˜æˆåŒæ­¥çŠ¶æ€æˆ–è¶…æ—¶ã€‚å‚æ•° ms æŒ‡å®šè¶…æ—¶æ—¶é—´ï¼Œå•ä½ä¸ºæ¯«ç§’ã€‚è‹¥äº‹ä»¶å˜æˆåŒæ­¥çŠ¶æ€ï¼Œè¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚ å½“æ„é€ å‡½æ•°ä¸­ manual_reset ä¸º false æ—¶ï¼Œwait() ç»“æŸæ—¶ä¼šè‡ªåŠ¨å°†äº‹ä»¶è®¾ç½®æˆæœªåŒæ­¥çŠ¶æ€ã€‚ #ä»£ç ç¤ºä¾‹ #include &amp;#34;co/co.</description>
    </item>
    
    <item>
      <title>é”™è¯¯</title>
      <link>https://coostdocs.github.io/cn/co/other/error/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/other/error/</guid>
      <description>include: co/error.h.
#co::error 1. int error(); 2. void error(int e); 1, è¿”å›å½“å‰çš„é”™è¯¯ç ã€‚ 2, å°†å½“å‰é”™è¯¯ç è®¾ç½®ä¸º eã€‚ #co::strerror 1. const char* strerror(int e); 2. const char* strerror(); 1, è·å–é”™è¯¯ç  e çš„æè¿°ä¿¡æ¯ï¼Œçº¿ç¨‹å®‰å…¨ã€‚ 2, è·å–å½“å‰é”™è¯¯ç çš„æè¿°ä¿¡æ¯ï¼Œçº¿ç¨‹å®‰å…¨ã€‚ </description>
    </item>
    
    <item>
      <title>é¢å‘ç„å­¦</title>
      <link>https://coostdocs.github.io/cn/co/god/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/god/</guid>
      <description>include: co/god.h.
#god god æ¨¡å—æä¾›äº†ä¸€äº›ä¸æ¨¡æ¿ç›¸å…³çš„åŠŸèƒ½ï¼Œæ¨¡æ¿ç”¨åˆ°æ·±å¤„æœ‰ç‚¹ç„ï¼Œä¸€äº› C++ ç¨‹åºå‘˜å°†ä¹‹ç§°ä¸ºé¢å‘ç„å­¦ç¼–ç¨‹ã€‚
#god::bless_no_bugs void bless_no_bugs(); ç¥ˆæ±‚è€å¤©ä¿ä½‘ä»£ç æ—  bugï¼Œçº¿ç¨‹å®‰å…¨ï¼Œå¯ä»»æ„è°ƒç”¨ã€‚
ç¤ºä¾‹
#include &amp;#34;co/god.h&amp;#34; #include &amp;#34;co/cout.h&amp;#34; int main(int argc, char** argv) { god::bless_no_bugs(); co::print(&amp;#34;hello world&amp;#34;); return 0; } #god::cast template&amp;lt;typename To, typename From&amp;gt; constexpr To cast(From&amp;amp;&amp;amp; f) { return (To) std::forward&amp;lt;From&amp;gt;(f); } ä¸‡èƒ½è½¬æ¢ï¼Œå°† From ç±»å‹è½¬æ¢ä¸º To ç±»å‹ï¼ŒTo å¯ä»¥æ˜¯å¼•ç”¨ã€‚
ç¤ºä¾‹
int i = 65; char c = god::cast&amp;lt;char&amp;gt;(i); // c -&amp;gt; &amp;#39;A&amp;#39; god::cast&amp;lt;char&amp;amp;&amp;gt;(i) = &amp;#39;a&amp;#39;; // å°† i çš„ä½å­—èŠ‚è®¾ç½®ä¸º &amp;#39;a&amp;#39; #&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; #god::align_down 1.</description>
    </item>
    
    <item>
      <title>channel</title>
      <link>https://coostdocs.github.io/cn/co/concurrency/coroutine/chan/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/concurrency/coroutine/chan/</guid>
      <description>include: co/co.h.
#co::chan template&amp;lt;typename T&amp;gt; class chan; co::chan æ˜¯ä¸€ä¸ªæ¨¡æ¿ç±»ï¼Œå®ƒç±»ä¼¼äº golang ä¸­çš„ channelï¼Œç”¨äºåœ¨åç¨‹ä¹‹é—´ä¼ é€’æ•°æ®ã€‚
ä» v3.0.1 å¼€å§‹ï¼Œco::chan å¯åœ¨åç¨‹æˆ–éåç¨‹ä¸­ä½¿ç”¨ï¼Œä¸”å¯å­˜å‚¨ std::string ç­‰é POD ç±»å‹çš„å€¼ã€‚ #constructor 1. explicit chan(uint32 cap=1, uint32 ms=(uint32)-1); 2. chan(chan&amp;amp;&amp;amp; c); 3. chan(const chan&amp;amp; c); 1, å‚æ•° cap æ˜¯å†…éƒ¨é˜Ÿåˆ—çš„æœ€å¤§å®¹é‡ï¼Œé»˜è®¤æ˜¯ 1ï¼Œå‚æ•° ms æ˜¯è¯»å†™æ“ä½œçš„è¶…æ—¶æ—¶é—´ï¼Œå•ä½ä¸ºæ¯«ç§’ï¼Œé»˜è®¤ä¸º -1ï¼Œæ°¸ä¸è¶…æ—¶ã€‚ 2, ç§»åŠ¨æ„é€ å‡½æ•°ã€‚ 3, æ‹·è´æ„é€ å‡½æ•°ï¼Œä»…å°†å†…éƒ¨å¼•ç”¨è®¡æ•°åŠ  1ã€‚ #close void close() const; å…³é—­ channelï¼Œå…³é—­å channel ä¸å¯å†™ï¼Œä½†å¯è¯»ã€‚ #done bool done() const; åˆ¤æ–­è¯»ã€å†™æ“ä½œæ˜¯å¦æˆåŠŸå®Œæˆã€‚ #operator bool explicit operator bool() const; è‹¥ channel ä¸ºå…³é—­çŠ¶æ€ï¼Œè¿”å› falseï¼Œå¦åˆ™è¿”å› trueã€‚ #operator&amp;laquo; chan&amp;amp; operator&amp;lt;&amp;lt;(const T&amp;amp; x) const; chan&amp;amp; operator&amp;lt;&amp;lt;(T&amp;amp;&amp;amp; x) const; å†™å…¥å…ƒç´  xã€‚ æ­¤æ–¹æ³•ä¼šé˜»å¡ï¼Œç›´åˆ°å†™å…¥æ“ä½œå®Œæˆæˆ–è¶…æ—¶ã€‚å¯ä»¥è°ƒç”¨ done() æ–¹æ³•åˆ¤æ–­å†™æ“ä½œæ˜¯å¦æˆåŠŸå®Œæˆã€‚ è‹¥ channel å·²å…³é—­ï¼Œå†™æ“ä½œä¼šå¤±è´¥ï¼Œæ­¤æ–¹æ³•ç«‹å³è¿”å›ã€‚ #operator&amp;raquo; chan&amp;amp; operator&amp;gt;&amp;gt;(T&amp;amp; x) const; è¯»å–å…ƒç´ ã€‚ æ­¤æ–¹æ³•ä¼šé˜»å¡ï¼Œç›´åˆ°è¯»å–æ“ä½œå®Œæˆæˆ–è¶…æ—¶ã€‚å¯ä»¥è°ƒç”¨ done() æ–¹æ³•åˆ¤æ–­è¯»æ“ä½œæ˜¯å¦æˆåŠŸå®Œæˆã€‚ è‹¥ channel å·²å…³é—­ä¸” channel ä¸­æ— å…ƒç´ å¯è¯»æ—¶ï¼Œè¯»æ“ä½œä¼šå¤±è´¥ï¼Œæ­¤æ–¹æ³•ç«‹å³è¿”å›ã€‚ #ä»£ç ç¤ºä¾‹ #include &amp;#34;co/co.</description>
    </item>
    
    <item>
      <title>fastring</title>
      <link>https://coostdocs.github.io/cn/co/other/fastring/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/other/fastring/</guid>
      <description>include: co/fastring.h.
#fastring fastringÂ æ˜¯ coost æä¾›çš„å­—ç¬¦ä¸²ç±»å‹ï¼Œå®ƒå®ç°äº† std::string ä¸­çš„å¤§éƒ¨åˆ†æ–¹æ³•ï¼ŒåŒæ—¶ä¹Ÿæä¾›äº†ä¸€äº› std::string æ²¡æœ‰çš„æ–¹æ³•ã€‚
#constructor 1. constexpr fastring() noexcept; 2. explicit fastring(size_t cap); 3. fastring(const void* s, size_t n); 4. fastring(const char* s); 5. fastring(const std::string&amp;amp; s); 6. fastring(size_t n, char c); 7. fastring(char c, size_t n); 8. fastring(const fastring&amp;amp; s); 9. fastring(fastring&amp;amp;&amp;amp; s) noexcept; 1, é»˜è®¤æ„é€ å‡½æ•°ï¼Œåˆ›å»ºä¸€ä¸ªç©ºçš„ fastring å¯¹è±¡ï¼Œä¸ä¼šåˆ†é…ä»»ä½•å†…å­˜ã€‚
2, åˆ›å»ºä¸€ä¸ªç©ºçš„ fastring å¯¹è±¡ï¼Œä½†ç”¨å‚æ•° cap æŒ‡å®šåˆå§‹å®¹é‡ï¼Œå³é¢„åˆ†é… cap å­—èŠ‚çš„å†…å­˜ã€‚
3, ç”¨ç»™å®šçš„å­—èŠ‚åºåˆ—åˆ›å»º fastring å¯¹è±¡ï¼Œå‚æ•° n æ˜¯åºåˆ—é•¿åº¦ã€‚</description>
    </item>
    
    <item>
      <title>å†…å­˜åˆ†é…</title>
      <link>https://coostdocs.github.io/cn/co/mem/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/mem/</guid>
      <description>include: co/mem.h.
#co::alloc 1. void* alloc(size_t size); 2. void* alloc(size_t size, size_t align); 1, åˆ†é… size å­—èŠ‚çš„å†…å­˜ã€‚ 2, åˆ†é… size å­—èŠ‚çš„å†…å­˜ï¼Œå†…å­˜è¾¹ç•Œæ˜¯ align å­—èŠ‚å¯¹é½çš„(align &amp;lt;= 1024)ã€‚ ç¬¬ 2 ä¸ªç‰ˆæœ¬ä¸­ï¼Œalign å¿…é¡»æ˜¯ 2 çš„å¹‚ï¼Œä¸”ä¸èƒ½è¶…è¿‡ 1024ã€‚ #co::free void free(void* p, size_t size); é‡Šæ”¾ co::alloc æˆ– co::realloc åˆ†é…çš„å†…å­˜ï¼Œsize æ˜¯æ‰€åˆ†é…å†…å­˜çš„å¤§å°ã€‚ co::free ä¸åŒäºç³»ç»Ÿæä¾›çš„ ::freeï¼Œéœ€è¦é¢å¤–å¸¦ä¸Šä¸€ä¸ª size å‚æ•°ã€‚ #co::realloc void* realloc(void* p, size_t old_size, size_t new_size); é‡æ–°åˆ†é…å†…å­˜ï¼Œold_size æ˜¯ä¹‹å‰çš„å†…å­˜å¤§å°ï¼Œnew_size æ˜¯æ–°çš„å¤§å°ï¼Œåè€…å¿…é¡»å¤§äºå‰è€…ã€‚ #co::zalloc void* zalloc(size_t size); åˆ†é… size å­—èŠ‚çš„å†…å­˜ï¼Œå¹¶å°†å†…å­˜æ¸…é›¶ã€‚ #&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; #co::make template&amp;lt;typename T, typename.</description>
    </item>
    
    <item>
      <title>ç½‘ç»œç¼–ç¨‹æ¨¡å¼</title>
      <link>https://coostdocs.github.io/cn/co/net/mode/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/net/mode/</guid>
      <description>#åŸºäºåç¨‹çš„ç½‘ç»œç¼–ç¨‹æ¨¡å¼ åç¨‹å¯ä»¥ç”¨åŒæ­¥çš„æ–¹å¼ï¼Œå®ç°é«˜å¹¶å‘ã€é«˜æ€§èƒ½çš„ç½‘ç»œç¨‹åºã€‚åç¨‹è™½ç„¶ä¼šé˜»å¡ï¼Œä½†è°ƒåº¦çº¿ç¨‹å¯ä»¥åœ¨å¤§é‡çš„åç¨‹é—´å¿«é€Ÿåˆ‡æ¢ï¼Œå› æ­¤è¦å®ç°é«˜å¹¶å‘ï¼Œåªéœ€è¦åˆ›å»ºå¤§é‡çš„åç¨‹å³å¯ã€‚
ä»¥ TCP ç¨‹åºä¸ºä¾‹ï¼ŒæœåŠ¡ç«¯ä¸€èˆ¬é‡‡ç”¨ä¸€ä¸ªè¿æ¥ä¸€ä¸ªåç¨‹çš„æ¨¡å¼ï¼Œä¸ºæ¯ä¸ªå®¢æˆ·ç«¯è¿æ¥åˆ›å»ºæ–°çš„åç¨‹ï¼Œåœ¨åç¨‹ä¸­å¤„ç†è¿æ¥ä¸Šçš„æ•°æ®ã€‚å®¢æˆ·ç«¯æ²¡å¿…è¦ä¸€ä¸ªè¿æ¥ä¸€ä¸ªåç¨‹ï¼Œä¸€èˆ¬ä½¿ç”¨è¿æ¥æ± ï¼Œå¤šä¸ªåç¨‹å…±ç”¨è¿æ¥æ± ä¸­çš„è¿æ¥ã€‚
#æœåŠ¡ç«¯ç½‘ç»œæ¨¡å‹ void on_connection(int fd) { while (true) { co::recv(fd, ...); // recv request from client process(...); // process the request co::send(fd, ...); // send response to client } } void server_fun() { while (true) { int fd = co::accept(...); if (fd != -1) go(on_connection, fd); } } go(server_fun); æœåŠ¡ç«¯é‡‡ç”¨ä¸€ä¸ªè¿æ¥ä¸€ä¸ªåç¨‹çš„æ¨¡å‹ã€‚ åœ¨ä¸€ä¸ªåç¨‹ä¸­ï¼Œè°ƒç”¨ co::accept()Â æ¥å—å®¢æˆ·ç«¯è¿æ¥ã€‚ æœ‰è¿æ¥åˆ°æ¥æ—¶ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„åç¨‹ï¼Œåœ¨åç¨‹ä¸­å¤„ç†è¿æ¥ä¸Šçš„æ•°æ®ã€‚ on_connection()Â æ˜¯å¤„ç†è¿æ¥çš„åç¨‹å‡½æ•°ï¼Œæ¥æ”¶ã€å¤„ç†ä¸å‘é€æ•°æ®ï¼Œåœ¨è¯¥åç¨‹ä¸­ä»¥å®Œå…¨åŒæ­¥çš„æ–¹å¼è¿›è¡Œï¼Œä¸éœ€è¦ä»»ä½•å¼‚æ­¥å›è°ƒã€‚ #å®¢æˆ·ç«¯ç½‘ç»œæ¨¡å‹ void client_fun() { while (true) { if (!connected) co::connect(...); // connect to the server co::send(.</description>
    </item>
    
    <item>
      <title>è”ç³»</title>
      <link>https://coostdocs.github.io/cn/about/contact/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/about/contact/</guid>
      <description>è”ç³»æ–¹å¼
Email: idealvin at qq.com github: https://github.com/idealvin/coost gitee: https://gitee.com/idealvin/coost zhihu: idealvin </description>
    </item>
    
    <item>
      <title>fastream</title>
      <link>https://coostdocs.github.io/cn/co/other/fastream/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/other/fastream/</guid>
      <description>include: co/fastream.h.
#fastream fastreamÂ ç”¨äºå–ä»£ C++ æ ‡å‡†åº“ä¸­çš„ std::ostringstreamã€‚std::ostringstream æ€§èƒ½è¾ƒå·®ï¼Œå®æµ‹æ¯” snprintf æ…¢å¥½å‡ å€ï¼Œfastream åœ¨ä¸åŒå¹³å°æµ‹è¯•æ¯” snprintf å¿« 10~30 å€å·¦å³ã€‚
#constructor 1. constexpr fastream() noexcept; 2. explicit fastream(size_t cap); 3. fastream(fastream&amp;amp;&amp;amp; s) noexcept; 1, é»˜è®¤æ„é€ å‡½æ•°ï¼Œåˆ›å»ºä¸€ä¸ªç©ºçš„ fastream å¯¹è±¡ï¼Œå†…éƒ¨ä¸ä¼šåˆ†é…ä»»ä½•å†…å­˜ã€‚
2, ç”¨å‚æ•° cap æŒ‡å®š fastream çš„åˆå§‹å®¹é‡ï¼Œå³é¢„åˆ†é… cap å­—èŠ‚çš„å†…å­˜ã€‚
3, ç§»åŠ¨æ„é€ å‡½æ•°ï¼Œä¸ä¼šè¿›è¡Œå†…å­˜æ‹·è´ã€‚
ç¤ºä¾‹
fastream s; // ç©ºå¯¹è±¡, æœªåˆ†é…å†…å­˜ fastream s(1024); // é¢„åˆ†é… 1k å†…å­˜ fastream x(std::move(s)); // ç§»åŠ¨æ„é€ , s å˜æˆç©ºå¯¹è±¡ #operator= fastream&amp;amp; operator=(fastream&amp;amp;&amp;amp; s) noexcept; fastream åªæ”¯æŒ move èµ‹å€¼æ“ä½œï¼Œs çš„å†…å®¹è¢«è½¬ç§»åˆ° fastream ä¸­ï¼Œs è‡ªèº«å˜æˆç©ºå¯¹è±¡ã€‚</description>
    </item>
    
    <item>
      <title>ä½¿ç”¨ä¸‰æ–¹ç½‘ç»œåº“</title>
      <link>https://coostdocs.github.io/cn/co/net/third/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/net/third/</guid>
      <description>#åç¨‹ä¸­ä½¿ç”¨ä¸‰æ–¹ç½‘ç»œåº“ åœ¨åç¨‹ä¸­ä½¿ç”¨ä¸‰æ–¹ç½‘ç»œåº“æœ‰ä¸¤ç§æ–¹å¼ï¼š
ç›´æ¥ä½¿ç”¨ä¸‰æ–¹ç½‘ç»œåº“çš„é˜»å¡ APIï¼Œæ­¤æ–¹å¼æœ€ç®€å•ï¼Œä¾èµ–äº co å†…éƒ¨çš„ç³»ç»Ÿ API hookã€‚ ä½¿ç”¨ä¸‰æ–¹ç½‘ç»œåº“çš„éé˜»å¡ APIï¼Œæ­¤æ–¹å¼éœ€è¦å€ŸåŠ© co::io_event å°†å…¶è½¬æ¢ä¸ºåŒæ­¥æ–¹å¼ã€‚ #ç³»ç»Ÿ API hook åŸç† API hook ç®€å•æ¥è¯´å°±æ˜¯æ‹¦æˆªç³»ç»Ÿ API è¯·æ±‚ï¼Œå¦‚æœè¯¥è¯·æ±‚æ˜¯åœ¨åç¨‹ä¸­ï¼Œä¸”ä½¿ç”¨ blocking socketï¼Œå°±å°† socket ä¿®æ”¹æˆ non-blocking æ¨¡å¼ï¼Œå½“ socket ä¸å¯è¯»æˆ–å†™æ—¶ï¼Œåˆ©ç”¨ co::io_event æˆ– co ä¸­æ›´åº•å±‚çš„æ¥å£ç­‰å¾… I/O äº‹ä»¶ï¼ŒI/O äº‹ä»¶åˆ°æ¥æ—¶ï¼Œå†å”¤é†’åç¨‹ï¼Œè°ƒç”¨ç³»ç»ŸåŸç”Ÿçš„ socket API å®Œæˆ I/O æ“ä½œã€‚
#ä½¿ç”¨éé˜»å¡ API ä¸‹é¢æ˜¯åŸºäº openssl çš„éé˜»å¡ API å®ç°çš„ recv æ–¹æ³•ï¼š
int recv(S* s, void* buf, int n, int ms) { CHECK(co::sched()) &amp;lt;&amp;lt; &amp;#34;must be called in coroutine..&amp;#34;; int r, e; int fd = SSL_get_fd((SSL*)s); if (fd &amp;lt; 0) return -1; do { ERR_clear_error(); r = SSL_read((SSL*)s, buf, n); if (r &amp;gt; 0) return r; // success if (r == 0) return 0; e = SSL_get_error((SSL*)s, r); if (e == SSL_ERROR_WANT_READ) { co::io_event ev(fd, co::ev_read); if (!</description>
    </item>
    
    <item>
      <title>åŒæ­¥äº‹ä»¶</title>
      <link>https://coostdocs.github.io/cn/co/concurrency/coroutine/event/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/concurrency/coroutine/event/</guid>
      <description>include: co/co.h.
#co::event co::eventÂ æ˜¯åç¨‹é—´çš„ä¸€ç§åŒæ­¥æœºåˆ¶ï¼Œå®ƒä¸çº¿ç¨‹ä¸­çš„ co::sync_eventÂ ç±»ä¼¼ã€‚
ä» v2.0.1 ç‰ˆæœ¬å¼€å§‹ï¼Œco::event å¯ä»¥åœ¨åç¨‹ä¸éåç¨‹ä¸­ä½¿ç”¨ã€‚ #constructor 1. explicit event(bool manual_reset=false, bool signaled=false); 2. event(event&amp;amp;&amp;amp; e); 3. event(const event&amp;amp; e); 1, ä¸çº¿ç¨‹ä¸­çš„ co::sync_event ç±»ä¼¼ã€‚ 2, ç§»åŠ¨æ„é€ å‡½æ•°ã€‚ 3, æ‹·è´æ„é€ å‡½æ•°ï¼Œä»…å°†å†…éƒ¨å¼•ç”¨è®¡æ•°åŠ  1ã€‚ #reset void reset() const; å°†äº‹ä»¶é‡ç½®ä¸ºæœªåŒæ­¥çŠ¶æ€ã€‚ #signal void signal() const; äº§ç”ŸåŒæ­¥ä¿¡å·ï¼Œå°†äº‹ä»¶è®¾ç½®æˆåŒæ­¥çŠ¶æ€ã€‚ æ‰€æœ‰ waiting çŠ¶æ€çš„åç¨‹æˆ–çº¿ç¨‹ä¼šè¢«å”¤é†’ã€‚è‹¥å½“å‰å¹¶æ²¡æœ‰ waiting çŠ¶æ€çš„åç¨‹æˆ–çº¿ç¨‹ï¼Œåˆ™ä¸‹ä¸€ä¸ªè°ƒç”¨ wait() æ–¹æ³•çš„åç¨‹æˆ–çº¿ç¨‹ä¼šç«‹å³è¿”å›ã€‚ #wait 1. void wait() const; 2. bool wait(uint32 ms) const; 1, ç­‰å¾…ç›´åˆ°äº‹ä»¶å˜æˆåŒæ­¥çŠ¶æ€ã€‚ 2, ç­‰å¾…ç›´åˆ°äº‹ä»¶å˜æˆåŒæ­¥çŠ¶æ€æˆ–è¶…æ—¶ã€‚å‚æ•° ms æŒ‡å®šè¶…æ—¶æ—¶é—´ï¼Œå•ä½ä¸ºæ¯«ç§’ã€‚è‹¥äº‹ä»¶å˜æˆåŒæ­¥çŠ¶æ€ï¼Œè¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚ å½“æ„é€ å‡½æ•°ä¸­ manual_reset ä¸º false æ—¶ï¼Œwait() ç»“æŸæ—¶ä¼šè‡ªåŠ¨å°†äº‹ä»¶è®¾ç½®æˆæœªåŒæ­¥çŠ¶æ€ã€‚ #ä»£ç ç¤ºä¾‹ #include &amp;#34;co/co.</description>
    </item>
    
    <item>
      <title>èµåŠ©ğŸ’•</title>
      <link>https://coostdocs.github.io/cn/about/sponsor/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/about/sponsor/</guid>
      <description>#èµåŠ© coost æ˜¯ä¸ªäººé¡¹ç›®ï¼Œå¦‚æœæ‚¨æœ‰æ„å‘èµåŠ© coostï¼Œå¯ä»¥è”ç³» Alvin(idealvin at qq.com)ï¼Œæˆ‘ä»¬å°†ä¼šåœ¨è¿™é‡Œå±•ç¤ºæ‚¨çš„ logoã€ç½‘å€ç­‰ä¿¡æ¯ã€‚éå¸¸æ„Ÿè°¢ã€‚
æˆ‘ä»¬ä¹Ÿæä¾›é¢å‘ä¼ä¸šç”¨æˆ·çš„ä»˜è´¹æœåŠ¡ï¼Œä¼ä¸šç”¨æˆ·å¯é€‰æ‹©æ”¯ä»˜ 7000ï¿¥/å¹´æˆ– 5000ï¿¥/å¹´ï¼Œå³å¯äº«å—ä¸åŒç¨‹åº¦çš„ coost ç›¸å…³çš„æŠ€æœ¯æ”¯æŒä¸å’¨è¯¢æœåŠ¡ã€‚ #å’–å•¡ å¦‚æœæ‚¨å–œæ¬¢ coostï¼Œä¹Ÿå¯ä»¥è€ƒè™‘ç»™ä½œè€…æ¥æ¯å’–å•¡ï¼Œéå¸¸æ„Ÿè°¢ã€‚</description>
    </item>
    
    <item>
      <title>é…ç½®</title>
      <link>https://coostdocs.github.io/cn/co/flag/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/flag/</guid>
      <description>include: co/flag.h.
#åŸºæœ¬æ¦‚å¿µ co.flag æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå‚æ•°åŠé…ç½®æ–‡ä»¶è§£æåº“ï¼Œå…¶åŸç†å¾ˆç®€å•ï¼Œä»£ç ä¸­å®šä¹‰å…¨å±€å˜é‡ï¼Œç„¶ååœ¨ç¨‹åºå¯åŠ¨æ—¶è§£æå‘½ä»¤è¡Œå‚æ•°æˆ–é…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹è¿™äº›å…¨å±€å˜é‡çš„å€¼ã€‚
#flag å˜é‡ co.flag ä¸­çš„å®å®šä¹‰çš„å…¨å±€å˜é‡ï¼Œç§°ä¸º flag å˜é‡ã€‚å¦‚ä¸‹é¢çš„ä»£ç å®šä¹‰äº†ä¸€ä¸ª flag å˜é‡ï¼Œå˜é‡åæ˜¯ FLG_xã€‚
DEF_int32(x, 0, &amp;#34;xxx&amp;#34;); // int32 FLG_x = 0; co.flag æ”¯æŒ 7 ç§ç±»å‹çš„ flag å˜é‡ï¼š
bool, int32, int64, uint32, uint64, double, string æ¯ä¸ª flag å˜é‡éƒ½æœ‰ä¸€ä¸ªé»˜è®¤å€¼ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œå‚æ•°æˆ–é…ç½®æ–‡ä»¶ä¿®æ”¹ flag å˜é‡çš„å€¼ã€‚å¦‚å‰é¢å®šä¹‰çš„ FLG_xï¼Œåœ¨å‘½ä»¤è¡Œä¸­å¯ä»¥ç”¨ -x=23ï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­å¯ä»¥ç”¨ x = 23ï¼Œè®¾ç½®ä¸€ä¸ªæ–°çš„å€¼ã€‚
#command line flag å‘½ä»¤è¡Œå‚æ•°ä¸­ï¼Œä»¥ -x=y çš„å½¢å¼å‡ºç°ï¼Œå…¶ä¸­ x è¢«ç§°ä¸ºä¸€ä¸ª command line flag(ä»¥ä¸‹ç®€ç§°ä¸º flag)ã€‚å‘½ä»¤è¡Œä¸­çš„ flag xÂ å¯¹åº”ä»£ç ä¸­çš„å…¨å±€å˜é‡ FLG_xï¼Œå‘½ä»¤è¡Œä¸­çš„ -x=yÂ å°±ç›¸å½“äºå°† FLG_xÂ çš„å€¼è®¾ç½®ä¸º yã€‚ä¸ºäº†æ–¹ä¾¿ï¼Œä¸‹é¢å¯èƒ½å°† flag ä¸ flag å˜é‡ç»Ÿä¸€ç§°ä¸º flagã€‚</description>
    </item>
    
    <item>
      <title>IO äº‹ä»¶</title>
      <link>https://coostdocs.github.io/cn/co/concurrency/coroutine/io_event/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/concurrency/coroutine/io_event/</guid>
      <description>include: co/co.h.
#co::_ev_t enum _ev_t { ev_read = 1, ev_write = 2, }; I/O äº‹ä»¶ç±»å‹ï¼Œev_read è¡¨ç¤ºè¯»ï¼Œev_write è¡¨ç¤ºå†™ã€‚ #co::io_event co::io_eventÂ ç”¨äºå°†éé˜»å¡ I/O è½¬æ¢ä¸ºåŒæ­¥æ–¹å¼ã€‚ç”¨æˆ·åœ¨åç¨‹ä¸­å¯¹ä¸€ä¸ª non-blocking socket è¿›è¡Œ I/O æ“ä½œï¼Œå½“ socket ä¸å¯è¯»æˆ–ä¸å¯å†™æ—¶ï¼Œç”¨æˆ·è°ƒç”¨ co::io_event çš„ wait()Â æ–¹æ³•æŒ‚èµ·åç¨‹ï¼Œç­‰å¾… I/O äº‹ä»¶ï¼›å½“ socket å˜ä¸ºå¯è¯»æˆ–å¯å†™æ—¶ï¼Œè°ƒåº¦çº¿ç¨‹å”¤é†’è¯¥åç¨‹ï¼Œç»§ç»­ I/O æ“ä½œã€‚
#constructor 1. io_event(sock_t fd, _ev_t ev); 2. io_event(sock_t fd, int n=0); // for windows only 1, å‚æ•° fd æ˜¯ä¸€ä¸ª non-blocking socketï¼Œå‚æ•° ev æ˜¯ ev_read æˆ– ev_write ä¸­çš„ä¸€ç§ã€‚è°ƒç”¨ wait() æ–¹æ³•ä¼šåœ¨ socket ä¸Šç­‰å¾… ev æŒ‡å®šçš„ I/O äº‹ä»¶ï¼Œwait() æˆåŠŸè¿”å›æ—¶ï¼Œéœ€è¦ç”¨æˆ·è°ƒç”¨ recv, send ç­‰å‡½æ•°å®Œæˆ I/O æ“ä½œã€‚åœ¨ windows å¹³å°ï¼Œfd å¿…é¡»æ˜¯ TCP socket(å¯¹äº UDPï¼Œå¾ˆéš¾ç”¨ IOCP æ¨¡æ‹Ÿ epoll æˆ– kqueue çš„è¡Œä¸º)ã€‚ 2, ä»…é€‚ç”¨äº windowsï¼Œfd å¯ä»¥æ˜¯ UDP socketï¼Œä½†ç”¨æˆ·éœ€è¦æ‰‹åŠ¨è°ƒç”¨ WSARecvFrom, WSASendTo ç­‰å‡½æ•°å‘ IOCP å‘é€ overlapped I/O è¯·æ±‚ï¼Œç„¶åè°ƒç”¨ wait() æ–¹æ³•ï¼Œå½“ wait() æˆåŠŸè¿”å›æ—¶ï¼Œè¡¨ç¤º IOCP å·²ç»å¸®ç”¨æˆ·å®Œæˆäº† I/O æ“ä½œã€‚å…·ä½“çš„ç”¨æ³•æ­¤å¤„ä¸è¯¦è¿°ï¼Œä»£ç ä¸­æœ‰è¯¦ç»†çš„æ³¨é‡Šï¼Œå»ºè®®ç›´æ¥å‚è€ƒ co::io_event çš„æºç ï¼Œä»¥åŠ windows ä¸Š co::accept, co::connect, co::recvfrom, co::sendto çš„å®ç°ã€‚ #destructor ~io_event(); ææ„å‡½æ•°ï¼Œä» epoll æˆ– kqueue ä¸­ç§»é™¤ä¹‹å‰æ³¨å†Œçš„ I/O äº‹ä»¶ã€‚ #wait bool wait(uint32 ms=-1); æ­¤æ–¹æ³•ç­‰å¾… socket ä¸Šçš„ I/O äº‹ä»¶ï¼Œå‚æ•° ms æ˜¯è¶…æ—¶æ—¶é—´ï¼Œå•ä½ä¸ºæ¯«ç§’ï¼Œé»˜è®¤ä¸º -1ï¼Œæ°¸ä¸è¶…æ—¶ã€‚ æ­¤æ–¹æ³•é˜»å¡ï¼Œç›´åˆ° I/O äº‹ä»¶åˆ°æ¥ï¼Œæˆ–è€…è¶…æ—¶ã€å‘ç”Ÿé”™è¯¯ã€‚ æ­¤æ–¹æ³•æˆåŠŸæ—¶è¿”å› trueï¼Œè¶…æ—¶æˆ–å‘ç”Ÿé”™è¯¯æ—¶è¿”å› falseã€‚ #ä»£ç ç¤ºä¾‹ int recv(sock_t fd, void* buf, int n, int ms) { const auto sched = xx::gSched; CHECK(sched) &amp;lt;&amp;lt; &amp;#34;must be called in coroutine.</description>
    </item>
    
    <item>
      <title>STL</title>
      <link>https://coostdocs.github.io/cn/co/other/stl/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/other/stl/</guid>
      <description>include: co/stl.h.
#å¸¸ç”¨å®¹å™¨ ä¸‹è¡¨ä¸­ï¼Œå·¦è¾¹ coost ä¸­çš„å®¹å™¨ä¸å³è¾¹ç›¸åº”çš„ std ç‰ˆæœ¬æ˜¯ç­‰ä»·çš„ï¼Œä»…å†…éƒ¨çš„å†…å­˜åˆ†é…å™¨ä¸åŒã€‚
coost std co::deque std::deque co::list std::list co::map std::map co::set std::set co::multimap std::multimap co::multiset std::multiset co::hash_map std::unordered_map co::hash_set std::unordered_set å½“ key ä¸º const char* ç±»å‹(å³ C é£æ ¼å­—ç¬¦ä¸²)æ—¶ï¼Œco::map, co::set, co::multimap, co::multiset, co::hash_map, co::hash_set ä¼šæ ¹æ®å­—ç¬¦ä¸²å†…å®¹æ¯”è¾ƒ key åŠè®¡ç®— key çš„ hash å€¼ã€‚ #co::lru_map template&amp;lt;typename K, typename V&amp;gt; class lru_map; co::lru_mapÂ æ˜¯åŸºäº LRU (least recently used) ç­–ç•¥å®ç°çš„ mapï¼Œå½“ map ä¸­å…ƒç´ æ•°é‡è¾¾åˆ°ä¸Šé™æ—¶ï¼Œä¼˜å…ˆæ›¿æ¢æ‰æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„æ•°æ®ã€‚å®ƒåŸºäº co::hash_map ä¸ co::list å®ç°ï¼Œå†…éƒ¨å…ƒç´ æ˜¯æ— åºçš„ã€‚
#constructor 1. lru_map(); 2.</description>
    </item>
    
    <item>
      <title>TCP</title>
      <link>https://coostdocs.github.io/cn/co/net/tcp/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/net/tcp/</guid>
      <description>include: co/tcp.h.
#tcp::Connection tcp::Connection ç±»æ˜¯å¯¹ TCP è¿æ¥çš„ç®€å•å°è£…ï¼Œç”¨äºå®ç° TCP serverï¼Œå®¢æˆ·ç«¯ä¸éœ€è¦ç”¨è¿™ä¸ªç±»ã€‚å½“æœåŠ¡ç«¯å¯ç”¨ SSL æ—¶ï¼Œtcp::Connection ä¼šç”¨ SSL ä¼ è¾“æ•°æ®ã€‚
#Connection::Connection Connection(int sock); Connection(void* ssl); Connection(Connection&amp;amp;&amp;amp; c); æ„é€ å‡½æ•°ï¼ŒConnection ç”± tcp::Server åˆ›å»ºï¼Œç”¨æˆ·ä¸éœ€è¦æ‰‹åŠ¨åˆ›å»ºã€‚ ç¬¬ 1 ä¸ªç‰ˆæœ¬æ„é€ ä¸€èˆ¬çš„ TCP è¿æ¥ï¼Œç¬¬ 2 ä¸ªç‰ˆæœ¬æ„é€ ä½¿ç”¨ SSL ä¼ è¾“æ•°æ®çš„ TCP è¿æ¥ï¼Œç¬¬ 3 ä¸ªæ˜¯ç§»åŠ¨æ„é€ å‡½æ•°ã€‚ ä» v2.0.2 å¼€å§‹ï¼Œç”¨æˆ·ä¸èƒ½ç»§æ‰¿ Connection ç±»ã€‚ #Connection::~Connection Connection::~Connection(); ææ„å‡½æ•°ï¼Œè°ƒç”¨ close() å…³é—­è¿æ¥ã€‚ #Connection::close int close(int ms = 0); å…³é—­è¿æ¥ï¼Œå‚æ•° ms &amp;gt; 0 æ—¶ï¼Œå»¶è¿Ÿä¸€æ®µæ—¶é—´å†å…³é—­è¿æ¥ã€‚ ä» v2.0.1 å¼€å§‹ï¼Œæ­¤æ–¹æ³•å¯ä»¥åœ¨åç¨‹æˆ–éåç¨‹ä¸­è°ƒç”¨ã€‚ #Connection::recv int recv(void* buf, int n, int ms=-1); æ¥æ”¶æ•°æ®ï¼Œä¸ co::recv ç±»ä¼¼ã€‚ æ­¤æ–¹æ³•å¿…é¡»åœ¨åç¨‹ä¸­è°ƒç”¨ã€‚ æ­¤æ–¹æ³•æˆåŠŸæ—¶è¿”å›å€¼ &amp;gt;0ï¼Œè¶…æ—¶æˆ–å‘ç”Ÿé”™è¯¯æ—¶è¿”å›å€¼ &amp;lt;0ï¼Œå¯¹ç«¯å…³é—­è¿æ¥æ—¶è¿”å› 0ã€‚ #Connection::recvn int recvn(void* buf, int n, int ms=-1); æ¥æ”¶æŒ‡å®šé•¿åº¦çš„æ•°æ®ï¼Œä¸ co::recvn ç±»ä¼¼ã€‚ æ­¤æ–¹æ³•æˆåŠŸæ—¶è¿”å› nï¼Œè¶…æ—¶æˆ–å‘ç”Ÿé”™è¯¯æ—¶è¿”å›å€¼ &amp;lt;0ï¼Œå¯¹ç«¯å…³é—­è¿æ¥æ—¶è¿”å› 0ã€‚ #Connection::reset int reset(int ms = 0) é‡ç½® TCP è¿æ¥ï¼Œä¸ close() ä¸åŒï¼Œå®ƒä¸ä¼šè¿›å…¥ TIME_WAIT çŠ¶æ€ã€‚å‚æ•° ms &amp;gt; 0 æ—¶ï¼Œå»¶è¿Ÿä¸€æ®µæ—¶é—´å†é‡ç½®è¿æ¥ã€‚ æ­¤æ–¹æ³•å¿…é¡»åœ¨ I/O çº¿ç¨‹(ä¸€èˆ¬æ˜¯è¿›è¡Œ I/O æ“ä½œçš„åç¨‹)ä¸­è°ƒç”¨ã€‚ #Connection::send int send(const void* buf, int n, int ms=-1); å‘é€æ•°æ®ï¼Œä¸ co::send() ç±»ä¼¼ã€‚ æ­¤æ–¹æ³•æˆåŠŸæ—¶è¿”å› nï¼Œè¶…æ—¶æˆ–å‘ç”Ÿé”™è¯¯æ—¶è¿”å›å€¼ &amp;lt;=0ã€‚ #Connection::socket int socket() const; è¿”å›å†…éƒ¨çš„ socket æè¿°ç¬¦ï¼Œè¿æ¥å·²å…³é—­æ—¶è¿”å› -1ã€‚ #Connection::strerror const char* strerror() const; Connection ä¸­çš„æ–¹æ³•æŠ¥é”™æ—¶ï¼Œå¯ä»¥è°ƒç”¨æ­¤æ–¹æ³•æŸ¥çœ‹é”™è¯¯ä¿¡æ¯ã€‚ #tcp::Server tcp::Server æ˜¯åŸºäºåç¨‹çš„ TCP æœåŠ¡ç«¯ï¼Œå®ƒçš„ç‰¹æ€§å¦‚ä¸‹ï¼š</description>
    </item>
    
    <item>
      <title>æ—¥å¿—</title>
      <link>https://coostdocs.github.io/cn/co/log/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/log/</guid>
      <description>include: co/log.h.
#ç®€ä»‹ co.log æ˜¯ coost æä¾›çš„é«˜æ€§èƒ½æ—¥å¿—åº“ï¼Œæ”¯æŒä¸¤ç§ç±»å‹çš„æ—¥å¿—ï¼Œlevel log ä¸ topic log(TLOG)ï¼Œå®ƒåƒä¸‹é¢è¿™æ ·æ‰“å°æ—¥å¿—ï¼š
LOG &amp;lt;&amp;lt; &amp;#34;hello world&amp;#34; &amp;lt;&amp;lt; 23; // level log TLOG(&amp;#34;topic&amp;#34;) &amp;lt;&amp;lt; &amp;#34;hello&amp;#34; &amp;lt;&amp;lt; 23; // topic log #Level Log Level log åˆ†ä¸º debug, info, warning, error, fatal 5 ä¸ªçº§åˆ«ï¼Œå¹¶æä¾›ä¸€ç³»åˆ—çš„å®ï¼Œç”¨äºæ‰“å°ä¸åŒçº§åˆ«çš„æ—¥å¿—ã€‚
æ‰“å° fatal çº§åˆ«çš„æ—¥å¿—ä¼šç»ˆæ­¢ç¨‹åºçš„è¿è¡Œï¼Œco.log è¿˜ä¼šè¯•å›¾åœ¨ç¨‹åºé€€å‡ºå‰æ‰“å°å‡½æ•°è°ƒç”¨æ ˆä¿¡æ¯ï¼Œä»¥æ–¹ä¾¿æ’æŸ¥ç¨‹åºå´©æºƒçš„åŸå› ã€‚ æ­¤ç±»å‹çš„æ—¥å¿—ä¼šå†™å…¥åŒä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œä¸€èˆ¬ç”¨äºæ‰“å°è°ƒè¯•ä¿¡æ¯ã€‚
#Topic Log Topic log(TLOG) æ²¡æœ‰çº§åˆ«ä¹‹åˆ†ï¼Œè€Œæ˜¯æŒ‰ä¸»é¢˜åˆ†ç±»ã€‚
æ­¤ç±»å‹çš„æ—¥å¿—ï¼ŒæŒ‰ä¸»é¢˜å†™å…¥ä¸åŒçš„æ–‡ä»¶ï¼Œä¸€èˆ¬ç”¨äºæ‰“å°ä¸šåŠ¡æ—¥å¿—ï¼ŒæŒ‰ä¸šåŠ¡åŠŸèƒ½åˆ’åˆ†ï¼Œä¾¿äºæ—¥å¿—ç®¡ç†ã€‚
#æ€§èƒ½ co.log å†…éƒ¨é‡‡ç”¨å¼‚æ­¥çš„å®ç°æ–¹å¼ï¼Œæ—¥å¿—å…ˆå†™å…¥ç¼“å­˜ï¼Œè¾¾åˆ°ä¸€å®šé‡æˆ–è¶…è¿‡ä¸€å®šæ—¶é—´åï¼Œç”±åå°çº¿ç¨‹ä¸€æ¬¡æ€§å†™å…¥æ–‡ä»¶ï¼Œæ€§èƒ½åœ¨ä¸åŒå¹³å°æ¯” glog æå‡äº† 20~150 å€å·¦å³ã€‚ä¸‹è¡¨æ˜¯ä¸åŒå¹³å°å•çº¿ç¨‹è¿ç»­æ‰“å° 100 ä¸‡æ¡(æ¯æ¡ 50 å­—èŠ‚å·¦å³) info æ—¥å¿—çš„æµ‹è¯•ç»“æœï¼š
platform glog co.log win2012 HHD 1.6MB/s 180MB/s win10 SSD 3.</description>
    </item>
    
    <item>
      <title>HTTP</title>
      <link>https://coostdocs.github.io/cn/co/net/http/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/net/http/</guid>
      <description>include: co/http.h.
#http::Client http::Client æ˜¯åŸºäºåç¨‹çš„ http å®¢æˆ·ç«¯ï¼Œå®ƒåŸºäº libcurl å®ç°ã€‚
#Client::Client explicit Client(const char* serv_url); æ„é€ å‡½æ•°ï¼Œå‚æ•° serv_url æ˜¯æœåŠ¡å™¨çš„ url åœ°å€ï¼Œå®ƒçš„å½¢å¼æ˜¯ protocol://host:portï¼Œä¸‹é¢çš„ server url éƒ½æ˜¯åˆç†çš„ï¼š &amp;ldquo;github.com&amp;rdquo; &amp;ldquo;https://github.com&amp;rdquo; &amp;ldquo;http://127.0.0.1:7788&amp;rdquo; &amp;ldquo;http://[::1]:8888&amp;rdquo; http::Client å¯¹è±¡åˆ›å»ºæ—¶ï¼Œå¹¶ä¸ä¼šç«‹å³å»ºç«‹è¿æ¥ã€‚ #Client::~Client Client::~Client(); ææ„å‡½æ•°ï¼Œå…³é—­è¿æ¥ï¼Œé‡Šæ”¾ libcurl ç›¸å…³èµ„æºã€‚ #Client::add_header void add_header(const char* key, const char* val); void add_header(const char* key, int val); æ·»åŠ  HTTP å¤´éƒ¨ï¼Œç”¨æˆ·åœ¨è¿›è¡Œ HTTP è¯·æ±‚å‰ï¼Œå¯ä»¥ç”¨æ­¤æ–¹æ³•æ·»åŠ å¤´éƒ¨ï¼Œè¿™äº›å¤´éƒ¨ä¼šè‡ªåŠ¨æ·»åŠ åˆ°åç»­æ‰€æœ‰è¯·æ±‚ä¸­ã€‚ ç¬¬ 2 ä¸ªç‰ˆæœ¬ä¸­ï¼Œå‚æ•° val æ˜¯æ•´æ•°ï¼Œå†…éƒ¨è‡ªåŠ¨è½¬æ¢æˆå­—ç¬¦ä¸²ã€‚ #Client::body const fastring&amp;amp; body() const; è·å–å½“å‰ HTTP è¯·æ±‚çš„å“åº”ä½“ã€‚ #Client::close void close(); å…³é—­ HTTP è¿æ¥ï¼Œä¸€èˆ¬éœ€è¦åœ¨åç¨‹ä¸­è°ƒç”¨æ­¤æ–¹æ³•ã€‚ è°ƒç”¨æ­¤æ–¹æ³•åï¼Œhttp::Client å¯¹è±¡å°±ä¸èƒ½å†ç”¨äº†ï¼Œç›´åˆ°ç”¨æˆ·è°ƒç”¨ reset() æ–¹æ³•é‡ç½® server urlã€‚ #Client::del void del(const char* url, const char* s, size_t n); void del(const char* url, const char* s); void del(const char* url); HTTP DELETE è¯·æ±‚ï¼Œå¿…é¡»åœ¨åç¨‹ä¸­è°ƒç”¨ã€‚ å‚æ•° url å¿…é¡»æ˜¯ &#39;/&#39; å¼€å¤´çš„å­—ç¬¦ä¸²ã€‚ å‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Œé€‚ç”¨äºå¸¦ body éƒ¨åˆ†çš„ DELETE è¯·æ±‚ï¼Œå‚æ•° s æ˜¯ bodyï¼Œn æ˜¯ s çš„é•¿åº¦ï¼Œç¬¬ 2 ä¸ªç‰ˆæœ¬ s ä»¥ &amp;lsquo;\0&amp;rsquo; ç»“å°¾ã€‚ ç¬¬ 3 ä¸ªç‰ˆæœ¬é€‚ç”¨äºä¸å¸¦ body çš„ DELETE è¯·æ±‚ã€‚ #Client::easy_handle void* easy_handle() const; è¿”å› libcurl çš„ easy handleã€‚ #Client::get void get(const char* url); HTTP GET è¯·æ±‚ï¼Œå¿…é¡»åœ¨åç¨‹ä¸­è°ƒç”¨ã€‚ å‚æ•° url å¿…é¡»æ˜¯ &#39;/&#39; å¼€å¤´çš„å­—ç¬¦ä¸²ã€‚ #Client::head void head(const char* url); HTTP HEAD è¯·æ±‚ï¼Œå¿…é¡»åœ¨åç¨‹ä¸­è°ƒç”¨ã€‚ å‚æ•° url å¿…é¡»æ˜¯ / å¼€å¤´çš„å­—ç¬¦ä¸²ã€‚ #Client::header const char* header(const char* key); const fastring&amp;amp; header() const; ç¬¬ 1 ä¸ªç‰ˆæœ¬è·å–å½“å‰ HTTP å“åº”ä¸­ header çš„å€¼ï¼Œheader ä¸å­˜åœ¨æ—¶ï¼Œè¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚</description>
    </item>
    
    <item>
      <title>string utility</title>
      <link>https://coostdocs.github.io/cn/co/other/str/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/other/str/</guid>
      <description>include: co/str.h.
#å­—ç¬¦ä¸²æ“ä½œ #str::cat template&amp;lt;typename ...X&amp;gt; inline fastring cat(X&amp;amp;&amp;amp; ...x); v2.0.3 æ–°å¢ï¼Œå°†ä»»æ„æ•°é‡çš„å…ƒç´ è¿æ¥ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ã€‚
ç¤ºä¾‹
str::cat(&amp;#34;hello&amp;#34;, &amp;#39; &amp;#39;, 23); // -&amp;gt; &amp;#34;hello 23&amp;#34; str::cat(&amp;#34;xx&amp;#34;, 3.14, &amp;#34;true&amp;#34;); // -&amp;gt; &amp;#34;xx3.14true&amp;#34; #str::replace fastring replace(const char* s, size_t n, const char* sub, size_t m, const char* to, size_t l, size_t t=0); fastring replace(const char* s, size_t n, const char* sub, const char* to, size_t t=0); fastring replace(const char* s, const char* sub, const char* to, size_t t=0); fastring replace(const fastring&amp;amp; s, const char* sub, const char* to, size_t t=0); fastring replace(const std::string&amp;amp; s, const char* sub, const char* to, size_t t=0); å°†å­—ç¬¦ä¸² s ä¸­çš„å­ä¸² sub æ›¿æ¢ä¸º toï¼Œn æ˜¯ s çš„é•¿åº¦ï¼Œm æ˜¯ sub çš„é•¿åº¦ï¼Œl æ˜¯ to çš„é•¿åº¦ï¼›t æ˜¯æœ€å¤§æ›¿æ¢æ¬¡æ•°ï¼Œé»˜è®¤ä¸º 0 ä¸é™æ¬¡æ•°ã€‚</description>
    </item>
    
    <item>
      <title>äº’æ–¥é”</title>
      <link>https://coostdocs.github.io/cn/co/concurrency/coroutine/mutex/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/concurrency/coroutine/mutex/</guid>
      <description>include: co/co.h.
#co::mutex ä» v3.0.1 å¼€å§‹ï¼Œco::mutex å¯ä»¥åœ¨åç¨‹ä¸éåç¨‹ä¸­ä½¿ç”¨ã€‚ #constructor 1. mutex(); 2. mutex(mutex&amp;amp;&amp;amp; m); 3. mutex(const mutex&amp;amp; m); 1, é»˜è®¤æ„é€ å‡½æ•°ã€‚ 2, ç§»åŠ¨æ„é€ å‡½æ•°ã€‚ 3, æ‹·è´æ„é€ å‡½æ•°ï¼Œä»…å°†å†…éƒ¨å¼•ç”¨è®¡æ•°åŠ  1ã€‚ #lock void lock() const; è·å–é”ï¼Œé˜»å¡ç›´åˆ°è·å¾—é”ä¸ºæ­¢ã€‚ #try_lock bool try_lock() const; è·å–é”ï¼Œä¸ä¼šé˜»å¡ï¼ŒæˆåŠŸè·å–é”æ—¶è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚ #unlock void unlock() const; é‡Šæ”¾é”ï¼Œä¸€èˆ¬ç”±ä¹‹å‰è·å¾—é”çš„åç¨‹æˆ–çº¿ç¨‹è°ƒç”¨ã€‚ #co::mutex_guard #constructor explicit mutex_guard(co::mutex&amp;amp; m); explicit mutex_guard(co::mutex* m); æ„é€ å‡½æ•°ï¼Œè°ƒç”¨ m.lock() è·å–é”ï¼Œå‚æ•° m æ˜¯ co::mutexÂ ç±»çš„å¼•ç”¨æˆ–æŒ‡é’ˆã€‚ #destructor ~mutex_guard(); ææ„å‡½æ•°ï¼Œé‡Šæ”¾æ„é€ å‡½æ•°ä¸­è·å¾—çš„é”ã€‚ #ä»£ç ç¤ºä¾‹ #include &amp;#34;co/co.h&amp;#34; #include &amp;#34;co/cout.h&amp;#34; co::mutex g_m; int g_v = 0; void f() { co::mutex_guard g(g_m); ++g_v; } int main(int argc, char** argv) { flag::parse(argc, argv); go(f); go(f); f(); f(); co::sleep(100); co::print(&amp;#34;g_v: &amp;#34;, g_v); return 0; } </description>
    </item>
    
    <item>
      <title>å•å…ƒæµ‹è¯•</title>
      <link>https://coostdocs.github.io/cn/co/unitest/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/unitest/</guid>
      <description>include: co/unitest.h.
#åŸºæœ¬æ¦‚å¿µ co.unitest æ˜¯ä¸€ä¸ªå•å…ƒæµ‹è¯•æ¡†æ¶ï¼Œä¸ google gtest ç±»ä¼¼ï¼Œä½†æ›´ç®€å•æ˜“ç”¨ã€‚
#æµ‹è¯•å•å…ƒä¸æµ‹è¯•ç”¨ä¾‹ ä¸€ä¸ªæµ‹è¯•ç¨‹åºå¯ä»¥æŒ‰åŠŸèƒ½æˆ–æ¨¡å—åˆ’åˆ†ä¸ºå¤šä¸ªæµ‹è¯•å•å…ƒï¼Œæ¯ä¸ªæµ‹è¯•å•å…ƒä¸‹é¢å¯ä»¥æœ‰å¤šä¸ªæµ‹è¯•ç”¨ä¾‹ã€‚å¦‚å¯ä»¥ç»™ C++ ä¸­çš„ä¸€ä¸ªç±»(æˆ–æ¨¡å—)å®šä¹‰ä¸€ä¸ªæµ‹è¯•å•å…ƒï¼Œç±»(æˆ–æ¨¡å—)ä¸­çš„æ¯ä¸ªæ–¹æ³•å®šä¹‰ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ã€‚
DEF_test(test_name) { DEF_case(a) { // write test code here } DEF_case(b) { // write test code here } } ä¸Šé¢çš„ä¾‹å­ä¸­ï¼ŒDEF_testÂ å®šä¹‰äº†ä¸€ä¸ªæµ‹è¯•å•å…ƒ(å®é™…ä¸Šå°±æ˜¯å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°)ï¼ŒDEF_caseÂ åˆ™å®šä¹‰äº†æµ‹è¯•ç”¨ä¾‹ï¼Œä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹å°±ç›¸å½“äºå‡½æ•°å†…çš„ä¸€ä¸ªä»£ç å—ã€‚
#DEF_test #define DEF_test(_name_) \ DEF_bool(_name_, false, &amp;#34;enable this test if true&amp;#34;); \ ... \ void _co_ut_##_name_(unitest::xx::Test&amp;amp; _t_) DEF_testÂ å®ç”¨äºå®šä¹‰æµ‹è¯•å•å…ƒï¼Œå‚æ•° _name_Â æ˜¯æµ‹è¯•å•å…ƒçš„åå­—ã€‚ å®çš„ç¬¬ä¸€è¡Œå®šä¹‰äº†ä¸€ä¸ª bool ç±»å‹çš„ flag å˜é‡ï¼Œæ˜¯è¯¥æµ‹è¯•å•å…ƒçš„å¼€å…³ã€‚å¦‚ DEF_test(os)Â å®šä¹‰äº†ä¸€ä¸ªæµ‹è¯•å•å…ƒ osï¼Œå‘½ä»¤è¡Œå‚æ•°ä¸­å¯ä»¥ç”¨ -osÂ æŒ‡å®šè¿è¡Œ os ä¸­çš„æµ‹è¯•ä»£ç  å®çš„æœ€åä¸€è¡Œå®šä¹‰æµ‹è¯•å•å…ƒå¯¹åº”çš„å‡½æ•°ã€‚ #DEF_case #define DEF_case(name) \ _t_.</description>
    </item>
    
    <item>
      <title>RPC</title>
      <link>https://coostdocs.github.io/cn/co/net/rpc/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/net/rpc/</guid>
      <description>include: co/rpc.h.
coost å®ç°äº†ä¸€ä¸ªåŸºäºåç¨‹çš„ RPC æ¡†æ¶ï¼Œå®ƒå†…éƒ¨ä½¿ç”¨ JSON æ ¼å¼ä¼ è¾“æ•°æ®ï¼Œä¸ä½¿ç”¨ protobuf ç­‰äºŒè¿›åˆ¶åè®®çš„ RPC æ¡†æ¶ç›¸æ¯”ï¼Œå®ƒæ›´åŠ çµæ´»ï¼Œç”¨èµ·æ¥æ›´æ–¹ä¾¿ã€‚
ä» v3.0 å¼€å§‹ï¼ŒRPC æ¡†æ¶åŒæ—¶ä¹Ÿæ”¯æŒ HTTP åè®®ï¼Œå¯ä»¥ç”¨ HTTP çš„ POST æ–¹æ³•è°ƒç”¨ RPC æœåŠ¡ã€‚ #rpc::Service class Service { public: Service() = default; virtual ~Service() = default; typedef std::function&amp;lt;void(Json&amp;amp;, Json&amp;amp;)&amp;gt; Fun; virtual const char* name() const = 0; virtual const co::map&amp;lt;const char*, Fun&amp;gt;&amp;amp; methods() const = 0; }; æ¥å£ç±»ï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ª RPC serviceï¼Œä¸€ä¸ª RPC server ä¸­å¯ä»¥åŒ…å«å¤šä¸ª serviceã€‚ æ–¹æ³• name() è¿”å› service åï¼Œmethods() è¿”å›æ‰€æœ‰çš„ RPC æ¥å£åŠå…¶ä¸šåŠ¡å¤„ç†å‡½æ•°ã€‚ ç”¨æˆ·ä¸éœ€è¦å…³å¿ƒæ­¤ç±»ã€‚ #rpc::Server #Server::Server Server(); é»˜è®¤æ„é€ å‡½æ•°ï¼Œç”¨æˆ·ä¸éœ€è¦å…³å¿ƒã€‚ #Server::add_service 1.</description>
    </item>
    
    <item>
      <title>wait group</title>
      <link>https://coostdocs.github.io/cn/co/concurrency/coroutine/wg/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/concurrency/coroutine/wg/</guid>
      <description>include: co/co.h.
#co::wait_group co::wait_group ç±»ä¼¼äº golang ä¸­çš„ sync.WaitGroupï¼Œå¯ç”¨äºç­‰å¾…åç¨‹æˆ–çº¿ç¨‹çš„é€€å‡ºã€‚
#constructor 1. explicit wait_group(uint32 n); 2. wait_group(); 3. wait_group(wait_group&amp;amp;&amp;amp; wg); 4. wait_group(const wait_group&amp;amp; wg); 1, å°†å†…éƒ¨è®¡æ•°å™¨åˆå§‹åŒ–ä¸º nã€‚ 2, é»˜è®¤æ„é€ å‡½æ•°ï¼Œå°†å†…éƒ¨è®¡æ•°å™¨åˆå§‹åŒ–ä¸º 0ã€‚ 3, ç§»åŠ¨æ„é€ å‡½æ•°ã€‚ 4, æ‹·è´æ„é€ å‡½æ•°ï¼Œä»…å°†å†…éƒ¨å¼•ç”¨è®¡æ•°åŠ  1ã€‚ #add void add(uint32 n=1) const; å°†å†…éƒ¨è®¡æ•°å™¨åŠ  nï¼Œn é»˜è®¤ä¸º 1ã€‚ #done void done() const; å°†å†…éƒ¨è®¡æ•°å™¨å‡ 1ã€‚ #wait void wait() const; ç­‰å¾…ç›´åˆ°å†…éƒ¨è®¡æ•°å™¨çš„å€¼å˜ä¸º 0ã€‚ #ä»£ç ç¤ºä¾‹ #include &amp;#34;co/co.h&amp;#34; #include &amp;#34;co/cout.h&amp;#34; DEF_uint32(n, 8, &amp;#34;coroutine number&amp;#34;); int main(int argc, char** argv) { flag::parse(argc, argv); co::wait_group wg; wg.</description>
    </item>
    
    <item>
      <title>åŸºå‡†æµ‹è¯•</title>
      <link>https://coostdocs.github.io/cn/co/benchmark/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/benchmark/</guid>
      <description>include: co/benchmark.h.
#åŸºæœ¬æ¦‚å¿µ co.benchmark æ˜¯ v3.0.1 æ–°å¢çš„åŸºå‡†æµ‹è¯•æ¡†æ¶ï¼Œå¯ç”¨äºæ€§èƒ½åŸºå‡†æµ‹è¯•ã€‚
#BM_group #define BM_group(_name_) \ ...... \ void _co_bm_group_##_name_(bm::xx::Group&amp;amp; _g_) BM_groupÂ å®ç”¨äºå®šä¹‰åŸºå‡†æµ‹è¯•ç»„ï¼Œå®é™…ä¸Šå®šä¹‰äº†ä¸€ä¸ªå‡½æ•°ã€‚ æ¯ä¸ª group å†…å¯ä»¥ç”¨ BM_add å®šä¹‰å¤šæ¡åŸºå‡†æµ‹è¯•ã€‚ å‚æ•° _name_Â æ˜¯ç»„åï¼Œä¹Ÿæ˜¯æ‰€å®šä¹‰å‡½æ•°åçš„ä¸€éƒ¨åˆ†ï¼Œå¦‚ BM_group(atomic) æ˜¯åˆç†çš„ï¼Œè€Œ BM_group(co.atomic) åˆ™æ˜¯ä¸å…è®¸çš„ã€‚ #BM_add #define BM_add(_name_) \ _g_.bm = #_name_; \ _BM_add BM_addÂ å®ç”¨äºå®šä¹‰åŸºå‡†æµ‹è¯•ï¼Œå®ƒå¿…é¡»åœ¨ BM_group å®šä¹‰çš„å‡½æ•°å†…ä½¿ç”¨ã€‚ å‚æ•° _name_Â æ˜¯åŸºå‡†æµ‹è¯•åï¼Œä¸ BM_group ä¸åŒï¼ŒBM_add(co.atomic) ä¹Ÿæ˜¯å…è®¸çš„ã€‚ #BM_use #define BM_use(v) bm::xx::use(&amp;amp;v, sizeof(v)) BM_use å®å‘Šè¯‰ç¼–è¯‘å™¨å˜é‡ v ä¼šè¢«ä½¿ç”¨ï¼Œé˜²æ­¢ç¼–è¯‘å™¨å°†ä¸€äº›æµ‹è¯•ä»£ç ä¼˜åŒ–æ‰ã€‚ #ç¼–å†™åŸºå‡†æµ‹è¯•ä»£ç  #æµ‹è¯•ä»£ç ç¤ºä¾‹ #include &amp;#34;co/benchmark.h&amp;#34; #include &amp;#34;co/mem.h&amp;#34; BM_group(malloc) { void* p; BM_add(::malloc)( p = ::malloc(32); ); BM_use(p); BM_add(co::alloc)( p = co::alloc(32); ); BM_use(p); } int main(int argc, char** argv) { flag::parse(argc, argv); bm::run_benchmarks(); return 0; } ä¸Šé¢çš„ä»£ç å®šä¹‰äº†ä¸€ä¸ªåä¸º malloc çš„åŸºå‡†æµ‹è¯•ç»„ï¼Œç»„å†…ç”¨ BM_add æ·»åŠ äº† 2 ä¸ªåŸºå‡†æµ‹è¯•ã€‚ è°ƒç”¨ bm::run_benchmarks()ï¼Œä¼šæ‰§è¡Œæ‰€æœ‰çš„åŸºå‡†æµ‹è¯•ä»£ç ã€‚ ä¸Šä¾‹ä¸­ï¼Œè‹¥æ—  BM_use(p)ï¼Œç¼–è¯‘å™¨å¯èƒ½è®¤ä¸º p æ˜¯æœªä½¿ç”¨çš„å˜é‡ï¼Œå°†ç›¸å…³çš„æµ‹è¯•ä»£ç ä¼˜åŒ–æ‰ï¼Œå¯¼è‡´æ— æ³•æµ‹å‡ºå‡†ç¡®çš„ç»“æœã€‚ #æµ‹è¯•ç»“æœç¤ºä¾‹ åŸºå‡†æµ‹è¯•ç»“æœè¾“å‡ºä¸º markdown è¡¨æ ¼ï¼Œå¯ä»¥è½»æ¾å°†æµ‹è¯•ç»“æœå¤åˆ¶åˆ° markdown æ–‡æ¡£ä¸­ã€‚ å¤šä¸ª BM_group ä¼šç”Ÿæˆå¤šä¸ª markdown è¡¨æ ¼ã€‚ è¡¨æ ¼ç¬¬ 1 åˆ—æ˜¯ group å†…çš„æ‰€æœ‰åŸºå‡†æµ‹è¯•ï¼Œç¬¬ 2 åˆ—æ˜¯å•æ¬¡è¿­ä»£ç”¨æ—¶(å•ä½ä¸ºçº³ç§’)ï¼Œç¬¬ 3 åˆ—æ˜¯æ¯ç§’è¿­ä»£æ¬¡æ•°ï¼Œç¬¬ 4 åˆ—æ˜¯æ€§èƒ½æå‡å€æ•°ï¼Œä»¥ç¬¬ä¸€ä¸ªåŸºå‡†æµ‹è¯•ä¸ºåŸºå‡†ã€‚ </description>
    </item>
    
    <item>
      <title>éšæœºå€¼</title>
      <link>https://coostdocs.github.io/cn/co/other/rand/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/other/rand/</guid>
      <description>include: co/rand.h.
#éšæœºæ•°(co::rand) 1. uint32 rand(); 2. uint32 rand(uint32&amp;amp; seed); 1, è¿”å›ä¸€ä¸ª 1 åˆ° 2G-2 ä¹‹é—´çš„éšæœºæ•°ï¼Œçº¿ç¨‹å®‰å…¨ã€‚ 2, è¿”å›ä¸€ä¸ª 1 åˆ° 2G-2 ä¹‹é—´çš„éšæœºæ•°ï¼Œéœ€è¦ç”¨æˆ·æŒ‡å®šç§å­æ•° seedï¼Œç§å­æ•°å¿…é¡»åœ¨ 1 åˆ° 2G-2 ä¹‹é—´ï¼Œæ­¤å‡½æ•°ä¼šæ›´æ–° seed çš„å€¼ï¼Œéçº¿ç¨‹å®‰å…¨ã€‚ å¯ä»¥ç”¨ 1 ä¸­çš„è¿”å›å€¼åˆå§‹åŒ– 2 ä¸­çš„ç§å­æ•°ã€‚ ç¤ºä¾‹ uint32 x = co::rand(); uint32 y = co::rand(); uint32 seed = co::rand(); uint32 u = co::rand(seed); uint32 v = co::rand(seed); #éšæœºå­—ç¬¦ä¸²(co::randstr) 1. fastring randstr(int n=15); 2. fastring randstr(const char* s, int n); 1, è¿”å›ä¸€ä¸ªé•¿åº¦ä¸º n(é»˜è®¤ä¸º15) çš„éšæœºå­—ç¬¦ä¸²ï¼Œçº¿ç¨‹å®‰å…¨ã€‚ 2, è¿”å›ä¸€ä¸ªé•¿åº¦ä¸º nã€ç”±å­—ç¬¦ä¸² s ä¸­çš„å­—ç¬¦æ„æˆçš„éšæœºå­—ç¬¦ä¸²ï¼Œs ä¸­å¯ä»¥ä½¿ç”¨ç±»ä¼¼ 0-9, a-z çš„ç¼©å†™ï¼Œs å±•å¼€åçš„é•¿åº¦ä¸èƒ½è¶…è¿‡ 255ï¼Œçº¿ç¨‹å®‰å…¨ã€‚ randstr åŸºäº nanoid ç®—æ³•å®ç°ï¼Œè¿”å›çš„éšæœºå­—ç¬¦ä¸²è¶³å¤Ÿé•¿æ—¶ï¼Œä¸€èˆ¬ä¹Ÿå¯ä»¥ç”¨ä½œå”¯ä¸€ idã€‚ ç¤ºä¾‹ fastring s = co::randstr(); s = co::randstr(8); s = co::randstr(&amp;#34;0123456789&amp;#34;, 6); s = co::randstr(&amp;#34;0-9a-f&amp;#34;, 8); // é•¿åº¦ä¸º8çš„16è¿›åˆ¶å­—ç¬¦ä¸² </description>
    </item>
    
    <item>
      <title>Hash</title>
      <link>https://coostdocs.github.io/cn/co/other/hash/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/other/hash/</guid>
      <description>include: co/hash.h.
#Hash #hash32 uint32 hash32(const void* s, size_t n); uint32 hash32(const char* s); uint32 hash32(const fastring&amp;amp; s) uint32 hash32(const std::string&amp;amp; s); æ­¤å‡½æ•°è¿”å› 32 ä½çš„ murmur hash å€¼ã€‚ s ä¸ºæŒ‡é’ˆæ—¶ï¼Œä¸€èˆ¬è¦æ±‚æ˜¯ sizeof(void*)Â å­—èŠ‚å¯¹é½çš„ã€‚ #hash64 uint64 hash64(const void* s, size_t n); uint64 hash64(const char* s); uint64 hash64(const fastring&amp;amp; s); uint64 hash64(const std::string&amp;amp; s); æ­¤å‡½æ•°è¿”å› 64 ä½çš„ murmur hash å€¼ã€‚ s ä¸ºæŒ‡é’ˆæ—¶ï¼Œä¸€èˆ¬è¦æ±‚æ˜¯ 8 å­—èŠ‚å¯¹é½çš„ã€‚ #murmur_hash size_t murmur_hash(const void* s, size_t n); æ­¤å‡½æ•°è¿”å› size_t ç±»å‹çš„ hash å€¼ï¼Œè¿™ä¸ªå€¼åœ¨ 64 ä½å¹³å°æ˜¯ 64 ä½çš„ï¼Œåœ¨ 32 ä½å¹³å°æ˜¯ 32 ä½çš„ã€‚ å‚æ•° s ä¸€èˆ¬è¦æ±‚æ˜¯ sizeof(void*) å­—èŠ‚å¯¹é½çš„ã€‚ #md5 #md5digest void md5digest(const void* s, size_t n, char res[16]); fastring md5digest(const void* s, size_t n); fastring md5digest(const char* s); fastring md5digest(const fastring&amp;amp; s); fastring md5digest(const std::string&amp;amp; s); è®¡ç®—å­—ç¬¦ä¸²çš„ md5 å€¼ï¼Œç»“æœä¸º 16 å­—èŠ‚çš„äºŒè¿›åˆ¶å­—ç¬¦ä¸²ã€‚ #md5sum void md5sum(const void* s, size_t n, char res[32]); fastring md5sum(const void* s, size_t n); fastring md5sum(const char* s); fastring md5sum(const fastring&amp;amp; s); fastring md5sum(const std::string&amp;amp; s); è®¡ç®—å­—ç¬¦ä¸²çš„ md5 å€¼ï¼Œç»“æœä¸º 32 å­—èŠ‚ã€ä»…å«åå…­è¿›åˆ¶å­—ç¬¦(0-9,a-f)çš„å­—ç¬¦ä¸²ã€‚ #Lower level APIs void md5_init(md5_ctx_t* ctx); void md5_update(md5_ctx_t* ctx, const void* s, size_t n); void md5_final(md5_ctx_t* ctx, uint8 res[16]); ä¸Šè¿° 3 ä¸ª API å¯ç”¨äºå¢é‡è®¡ç®— md5ã€‚</description>
    </item>
    
    <item>
      <title>JSON</title>
      <link>https://coostdocs.github.io/cn/co/json/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/json/</guid>
      <description>include: co/json.h.
co.jsonÂ æ˜¯ä¸€ä¸ªç±»ä¼¼ rapidjson çš„ JSON åº“ï¼Œä¸ rapidjson ç›¸æ¯”ï¼Œå®ƒæ—¢æœ‰æ€§èƒ½ä¸Šçš„ä¼˜åŠ¿ï¼ŒåŒæ—¶åˆæ›´ç®€å•æ˜“ç”¨ã€‚
#åŸºæœ¬æ¦‚å¿µ JSON æ˜¯ä¸€ç§ç®€å•çš„æ•°æ®æ ¼å¼ï¼Œå®ƒæ”¯æŒä¸¤ç§æ•°æ®ç»“æ„ï¼š
ç”±ä¸€ç³»åˆ— key/valueÂ é”®å€¼å¯¹æ„æˆçš„é›†åˆï¼Œè¿™ç±»ç»“æ„ç§°ä¸º objectï¼Œå¯¹åº”ç¼–ç¨‹è¯­è¨€ä¸­çš„ struct, map ç­‰ç­‰ã€‚ ç”±ä¸€ç³»åˆ— value æ„æˆçš„åˆ—è¡¨ï¼Œè¿™ç±»ç»“æ„ç§°ä¸º arrayï¼Œå¯¹åº”ç¼–ç¨‹è¯­è¨€ä¸­çš„ vector, list ç­‰ç­‰ã€‚ ä¸Šè¿° key æ˜¯ stringï¼Œvalue ä¸€èˆ¬ä¹Ÿç§°ä¸º JSON value (co.json ä¸­ç”¨ Json ç±»è¡¨ç¤º)ï¼Œå¯ä»¥æ˜¯ object, array, number, string, bool(false, true), null ä¸­çš„ä»»æ„ä¸€ç§ã€‚number æ˜¯æ•´æ•°æˆ–æµ®ç‚¹æ•°ï¼Œå¤§éƒ¨åˆ†å®ç°ä¼šå°†æ•´æ•°ä¸æµ®ç‚¹æ•°åŒºåˆ†å¼€ã€‚
object ç”±ä¸€å¯¹å¤§æ‹¬å·æ‹¬èµ·æ¥ï¼Œarray ç”±ä¸€å¯¹ä¸­æ‹¬å·æ‹¬èµ·æ¥ï¼Œå®ƒä»¬çœ‹èµ·æ¥åƒä¸‹é¢è¿™æ ·ï¼š
{&amp;#34;a&amp;#34;:1, &amp;#34;b&amp;#34;:false, &amp;#34;s&amp;#34;:&amp;#34;xxx&amp;#34;} [1, 2, 3] ç”±å®šä¹‰ object ä¸ array å¯ä»¥åµŒå¥—ï¼Œä»è€Œå¯ä»¥è¡¨ç¤ºæ ‘ç­‰å¤æ‚æ•°æ®ç»“æ„ã€‚
#Json #Json::Json 1. Json() noexcept; 2. Json(decltype(nullptr)) noexcept; 3. Json(Json&amp;amp;&amp;amp; v) noexcept; 4.</description>
    </item>
    
    <item>
      <title>åç¨‹æ± </title>
      <link>https://coostdocs.github.io/cn/co/concurrency/coroutine/pool/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/concurrency/coroutine/pool/</guid>
      <description>include: co/co.h.
#co::pool co::pool æ˜¯ä¸€ç§é€šç”¨çš„åç¨‹æ± ï¼Œå®ƒæ˜¯åç¨‹å®‰å…¨çš„ï¼Œå†…éƒ¨å­˜å‚¨ void*Â ç±»å‹çš„æŒ‡é’ˆï¼Œå¯ä»¥ç”¨ä½œè¿æ¥æ± ã€å†…å­˜æ± æˆ–å…¶ä»–ç”¨é€”çš„ç¼“å­˜ã€‚
#constructor 1. pool(); 2. pool(pool&amp;amp;&amp;amp; p); 3. pool(const pool&amp;amp; p); 4. pool(std::function&amp;lt;void*()&amp;gt;&amp;amp;&amp;amp; ccb, std::function&amp;lt;void(void*)&amp;gt;&amp;amp;&amp;amp; dcb, size_t cap=(size_t)-1); 1, é»˜è®¤æ„é€ å‡½æ•°ï¼Œä¸ 4 ç›¸æ¯”ï¼Œccb ä¸ dcb ä¸º NULLã€‚
2, ç§»åŠ¨æ„é€ å‡½æ•°ã€‚
3, æ‹·è´æ„é€ å‡½æ•°ï¼Œä»…å°†å†…éƒ¨å¼•ç”¨è®¡æ•°åŠ  1ã€‚
4, å‚æ•° ccb ç”¨äºåˆ›å»ºå…ƒç´ ï¼Œå‚æ•° dcb ç”¨äºé”€æ¯å…ƒç´ ï¼Œå‚æ•° cap æŒ‡å®š pool çš„æœ€å¤§å®¹é‡ï¼Œé»˜è®¤ä¸º -1ï¼Œä¸é™å®¹é‡ã€‚
æ³¨æ„å‚æ•° cap å¹¶ä¸æ˜¯æ€»å®¹é‡ï¼Œå®ƒæ˜¯å¯¹å•ä¸ªçº¿ç¨‹è€Œè¨€ï¼Œåœ¨ co::pool å†…éƒ¨å®ç°ä¸­ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„ poolï¼Œå¦‚ cap è®¾ç½®ä¸º 1024ï¼Œè°ƒåº¦çº¿ç¨‹æœ‰ 8 ä¸ªï¼Œåˆ™æ€»å®¹é‡æ˜¯ 8192ã€‚
å½“ dcb ä¸º NULL æ—¶ï¼Œå‚æ•° cap ä¼šè¢«å¿½ç•¥ï¼Œè¿™æ˜¯å› ä¸ºå½“å…ƒç´ ä¸ªæ•°è¶…è¿‡æœ€å¤§å®¹é‡æ—¶ï¼Œco::pool éœ€è¦ç”¨ dcb é”€æ¯å¤šä½™çš„å…ƒç´ ã€‚</description>
    </item>
    
    <item>
      <title>æ—¶é—´</title>
      <link>https://coostdocs.github.io/cn/co/other/time/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/other/time/</guid>
      <description>include: co/time.h.
#epoch time epoch æ˜¯ä¸€ä¸ªç‰¹å®šçš„æ—¶åˆ» 1970-01-01 00:00:00 UTCï¼Œepoch time æ˜¯ä» epoch æ—¶åˆ»å¼€å§‹çš„æ—¶é—´ï¼Œå®ƒå—ç³»ç»Ÿæ—¶é—´å½±å“ã€‚
#epoch::ms int64 ms(); è¿”å›è‡ª epoch åˆ°å½“å‰æ—¶åˆ»çš„æ—¶é—´ï¼Œå•ä½ä¸ºæ¯«ç§’ã€‚ #epoch::us int64 us(); è¿”å›è‡ª epoch åˆ°å½“å‰æ—¶åˆ»çš„æ—¶é—´ï¼Œå•ä½ä¸ºå¾®ç§’ã€‚ #monotonic time monotonic time æ˜¯å•è°ƒé€’å¢æ—¶é—´ï¼Œå¤§å¤šæ•°å¹³å°å®ç°ä¸ºè‡ªç³»ç»Ÿå¯åŠ¨å¼€å§‹çš„æ—¶é—´ï¼Œä¸€èˆ¬ç”¨äºè®¡æ—¶ï¼Œæ¯”ç³»ç»Ÿæ—¶é—´ç¨³å®šï¼Œä¸å—ç³»ç»Ÿæ—¶é—´çš„å½±å“ã€‚
#now::ms int64 ms(); è¿”å›ä¸€ä¸ªå•è°ƒé€’å¢çš„æ—¶é—´æˆ³ï¼Œå•ä½ä¸ºæ¯«ç§’ã€‚ åœ¨ mac å¹³å°ï¼Œå¦‚æœç³»ç»Ÿä¸æ”¯æŒ CLOCK_MONOTONICï¼Œåˆ™ä½¿ç”¨ epoch::ms()ã€‚ #now::us int64 us(); è¿”å›ä¸€ä¸ªå•è°ƒé€’å¢çš„æ—¶é—´æˆ³ï¼Œå•ä½ä¸ºå¾®ç§’ã€‚
åœ¨ mac å¹³å°ï¼Œå¦‚æœç³»ç»Ÿä¸æ”¯æŒ CLOCK_MONOTONICï¼Œåˆ™ä½¿ç”¨ epoch::us()ã€‚
ç¤ºä¾‹
int64 beg = now::us(); int64 end = now::us(); LOG &amp;lt;&amp;lt; &amp;#34;time used: &amp;#34; &amp;lt;&amp;lt; (end - beg) &amp;lt;&amp;lt; &amp;#34; us&amp;#34;; #æ—¶é—´å­—ç¬¦ä¸²(now::str) // fm: æ—¶é—´è¾“å‡ºæ ¼å¼ fastring str(const char* fm=&amp;#34;%Y-%m-%d %H:%M:%S&amp;#34;); æ­¤å‡½æ•°ä»¥æŒ‡å®šæ ¼å¼è¿”å›å½“å‰ç³»ç»Ÿæ—¶é—´çš„å­—ç¬¦ä¸²å½¢å¼ï¼Œå®ƒåŸºäº strftime å®ç°ã€‚</description>
    </item>
    
    <item>
      <title>é…ç½®é¡¹</title>
      <link>https://coostdocs.github.io/cn/co/concurrency/coroutine/conf/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/concurrency/coroutine/conf/</guid>
      <description>#é…ç½® Coost ä½¿ç”¨ co.flag å®šä¹‰äº†åç¨‹ç›¸å…³çš„é…ç½®é¡¹ï¼Œé…ç½®è¯¦ç»†ç”¨æ³•è¯·å‚è€ƒ co.flag æ–‡æ¡£ã€‚
#co_hook_log DEF_bool(co_hook_log, false, &amp;#34;&amp;gt;&amp;gt;#1 print log for API hooks&amp;#34;); æ‰“å° API hook ç›¸å…³çš„æ—¥å¿—ï¼Œé»˜è®¤ä¸º falseã€‚ v3.0.1 ä¸­å°†é…ç½®é¡¹ hook_log é‡å‘½åä¸º co_hook_logã€‚ #co_sched_log DEF_bool(co_sched_log, false, &amp;#34;&amp;gt;&amp;gt;#1 print logs for coroutine schedulers&amp;#34;); æ‰“å°åç¨‹è°ƒåº¦ç›¸å…³çš„è°ƒè¯•æ—¥å¿—ï¼Œé»˜è®¤ä¸º falseã€‚ v3.0.1 å°†é…ç½®é¡¹ co_debug_log é‡å‘½åä¸º co_sched_logã€‚ #co_sched_num DEF_uint32(co_sched_num, os::cpunum(), &amp;#34;&amp;gt;&amp;gt;#1 number of coroutine schedulers&amp;#34;); åç¨‹è°ƒåº¦çº¿ç¨‹çš„æ•°é‡ï¼Œé»˜è®¤ä¸ºç³»ç»Ÿ CPU æ ¸æ•°ã€‚ç›®å‰çš„å®ç°ä¸­ï¼Œè¿™ä¸ªå€¼æœ€å¤§ä¹Ÿæ˜¯ç³»ç»Ÿ CPU æ ¸æ•°ã€‚ #co_stack_num DEF_uint32(co_stack_num, 8, &amp;#34;&amp;gt;&amp;gt;#1 number of stacks per scheduler, must be power of 2&amp;#34;); v3.0.1 æ–°å¢ï¼Œæ¯ä¸ªåç¨‹è°ƒåº¦å™¨çš„å…±äº«åç¨‹æ ˆæ•°é‡ï¼Œè¯¥å€¼å¿…é¡»æ˜¯ 2 çš„å¹‚ï¼Œé»˜è®¤ä¸º 8ã€‚ #co_stack_size DEF_uint32(co_stack_size, 1024 * 1024, &amp;#34;&amp;gt;&amp;gt;#1 size of the stack shared by coroutines&amp;#34;); åç¨‹æ ˆå¤§å°ï¼Œé»˜è®¤ä¸º 1Mã€‚ </description>
    </item>
    
    <item>
      <title>å®šæ—¶ä»»åŠ¡</title>
      <link>https://coostdocs.github.io/cn/co/other/tasked/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/other/tasked/</guid>
      <description>include: co/tasked.h.
#co::Tasked TaskedÂ ç±»æ˜¯ä¸€ä¸ªç®€å•çš„å®šæ—¶ä»»åŠ¡è°ƒåº¦å™¨ï¼Œå†…éƒ¨ç”±å•çº¿ç¨‹è°ƒåº¦æ‰€æœ‰ä»»åŠ¡ï¼Œä½†å¯ä»¥ä»ä»»æ„çº¿ç¨‹æ·»åŠ ä»»åŠ¡ã€‚Tasked ä¸­çš„ä»»åŠ¡é˜»å¡æ—¶ï¼Œä¼šå½±å“åé¢çš„æ‰€æœ‰ä»»åŠ¡ï¼Œå› æ­¤ä¸æ¨èç”¨ Tasked è°ƒåº¦å¯èƒ½ä¼šé•¿æ—¶é—´é˜»å¡çš„ä»»åŠ¡ã€‚
v3.0.1 å°† Tasked ç±»åŠ å…¥ namespace co ä¸­ã€‚ #constructor 1. Tasked(); 2. Tasked(Tasked&amp;amp;&amp;amp; t); 1, é»˜è®¤æ„é€ å‡½æ•°ï¼Œå¯¹è±¡åˆ›å»ºå®Œï¼Œè°ƒåº¦çº¿ç¨‹å³å¼€å§‹è¿è¡Œã€‚ 2, ç§»åŠ¨æ„é€ å‡½æ•°ï¼Œæ”¯æŒå°† Tasked å¯¹è±¡æ”¾åˆ° STL å®¹å™¨ä¸­ã€‚ #destructor ~Tasked(); ææ„å‡½æ•°ï¼Œé€€å‡ºä»»åŠ¡è°ƒåº¦çº¿ç¨‹ã€‚ #F typedef std::function&amp;lt;void()&amp;gt; F; ä»»åŠ¡ç±»å‹ï¼Œå›ºå®šä¸º std::function&amp;lt;void()&amp;gt;Â ç±»å‹çš„å‡½æ•°ã€‚ #run_at void run_at(F&amp;amp;&amp;amp; f, int hour, int minute=0, int second=0); void run_at(const F&amp;amp; f, int hour, int minute=0, int second=0); æ·»åŠ æŒ‡å®šæ—¶åˆ»è¿è¡Œçš„ä»»åŠ¡ï¼Œf å°†åœ¨ hour:minute:secondÂ æ—¶åˆ»è¿è¡Œä¸€æ¬¡ã€‚ hour å¿…é¡»æ˜¯ 0-23 ä¹‹é—´çš„æ•´æ•°ï¼Œminute ä¸ second å¿…é¡»æ˜¯ 0-59 ä¹‹é—´çš„æ•´æ•°ï¼Œé»˜è®¤ä¸º 0ã€‚ #run_daily void run_daily(F&amp;amp;&amp;amp; f, int hour=0, int minute=0, int second=0); void run_daily(const F&amp;amp; f, int hour=0, int minute=0, int second=0); æ·»åŠ æ¯å¤©æŒ‡å®šæ—¶åˆ»è¿è¡Œçš„å‘¨æœŸæ€§ä»»åŠ¡ï¼Œf å°†åœ¨æ¯å¤©çš„ hour:minute:second æ—¶åˆ»è¿è¡Œä¸€æ¬¡ã€‚ hour å¿…é¡»æ˜¯ 0-23 ä¹‹é—´çš„æ•´æ•°ï¼Œé»˜è®¤ä¸º 0ï¼Œminute ä¸ second æ˜¯ 0-59 ä¹‹é—´çš„æ•´æ•°ï¼Œé»˜è®¤ä¸º 0ã€‚ #run_every void run_every(F&amp;amp;&amp;amp; f, int n); void run_every(const F&amp;amp; f, int n); æ·»åŠ æ¯ n ç§’è¿è¡Œä¸€æ¬¡çš„å‘¨æœŸæ€§ä»»åŠ¡ã€‚ #run_in void run_in(F&amp;amp;&amp;amp; f, int n); void run_in(const F&amp;amp; f, int n); æ·»åŠ  n ç§’åè¿è¡Œä¸€æ¬¡çš„ä»»åŠ¡ã€‚ #stop void stop(); é€€å‡ºä»»åŠ¡è°ƒåº¦çº¿ç¨‹ï¼Œææ„å‡½æ•°ä¸­ä¼šè‡ªåŠ¨è°ƒç”¨æ­¤æ–¹æ³•ã€‚ å¤šæ¬¡è°ƒç”¨æ­¤æ–¹æ³•æ˜¯å®‰å…¨çš„ã€‚ #ä»£ç ç¤ºä¾‹ co::Tasked s; // create and start the scheduler s.</description>
    </item>
    
    <item>
      <title>æ–‡ä»¶è·¯å¾„(path)</title>
      <link>https://coostdocs.github.io/cn/co/other/path/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/other/path/</guid>
      <description>include: co/path.h.
#path æ­¤éƒ¨åˆ†åŠŸèƒ½ç§»æ¤äº golangï¼Œè·¯å¾„åˆ†éš”ç¬¦å¿…é¡»ä¸º /ã€‚
#path::clean fastring clean(const char* s, size_t n); fastring clean(const char* s); fastring clean(const fastring&amp;amp; s); è¿”å›è·¯å¾„çš„æœ€çŸ­ç­‰ä»·å½¢å¼ï¼Œè·¯å¾„ä¸­è¿ç»­çš„åˆ†éš”ç¬¦ä¼šè¢«æ¸…é™¤æ‰ã€‚
ç¤ºä¾‹
path::clean(&amp;#34;&amp;#34;); // &amp;#34;.&amp;#34; path::clean(&amp;#34;./x//y/&amp;#34;); // &amp;#34;x/y&amp;#34; path::clean(&amp;#34;./x/..&amp;#34;); // &amp;#34;.&amp;#34; path::clean(&amp;#34;./x/../..&amp;#34;); // &amp;#34;..&amp;#34; #path::join template&amp;lt;typename ...S&amp;gt; inline fastring join(S&amp;amp;&amp;amp;... s); å°†ä»»æ„æ•°é‡çš„å­—ç¬¦ä¸²æ‹¼æ¥æˆä¸€ä¸ªå®Œæ•´çš„è·¯å¾„ï¼Œè¿”å› path::clean å¤„ç†åçš„ç»“æœã€‚
å‚æ•°ä¸­çš„ç©ºå­—ç¬¦ä¸²å°†ä¼šè¢«å¿½ç•¥ã€‚
ç¤ºä¾‹
path::join(&amp;#34;&amp;#34;, &amp;#34;&amp;#34;); // &amp;#34;&amp;#34; path::join(&amp;#34;x&amp;#34;, &amp;#34;y&amp;#34;, &amp;#34;z&amp;#34;); // &amp;#34;x/y/z&amp;#34; path::join(&amp;#34;/x/&amp;#34;, &amp;#34;y&amp;#34;); // &amp;#34;/x/y&amp;#34; #path::split std::pair&amp;lt;fastring, fastring&amp;gt; split(const char* s, size_t n); std::pair&amp;lt;fastring, fastring&amp;gt; split(const char* s); std::pair&amp;lt;fastring, fastring&amp;gt; split(const fastring&amp;amp; s); å°†è·¯å¾„åˆ‡åˆ†ä¸º dir, file ä¸¤éƒ¨åˆ†ï¼Œè‹¥è·¯å¾„ä¸­ä¸å«åˆ†éš”ç¬¦ï¼Œåˆ™ dir éƒ¨åˆ†ä¸ºç©ºã€‚</description>
    </item>
    
    <item>
      <title>æ–‡ä»¶ç³»ç»Ÿ</title>
      <link>https://coostdocs.github.io/cn/co/other/fs/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/other/fs/</guid>
      <description>include: co/fs.h.
fs æ¨¡å—æœ€å°é™åº¦çš„å®ç°äº†å¸¸ç”¨çš„æ–‡ä»¶ç³»ç»Ÿæ“ä½œï¼Œä¸åŒå¹³å°è·¯å¾„åˆ†éš”ç¬¦å»ºè®®ç»Ÿä¸€ä½¿ç”¨ /ã€‚
#å…ƒæ•°æ®æ“ä½œ #fs::exists bool exists(const char* path); bool exists(const fastring&amp;amp; path); bool exists(const std::string&amp;amp; path); åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œå‚æ•° path æ˜¯æ–‡ä»¶æˆ–ç›®å½•è·¯å¾„ã€‚ #fs::fsize int64 fsize(const char* path); int64 fsize(const fastring&amp;amp; path); int64 fsize(const std::string&amp;amp; path); è·å–æ–‡ä»¶å¤§å°ï¼Œæ–‡ä»¶ä¸å­˜åœ¨æˆ–å…¶ä»–é”™è¯¯è¿”å› -1ã€‚ #fs::isdir bool isdir(const char* path); bool isdir(const fastring&amp;amp; path); bool isdir(const std::string&amp;amp; path); åˆ¤æ–­æ–‡ä»¶æ˜¯å¦æ˜¯ç›®å½•ï¼Œè‹¥ path å­˜åœ¨ä¸”æ˜¯ç›®å½•ï¼Œåˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚ #fs::mtime int64 mtime(const char* path); int64 mtime(const fastring&amp;amp; path); int64 mtime(const std::string&amp;amp; path); è·å–æ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´ï¼Œæ–‡ä»¶ä¸å­˜åœ¨æ—¶è¿”å› -1ã€‚ #fs::mkdir bool mkdir(const char* path, bool p=false); bool mkdir(const fastring&amp;amp; path, bool p=false); bool mkdir(const std::string&amp;amp; path, bool p=false); åˆ›å»ºç›®å½•ï¼Œå‚æ•° path æ˜¯ç›®å½•è·¯å¾„ï¼Œå‚æ•° p è¡¨ç¤ºæ˜¯å¦åˆ›å»ºæ•´ä¸ªè·¯å¾„ã€‚ å‚æ•° p é»˜è®¤ä¸º falseï¼Œä»…å½“çˆ¶ç›®å½•å­˜åœ¨æ—¶ï¼Œæ‰ä¼šåˆ›å»ºç›®å½•ï¼›å‚æ•° p ä¸º true æ—¶ï¼Œç›¸å½“äº mkdir -pÂ ï¼Œçˆ¶ç›®å½•ä¸å­˜åœ¨æ—¶ï¼Œå…ˆåˆ›å»ºçˆ¶ç›®å½•ã€‚ #fs::remove bool remove(const char* path, bool rf=false); bool remove(const fastring&amp;amp; path, bool rf=false); bool remove(const std::string&amp;amp; path, bool rf=false); åˆ é™¤æ–‡ä»¶æˆ–ç›®å½•ï¼Œå‚æ•° path æ˜¯è·¯å¾„ã€‚ path æ˜¯ç›®å½•æ—¶ï¼Œå‚æ•° rf è¡¨ç¤ºæ˜¯å¦å¼ºåˆ¶åˆ é™¤ï¼Œé»˜è®¤ä¸º falseï¼Œä»…åˆ é™¤ç©ºç›®å½•ã€‚è‹¥ rf ä¸º trueï¼Œåˆ™ç›¸å½“äº rm -rfï¼Œéç©ºç›®å½•ä¹Ÿä¼šè¢«åˆ é™¤ã€‚ path æ˜¯æ–‡ä»¶æ—¶ï¼Œå‚æ•° rf ä¼šè¢«å¿½ç•¥ã€‚ #fs::rename bool rename(const char* from, const char* to); bool rename(const fastring&amp;amp; from, const fastring&amp;amp; to); bool rename(const std::string&amp;amp; from, const std::string&amp;amp; to); é‡å‘½åæ–‡ä»¶æˆ–ç›®å½•ï¼Œå‚æ•° from æ˜¯åŸè·¯å¾„ï¼Œå‚æ•° to æ˜¯æ–°è·¯å¾„ã€‚ å‚æ•° to æ˜¯ç›®å½•æ—¶ï¼Œwindows è¦æ±‚ to å’Œ from åœ¨åŒä¸€ä¸ªç›˜ç¬¦(drive) ä¸‹é¢ã€‚ è¯¦æƒ…å¯ä»¥å‚è€ƒ win32/MoveFile, linux/renameã€‚ #fs::symlink bool symlink(const char* dst, const char* lnk); bool symlink(const fastring&amp;amp; dst, const fastring&amp;amp; lnk); bool symlink(const std::string&amp;amp; dst, const std::string&amp;amp; lnk); åˆ›å»ºè½¯é“¾æ¥ï¼Œå‚æ•° dst æ˜¯ç›®æ ‡æ–‡ä»¶æˆ–ç›®å½•çš„è·¯å¾„ï¼Œå‚æ•° lnk æ˜¯è½¯é“¾æ¥çš„è·¯å¾„ã€‚ æ­¤å‡½æ•°å…ˆè°ƒç”¨ fs::remove(lnk)Â åˆ é™¤æ—§çš„è½¯é“¾æ¥ï¼Œå†åˆ›å»ºæ–°çš„è½¯é“¾æ¥æ–‡ä»¶ã€‚ åœ¨ windows å¹³å°ï¼Œæ­¤å‡½æ•°éœ€è¦ admin æƒé™ã€‚ #ä»£ç ç¤ºä¾‹ bool x = fs::exists(path); // åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨ bool x = fs::isdir(path); // åˆ¤æ–­æ–‡ä»¶æ˜¯å¦ä¸ºç›®å½• int64 x = fs::mtime(path); // è·å–æ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´ int64 x = fs::fsize(path); // è·å–æ–‡ä»¶çš„å¤§å° fs::mkdir(&amp;#34;a/b&amp;#34;); // mkdir a/b fs::mkdir(&amp;#34;a/b&amp;#34;, true); // mkdir -p a/b fs::remove(&amp;#34;x/x.</description>
    </item>
    
    <item>
      <title>æ“ä½œç³»ç»Ÿ</title>
      <link>https://coostdocs.github.io/cn/co/other/os/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/other/os/</guid>
      <description>include: co/os.h.
#os #os::cpunum int cpunum(); è¿”å›ç³»ç»Ÿ CPU æ ¸æ•°ã€‚ #os::cwd fastring cwd(); è¿”å›å½“å‰å·¥ä½œç›®å½•ã€‚ åœ¨ windows å¹³å°ï¼Œè¿”å›å€¼ä¸­çš„ \ ä¼šè½¬æ¢æˆ /ã€‚ #os::daemon void daemon(); å°†å½“å‰è¿›ç¨‹æ”¾åˆ°åå°è¿è¡Œï¼Œä»…æ”¯æŒ linux å¹³å°ã€‚ #os::env 1. fastring env(const char* name); 2. bool env(const char* name, const char* value); 1, è·å–ç³»ç»Ÿç¯å¢ƒå˜é‡çš„å€¼ï¼Œå‚æ•° name æ˜¯ç¯å¢ƒå˜é‡åã€‚ 2, v2.0.2 æ–°å¢ï¼Œè®¾ç½®ç¯å¢ƒå˜é‡çš„å€¼ï¼ŒæˆåŠŸæ—¶è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚ #os::exename fastring exename(); è¿”å›å½“å‰è¿›ç¨‹åï¼Œä¸å«è·¯å¾„ã€‚ #os::exepath fastring exepath(); è¿”å›å½“å‰è¿›ç¨‹çš„å®Œæ•´è·¯å¾„ã€‚ åœ¨ windows å¹³å°ï¼Œè¿”å›å€¼ä¸­çš„ \ ä¼šè½¬æ¢æˆ /ã€‚ #os::homedir fastring homedir(); è¿”å›å½“å‰ç”¨æˆ·çš„ home ç›®å½•ã€‚ åœ¨ windows å¹³å°ï¼Œè¿”å›å€¼ä¸­çš„ \ ä¼šè½¬æ¢æˆ /ã€‚ #os::pid int pid(); è¿”å›å½“å‰è¿›ç¨‹çš„ idã€‚ #os::signal typedef void (*sig_handler_t)(int); sig_handler_t signal(int sig, sig_handler_t handler, int flag=0); è®¾ç½®ä¿¡å·å¤„ç†å‡½æ•°ï¼Œå‚æ•° sig æ˜¯ä¿¡å·å€¼ï¼Œå‚æ•° flag æ˜¯ SA_RESTARTï¼ŒSA_ONSTACKÂ ç­‰é€‰é¡¹çš„ç»„åˆã€‚</description>
    </item>
    
    <item>
      <title>ç¼–è¯‘</title>
      <link>https://coostdocs.github.io/cn/co/build/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://coostdocs.github.io/cn/co/build/</guid>
      <description>#ç¼–è¯‘å™¨è¦æ±‚ å„å¹³å°éœ€è¦å®‰è£…çš„ç¼–è¯‘å™¨å¦‚ä¸‹ï¼š
Linux: gcc 4.8+ Mac: clang 3.3+ Windows: vs2015+ #xmake co æ¨èä½¿ç”¨ xmake ä½œä¸ºæ„å»ºå·¥å…·ã€‚
#å®‰è£… xmake windows, mac ä¸ debian/ubuntu å¯ä»¥ç›´æ¥å» xmake çš„ release é¡µé¢ä¸‹è½½å®‰è£…åŒ…ï¼Œå…¶ä»–ç³»ç»Ÿè¯·å‚è€ƒ xmake çš„ Installation è¯´æ˜ã€‚
#å¿«é€Ÿæ„å»º åœ¨ co æ ¹ç›®å½•æ‰§è¡Œä¸‹è¿°å‘½ä»¤æ„å»ºï¼š
xmake -a # æ„å»ºæ‰€æœ‰é¡¹ç›® (libco, gen, test, unitest) è‹¥éœ€è¦ä½¿ç”¨ HTTP æˆ– SSL ç‰¹æ€§ï¼Œåˆ™å¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤æ„å»ºï¼š
xmake f --with_libcurl=true --with_openssl=true xmake -a å¯ç”¨ HTTP æˆ– SSL ç‰¹æ€§æ—¶ï¼Œxmake ä¼šè‡ªåŠ¨ä»ç½‘ç»œå®‰è£… libcurl ä¸ opensslï¼Œå¯èƒ½éœ€è¦èŠ±ç‚¹æ—¶é—´ã€‚
å‘½ä»¤è¡Œä¸­çš„ -a è¡¨ç¤ºæ„å»º co ä¸­çš„æ‰€æœ‰é¡¹ç›®ï¼Œå¦‚æœä¸åŠ  -aï¼Œé»˜è®¤åªä¼šæ„å»º libcoã€‚å¦å¤–ï¼Œå¯ä»¥ç”¨ -v æˆ– -vD è®© xmake æ‰“å°æ›´è¯¦ç»†çš„ç¼–è¯‘ä¿¡æ¯ï¼š</description>
    </item>
    
  </channel>
</rss>
