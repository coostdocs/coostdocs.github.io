<!DOCTYPE html>
<html lang="cn" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="#CO æ˜¯ä»€ä¹ˆ CO æ˜¯ä¸€ä¸ªä¼˜é›…ã€é«˜æ•ˆçš„ C&#43;&#43; åŸºç¡€åº“ï¼Œæ”¯æŒ Linux, Windows ä¸ Mac ç­‰å¹³å°ï¼Œå®ƒå®ç°äº†ç±»ä¼¼ golang çš„åç¨‹ã€åŸºäºåç¨‹çš„ç½‘ç»œç¼–ç¨‹æ¡†æ¶ã€å‘½ä»¤è¡Œå‚æ•°ä¸é…ç½®æ–‡ä»¶è§£æåº“ã€é«˜æ€§èƒ½æ—¥å¿—åº“ã€å•å…ƒæµ‹è¯•æ¡†æ¶ã€JSON åº“ç­‰ä¸€ç³»åˆ—é«˜è´¨é‡çš„åŸºç¡€ç»„ä»¶ã€‚
CO åœ¨ github ä¸Šä»¥ MIT è®¸å¯è¯å¼€æºï¼Œå®ƒä½¿ç”¨äº†éƒ¨åˆ†ä¸‰æ–¹ä»£ç ï¼Œå¯èƒ½æœ‰ä¸åŒçš„è®¸å¯è¯ï¼Œè¯¦æƒ…è§ LICENSE æ–‡ä»¶ã€‚ä¸ºäº†æ–¹ä¾¿å›½å†…ç”¨æˆ·ï¼Œgitee ä¸Šä¹Ÿä¼šå®šæœŸåŒæ­¥ github ä¸Šçš„ä»£ç ã€‚
#CO çš„å‘å±•å†ç¨‹ Alvin(idealvin) è‡ª 2013 å¹´å¼€å§‹å¼€å‘ COï¼Œæœ€åˆçš„ç›®çš„æ˜¯ä¸ºäº†å‡å°‘ C&#43;&#43; é¡¹ç›®ä¸­çš„ä¸‰æ–¹ä¾èµ–ï¼ŒåŒæ—¶æé«˜ C&#43;&#43; çš„å¼€å‘æ•ˆç‡ã€‚ä» 2015 å¹´å¼€å§‹ï¼ŒAlvin å°† CO å¼•å…¥å®é™…é¡¹ç›®ä¸­ï¼Œä¾›è‡ªå·±ä¸åŒäº‹ä½¿ç”¨ï¼Œå¤§å¤§ç¼©å‡äº†é¡¹ç›®çš„å¼€å‘å‘¨æœŸï¼ŒCO ä¹Ÿå¾—ä»¥ç»å—å·¥ä¸šé¡¹ç›®çš„æ£€éªŒã€‚
ç»è¿‡å¤šå¹´çš„ç§¯ç´¯ã€æ²‰æ·€ï¼Œåˆ° 2019 å¹´ï¼ŒAlvin åˆç”¨ C&#43;&#43; å®ç°äº† golang ä¸­çš„åç¨‹æœºåˆ¶ï¼Œå¹¶æä¾›äº†ä¸€å¥—åŸºäºåç¨‹çš„ç½‘ç»œç¼–ç¨‹æ¡†æ¶ã€‚CO åç¨‹è¯ç”Ÿä¹‹åˆï¼Œå°±è¢«ç”¨äºåµŒå…¥å¼ç½‘ç»œç¨‹åºå¼€å‘ï¼Œå¹¶å–å¾—äº†ç«‹ç«¿è§å½±çš„æ•ˆæœã€‚
æˆªè‡³ 2021 å¹´ï¼ŒCO åç¨‹åˆæœ‰äº†é•¿è¶³çš„å‘å±•ï¼Œç›®å‰åœ¨ Linux/Windows/Mac å¹³å°å‡å·²æ”¯æŒ hookï¼Œå¹¶ä¸”å®ç°äº†åç¨‹é”ã€åç¨‹åŒæ­¥äº‹ä»¶ã€åç¨‹æ± ä»¥åŠ golang ä¸­çš„ channel ä¸ waitgroupï¼Œç”¨æˆ·å¯ä»¥ç”¨ CO å†™å‡º golang çš„ä½“éªŒã€‚
#å¿«é€Ÿä¸Šæ‰‹ #ç¼–è¯‘ å»ºè®®å®‰è£… xmakeï¼Œåœ¨ CO æ ¹ç›®å½•æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ„å»ºæ‰€æœ‰å­é¡¹ç›®ï¼š">
<meta name="theme-color" content="#FFFFFF"><meta property="og:title" content="ç®€ä»‹" />
<meta property="og:description" content="#CO æ˜¯ä»€ä¹ˆ CO æ˜¯ä¸€ä¸ªä¼˜é›…ã€é«˜æ•ˆçš„ C&#43;&#43; åŸºç¡€åº“ï¼Œæ”¯æŒ Linux, Windows ä¸ Mac ç­‰å¹³å°ï¼Œå®ƒå®ç°äº†ç±»ä¼¼ golang çš„åç¨‹ã€åŸºäºåç¨‹çš„ç½‘ç»œç¼–ç¨‹æ¡†æ¶ã€å‘½ä»¤è¡Œå‚æ•°ä¸é…ç½®æ–‡ä»¶è§£æåº“ã€é«˜æ€§èƒ½æ—¥å¿—åº“ã€å•å…ƒæµ‹è¯•æ¡†æ¶ã€JSON åº“ç­‰ä¸€ç³»åˆ—é«˜è´¨é‡çš„åŸºç¡€ç»„ä»¶ã€‚
CO åœ¨ github ä¸Šä»¥ MIT è®¸å¯è¯å¼€æºï¼Œå®ƒä½¿ç”¨äº†éƒ¨åˆ†ä¸‰æ–¹ä»£ç ï¼Œå¯èƒ½æœ‰ä¸åŒçš„è®¸å¯è¯ï¼Œè¯¦æƒ…è§ LICENSE æ–‡ä»¶ã€‚ä¸ºäº†æ–¹ä¾¿å›½å†…ç”¨æˆ·ï¼Œgitee ä¸Šä¹Ÿä¼šå®šæœŸåŒæ­¥ github ä¸Šçš„ä»£ç ã€‚
#CO çš„å‘å±•å†ç¨‹ Alvin(idealvin) è‡ª 2013 å¹´å¼€å§‹å¼€å‘ COï¼Œæœ€åˆçš„ç›®çš„æ˜¯ä¸ºäº†å‡å°‘ C&#43;&#43; é¡¹ç›®ä¸­çš„ä¸‰æ–¹ä¾èµ–ï¼ŒåŒæ—¶æé«˜ C&#43;&#43; çš„å¼€å‘æ•ˆç‡ã€‚ä» 2015 å¹´å¼€å§‹ï¼ŒAlvin å°† CO å¼•å…¥å®é™…é¡¹ç›®ä¸­ï¼Œä¾›è‡ªå·±ä¸åŒäº‹ä½¿ç”¨ï¼Œå¤§å¤§ç¼©å‡äº†é¡¹ç›®çš„å¼€å‘å‘¨æœŸï¼ŒCO ä¹Ÿå¾—ä»¥ç»å—å·¥ä¸šé¡¹ç›®çš„æ£€éªŒã€‚
ç»è¿‡å¤šå¹´çš„ç§¯ç´¯ã€æ²‰æ·€ï¼Œåˆ° 2019 å¹´ï¼ŒAlvin åˆç”¨ C&#43;&#43; å®ç°äº† golang ä¸­çš„åç¨‹æœºåˆ¶ï¼Œå¹¶æä¾›äº†ä¸€å¥—åŸºäºåç¨‹çš„ç½‘ç»œç¼–ç¨‹æ¡†æ¶ã€‚CO åç¨‹è¯ç”Ÿä¹‹åˆï¼Œå°±è¢«ç”¨äºåµŒå…¥å¼ç½‘ç»œç¨‹åºå¼€å‘ï¼Œå¹¶å–å¾—äº†ç«‹ç«¿è§å½±çš„æ•ˆæœã€‚
æˆªè‡³ 2021 å¹´ï¼ŒCO åç¨‹åˆæœ‰äº†é•¿è¶³çš„å‘å±•ï¼Œç›®å‰åœ¨ Linux/Windows/Mac å¹³å°å‡å·²æ”¯æŒ hookï¼Œå¹¶ä¸”å®ç°äº†åç¨‹é”ã€åç¨‹åŒæ­¥äº‹ä»¶ã€åç¨‹æ± ä»¥åŠ golang ä¸­çš„ channel ä¸ waitgroupï¼Œç”¨æˆ·å¯ä»¥ç”¨ CO å†™å‡º golang çš„ä½“éªŒã€‚
#å¿«é€Ÿä¸Šæ‰‹ #ç¼–è¯‘ å»ºè®®å®‰è£… xmakeï¼Œåœ¨ CO æ ¹ç›®å½•æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ„å»ºæ‰€æœ‰å­é¡¹ç›®ï¼š" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cocoyaxi.github.io/cn/about/co/" /><meta property="article:section" content="about" />

<meta property="article:modified_time" content="2021-08-09T17:27:07+08:00" />

<title>ç®€ä»‹ | Documents for CO</title>
<link rel="manifest" href="../../../manifest.json">
<link rel="icon" href="../../../favicon.png" type="image/x-icon">
  <link rel="alternate" hreflang="en" href="https://cocoyaxi.github.io/en/about/co/" title="Introduction">
<link rel="stylesheet" href="../../../book.min.0608a3570dae40fa4b3de520d6a873cc9855bb4cb5001c4b16e95a226b84aff8.css" integrity="sha256-BgijVw2uQPpLPeUg1qhzzJhVu0y1ABxLFulaImuEr/g=" crossorigin="anonymous">
  <script defer src="../../../flexsearch.min.js"></script>
  <script defer src="../../../cn.search.min.4d791923cc17f3b7107e45be1714ceadd0f9cbf7f96e68abe15d23241dfe6bb6.js" integrity="sha256-TXkZI8wX87cQfkW&#43;FxTOrdD5y/f5bmir4V0jJB3&#43;a7Y=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  


<link href='//cdn.bootcss.com/highlight.js/11.1.0/styles/github.min.css'
  rel='stylesheet' type='text/css' />


</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a href="../../../cn/"><span>Documents for CO</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="æœç´¢" aria-label="æœç´¢" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>











  



  
  <ul>
    
      
        <li>
          
  
  

  
    <span>å…³äº</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="../../../cn/about/co/" class=" active">ç®€ä»‹</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/about/contact/" class="">è”ç³»</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/about/sponsor/" class="">èµåŠ©ğŸ’•</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <span>CO å‚è€ƒæ–‡æ¡£</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/def/" class="">åŸºæœ¬å®šä¹‰</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/defer/" class="">defer</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/atomic/" class="">åŸå­æ“ä½œ</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/fastring/" class="">å­—ç¬¦ä¸²(fastring)</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/fastream/" class="">å­—ç¬¦æµ(fastream)</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/str/" class="">å­—ç¬¦ä¸²æ“ä½œ</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/flag/" class="">å‘½ä»¤è¡Œå‚æ•°ä¸é…ç½®æ–‡ä»¶è§£æ</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/log/" class="">æ—¥å¿—</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/unitest/" class="">å•å…ƒæµ‹è¯•æ¡†æ¶</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/json/" class="">JSON</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/time/" class="">æ—¶é—´</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/thread/" class="">çº¿ç¨‹</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/coroutine/" class="">åç¨‹</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-752f64a904309658adbf6062b2c3d8c1" class="toggle"  />
    <label for="section-752f64a904309658adbf6062b2c3d8c1" class="flex justify-between">
      <a role="button" class="">ç½‘ç»œç¼–ç¨‹</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/net/byte_order/" class="">å­—èŠ‚åº</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/net/tcp/" class="">TCP</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/net/http/" class="">HTTP</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/net/rpc/" class="">RPC</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/tasked/" class="">å®šæ—¶ä»»åŠ¡</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/random/" class="">éšæœºæ•°</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/lrumap/" class="">LruMap</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/hash/" class="">Hash</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/path/" class="">æ–‡ä»¶è·¯å¾„(path)</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/fs/" class="">æ–‡ä»¶ç³»ç»Ÿ</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/os/" class="">æ“ä½œç³»ç»Ÿ</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/build/" class="">ç¼–è¯‘</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var a=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="../../../svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>ç®€ä»‹</strong>

  <label for="toc-control">
    
    <img src="../../../svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#co-æ˜¯ä»€ä¹ˆ">CO æ˜¯ä»€ä¹ˆ</a></li>
        <li><a href="#co-çš„å‘å±•å†ç¨‹">CO çš„å‘å±•å†ç¨‹</a></li>
        <li><a href="#å¿«é€Ÿä¸Šæ‰‹">å¿«é€Ÿä¸Šæ‰‹</a>
          <ul>
            <li><a href="#ç¼–è¯‘">ç¼–è¯‘</a></li>
            <li><a href="#ä½¿ç”¨-co-å¼€å‘-c-é¡¹ç›®">ä½¿ç”¨ CO å¼€å‘ C++ é¡¹ç›®</a></li>
          </ul>
        </li>
        <li><a href="#æ ¸å¿ƒç»„ä»¶">æ ¸å¿ƒç»„ä»¶</a>
          <ul>
            <li><a href="#coflag">co/flag</a></li>
            <li><a href="#colog">co/log</a></li>
            <li><a href="#counitest">co/unitest</a></li>
            <li><a href="#åç¨‹">åç¨‹</a>
              <ul>
                <li><a href="#åˆ›å»ºåç¨‹">åˆ›å»ºåç¨‹</a></li>
                <li><a href="#channel">channel</a></li>
                <li><a href="#waitgroup">waitgroup</a></li>
              </ul>
            </li>
            <li><a href="#ç½‘ç»œç¼–ç¨‹">ç½‘ç»œç¼–ç¨‹</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h2 id="co-æ˜¯ä»€ä¹ˆ"><a class="anchor" href="#co-%e6%98%af%e4%bb%80%e4%b9%88">#</a>CO æ˜¯ä»€ä¹ˆ</h2>
<p>CO æ˜¯ä¸€ä¸ªä¼˜é›…ã€é«˜æ•ˆçš„ C++ åŸºç¡€åº“ï¼Œæ”¯æŒ Linux, Windows ä¸ Mac ç­‰å¹³å°ï¼Œå®ƒå®ç°äº†ç±»ä¼¼ golang çš„åç¨‹ã€åŸºäºåç¨‹çš„ç½‘ç»œç¼–ç¨‹æ¡†æ¶ã€å‘½ä»¤è¡Œå‚æ•°ä¸é…ç½®æ–‡ä»¶è§£æåº“ã€é«˜æ€§èƒ½æ—¥å¿—åº“ã€å•å…ƒæµ‹è¯•æ¡†æ¶ã€JSON åº“ç­‰ä¸€ç³»åˆ—é«˜è´¨é‡çš„åŸºç¡€ç»„ä»¶ã€‚</p>
<p>CO åœ¨ <a href="https://github.com/idealvin/co">github</a> ä¸Šä»¥ <a href="https://mit-license.org/">MIT</a> è®¸å¯è¯å¼€æºï¼Œå®ƒä½¿ç”¨äº†éƒ¨åˆ†ä¸‰æ–¹ä»£ç ï¼Œå¯èƒ½æœ‰ä¸åŒçš„è®¸å¯è¯ï¼Œè¯¦æƒ…è§ <a href="https://github.com/idealvin/co/blob/master/LICENSE.md">LICENSE</a> æ–‡ä»¶ã€‚ä¸ºäº†æ–¹ä¾¿å›½å†…ç”¨æˆ·ï¼Œ<a href="https://gitee.com/idealvin/co">gitee</a> ä¸Šä¹Ÿä¼šå®šæœŸåŒæ­¥ github ä¸Šçš„ä»£ç ã€‚</p>
<h2 id="co-çš„å‘å±•å†ç¨‹"><a class="anchor" href="#co-%e7%9a%84%e5%8f%91%e5%b1%95%e5%8e%86%e7%a8%8b">#</a>CO çš„å‘å±•å†ç¨‹</h2>
<p><a href="https://github.com/idealvin">Alvin(idealvin)</a> è‡ª 2013 å¹´å¼€å§‹å¼€å‘ COï¼Œæœ€åˆçš„ç›®çš„æ˜¯ä¸ºäº†å‡å°‘ C++ é¡¹ç›®ä¸­çš„ä¸‰æ–¹ä¾èµ–ï¼ŒåŒæ—¶æé«˜ C++ çš„å¼€å‘æ•ˆç‡ã€‚ä» 2015 å¹´å¼€å§‹ï¼ŒAlvin å°† CO å¼•å…¥å®é™…é¡¹ç›®ä¸­ï¼Œä¾›è‡ªå·±ä¸åŒäº‹ä½¿ç”¨ï¼Œå¤§å¤§ç¼©å‡äº†é¡¹ç›®çš„å¼€å‘å‘¨æœŸï¼ŒCO ä¹Ÿå¾—ä»¥ç»å—å·¥ä¸šé¡¹ç›®çš„æ£€éªŒã€‚</p>
<p>ç»è¿‡å¤šå¹´çš„ç§¯ç´¯ã€æ²‰æ·€ï¼Œåˆ° 2019 å¹´ï¼ŒAlvin åˆç”¨ C++ å®ç°äº† golang ä¸­çš„åç¨‹æœºåˆ¶ï¼Œå¹¶æä¾›äº†ä¸€å¥—åŸºäºåç¨‹çš„ç½‘ç»œç¼–ç¨‹æ¡†æ¶ã€‚CO åç¨‹è¯ç”Ÿä¹‹åˆï¼Œå°±è¢«ç”¨äºåµŒå…¥å¼ç½‘ç»œç¨‹åºå¼€å‘ï¼Œå¹¶å–å¾—äº†ç«‹ç«¿è§å½±çš„æ•ˆæœã€‚</p>
<p>æˆªè‡³ 2021 å¹´ï¼ŒCO åç¨‹åˆæœ‰äº†é•¿è¶³çš„å‘å±•ï¼Œç›®å‰åœ¨ Linux/Windows/Mac å¹³å°å‡å·²æ”¯æŒ hookï¼Œå¹¶ä¸”å®ç°äº†åç¨‹é”ã€åç¨‹åŒæ­¥äº‹ä»¶ã€åç¨‹æ± ä»¥åŠ golang ä¸­çš„ channel ä¸ waitgroupï¼Œç”¨æˆ·å¯ä»¥ç”¨ CO å†™å‡º golang çš„ä½“éªŒã€‚</p>
<h2 id="å¿«é€Ÿä¸Šæ‰‹"><a class="anchor" href="#%e5%bf%ab%e9%80%9f%e4%b8%8a%e6%89%8b">#</a>å¿«é€Ÿä¸Šæ‰‹</h2>
<h3 id="ç¼–è¯‘"><a class="anchor" href="#%e7%bc%96%e8%af%91">#</a>ç¼–è¯‘</h3>
<p>å»ºè®®å®‰è£… <a href="https://github.com/xmake-io/xmake">xmake</a>ï¼Œåœ¨ CO æ ¹ç›®å½•æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ„å»ºæ‰€æœ‰å­é¡¹ç›®ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">xmake -a
</code></pre></div><p>å¦‚æœéœ€è¦ä½¿ç”¨ http::Client, SSL æˆ– HTTPS ç‰¹æ€§ï¼Œåˆ™å¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤æ„å»ºï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">xmake f --with_libcurl<span style="color:#000;font-weight:bold">=</span><span style="color:#0086b3">true</span> --with_openssl<span style="color:#000;font-weight:bold">=</span><span style="color:#0086b3">true</span>
xmake -a
</code></pre></div><p>xmake ä¼šè‡ªåŠ¨ä»ç½‘ç»œå®‰è£… libcurl ä¸ opensslï¼Œè§†ç½‘ç»œæƒ…å†µï¼Œè¿™ä¸ªè¿‡ç¨‹å¯èƒ½ä¼šè¾ƒæ…¢ã€‚<code>xmake -a</code> ä¼šæ„å»º <a href="https://github.com/idealvin/co/tree/master/src">libco</a>, <a href="https://github.com/idealvin/co/tree/master/gen">gen</a>, <a href="https://github.com/idealvin/co/tree/master/unitest">co/unitest</a> ä»¥åŠ <a href="https://github.com/idealvin/co/tree/master/test">co/test</a> ä¸‹é¢çš„æ‰€æœ‰æµ‹è¯•ä»£ç ã€‚ç”¨æˆ·å¯ä»¥æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œè¿è¡Œ CO ä¸­çš„æµ‹è¯•ç¨‹åºï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">xmake r unitest -a
xmake r flag
xmake r log -cout
xmake r co
</code></pre></div><h3 id="ä½¿ç”¨-co-å¼€å‘-c-é¡¹ç›®"><a class="anchor" href="#%e4%bd%bf%e7%94%a8-co-%e5%bc%80%e5%8f%91-c-%e9%a1%b9%e7%9b%ae">#</a>ä½¿ç”¨ CO å¼€å‘ C++ é¡¹ç›®</h3>
<p>æœ€ç®€å•çš„ï¼Œå¯ä»¥ç›´æ¥åŒ…å« <a href="https://github.com/idealvin/co/blob/master/include/co/all.h">co/all.h</a>ï¼Œä½¿ç”¨ CO ä¸­çš„æ‰€æœ‰ç‰¹æ€§ã€‚å¦‚æœæ‹…å¿ƒå½±å“ç¼–è¯‘é€Ÿåº¦ï¼Œä¹Ÿå¯ä»¥åªåŒ…å«éœ€è¦ç”¨åˆ°çš„å¤´æ–‡ä»¶ï¼Œå¦‚åŒ…å« <a href="https://github.com/idealvin/co/blob/master/include/co/co.h">co/co.h</a>ï¼Œå¯ä»¥ä½¿ç”¨ co/flag, co/log ä»¥åŠåç¨‹ç›¸å…³çš„æ‰€æœ‰ç‰¹æ€§ã€‚</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#999;font-weight:bold;font-style:italic">#include</span> <span style="color:#999;font-weight:bold;font-style:italic">&#34;co/all.h&#34;</span><span style="color:#999;font-weight:bold;font-style:italic">
</span><span style="color:#999;font-weight:bold;font-style:italic"></span>
DEF_string(s, <span style="color:#d14">&#34;nice&#34;</span>, <span style="color:#d14">&#34;&#34;</span>);

<span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span>(<span style="color:#458;font-weight:bold">int</span> argc, <span style="color:#458;font-weight:bold">char</span><span style="color:#000;font-weight:bold">**</span> argv) {
    flag<span style="color:#000;font-weight:bold">::</span>init(argc, argv);
    log<span style="color:#000;font-weight:bold">::</span>init();

    LOG <span style="color:#000;font-weight:bold">&lt;&lt;</span> FLG_s;
    <span style="color:#000;font-weight:bold">return</span> <span style="color:#099">0</span>;
}
</code></pre></div><p>ä¸Šé¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œmain å‡½æ•°å‰ä¸¤è¡Œåˆ†åˆ«ç”¨äºåˆå§‹åŒ– flag ä¸ log åº“ã€‚CO ä¸­çš„éƒ¨åˆ†ç»„ä»¶ä¼šç”¨ flag å®šä¹‰é…ç½®é¡¹ï¼Œç”¨ log æ‰“å°æ—¥å¿—ï¼Œå› æ­¤ï¼Œä¸€èˆ¬éœ€è¦åœ¨ main å‡½æ•°å¼€å¤´è°ƒç”¨ <code>flag::init()</code> ä¸ <code>log::init()</code> è¿›è¡Œåˆå§‹åŒ–ã€‚</p>
<p>ç”¨æˆ·ä¹Ÿå¯ä»¥ç”¨å® <code>DEF_main</code> å®šä¹‰ main å‡½æ•°ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#999;font-weight:bold;font-style:italic">#include</span> <span style="color:#999;font-weight:bold;font-style:italic">&#34;co/all.h&#34;</span><span style="color:#999;font-weight:bold;font-style:italic">
</span><span style="color:#999;font-weight:bold;font-style:italic"></span>
DEF_string(s, <span style="color:#d14">&#34;nice&#34;</span>, <span style="color:#d14">&#34;&#34;</span>);

DEF_main(argc, argv) {
    LOG <span style="color:#000;font-weight:bold">&lt;&lt;</span> FLG_s;
    <span style="color:#000;font-weight:bold">return</span> <span style="color:#099">0</span>;
}
</code></pre></div><p>DEF_main åœ¨å†…éƒ¨å·²ç»è°ƒç”¨äº† <code>flag::init()</code> ä¸ <code>log::init()</code>ï¼Œç”¨æˆ·æ— éœ€å†æ¬¡è°ƒç”¨ã€‚å¦å¤–ï¼ŒDEF_main ä¼šå°† main å‡½æ•°ä¸­çš„ä»£ç æ”¾åˆ°åç¨‹ä¸­è¿è¡Œï¼Œä¸ golang ä¿æŒä¸€è‡´ï¼Œgolang ä¸­çš„ main å‡½æ•°ä¹Ÿåœ¨åç¨‹ä¸­ã€‚CO ä¸­éƒ¨åˆ†åç¨‹ç›¸å…³çš„ç»„ä»¶å¿…é¡»åœ¨åç¨‹ä¸­ä½¿ç”¨ï¼Œç”¨ CO å¼€å‘åŸºäºåç¨‹çš„åº”ç”¨ç¨‹åºæ—¶ï¼Œä¸€èˆ¬å»ºè®®ç”¨ DEF_main å®šä¹‰ main å‡½æ•°ã€‚</p>
<h2 id="æ ¸å¿ƒç»„ä»¶"><a class="anchor" href="#%e6%a0%b8%e5%bf%83%e7%bb%84%e4%bb%b6">#</a>æ ¸å¿ƒç»„ä»¶</h2>
<h3 id="coflag"><a class="anchor" href="#coflag">#</a>co/flag</h3>
<p><a href="../../co/flag/">co/flag</a> æ˜¯ä¸€ä¸ªç®€å•æ˜“ç”¨çš„å‘½ä»¤è¡Œå‚æ•°ä¸é…ç½®æ–‡ä»¶è§£æåº“ï¼ŒCO ä¸­çš„ä¸€äº›ç»„ä»¶ä¼šç”¨å®ƒå®šä¹‰é…ç½®é¡¹ã€‚</p>
<p>co/flag ä¸ºæ¯ä¸ªé…ç½®é¡¹æä¾›ä¸€ä¸ªé»˜è®¤å€¼ï¼Œåœ¨æ²¡æœ‰é…ç½®å‚æ•°çš„æƒ…å†µä¸‹ï¼Œç¨‹åºå¯ä»¥æŒ‰é»˜è®¤é…ç½®è¿è¡Œã€‚ç”¨æˆ·ä¹Ÿå¯ä»¥ä»<strong>å‘½ä»¤è¡Œæˆ–é…ç½®æ–‡ä»¶</strong>ä¼ å…¥é…ç½®å‚æ•°ï¼Œåœ¨éœ€è¦é…ç½®æ–‡ä»¶æ—¶ï¼Œå¯ä»¥æ‰§è¡Œ <code>./exe -mkconf</code> <strong>è‡ªåŠ¨ç”Ÿæˆé…ç½®æ–‡ä»¶</strong>ã€‚</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#998;font-style:italic">// xx.cc
</span><span style="color:#998;font-style:italic"></span><span style="color:#999;font-weight:bold;font-style:italic">#include</span> <span style="color:#999;font-weight:bold;font-style:italic">&#34;co/flag.h&#34;</span><span style="color:#999;font-weight:bold;font-style:italic">
</span><span style="color:#999;font-weight:bold;font-style:italic">#include</span> <span style="color:#999;font-weight:bold;font-style:italic">&#34;co/log.h&#34;</span><span style="color:#999;font-weight:bold;font-style:italic">
</span><span style="color:#999;font-weight:bold;font-style:italic"></span>
DEF_bool(x, <span style="color:#0086b3">false</span>, <span style="color:#d14">&#34;bool x&#34;</span>);
DEF_bool(y, <span style="color:#0086b3">false</span>, <span style="color:#d14">&#34;bool y&#34;</span>);
DEF_uint32(u32, <span style="color:#099">0</span>, <span style="color:#d14">&#34;...&#34;</span>);
DEF_string(s, <span style="color:#d14">&#34;hello world&#34;</span>, <span style="color:#d14">&#34;string&#34;</span>);

<span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span>(<span style="color:#458;font-weight:bold">int</span> argc, <span style="color:#458;font-weight:bold">char</span><span style="color:#000;font-weight:bold">**</span> argv) {
    flag<span style="color:#000;font-weight:bold">::</span>init(argc, argv);

    COUT <span style="color:#000;font-weight:bold">&lt;&lt;</span> <span style="color:#d14">&#34;x: &#34;</span> <span style="color:#000;font-weight:bold">&lt;&lt;</span> FLG_x;
    COUT <span style="color:#000;font-weight:bold">&lt;&lt;</span> <span style="color:#d14">&#34;y: &#34;</span> <span style="color:#000;font-weight:bold">&lt;&lt;</span> FLG_y;
    COUT <span style="color:#000;font-weight:bold">&lt;&lt;</span> <span style="color:#d14">&#34;u32: &#34;</span> <span style="color:#000;font-weight:bold">&lt;&lt;</span> FLG_u32;
    COUT <span style="color:#000;font-weight:bold">&lt;&lt;</span> FLG_s <span style="color:#000;font-weight:bold">&lt;&lt;</span> <span style="color:#d14">&#34;|&#34;</span> <span style="color:#000;font-weight:bold">&lt;&lt;</span> FLG_s.size();

    <span style="color:#000;font-weight:bold">return</span> <span style="color:#099">0</span>;
}
</code></pre></div><p>ä¸Šé¢æ˜¯ä¸€ä¸ªä½¿ç”¨ co/flag çš„ä¾‹å­ï¼Œä»£ç ä¸­ <code>DEF_</code> å¼€å¤´çš„å®ï¼Œå®šä¹‰äº† 4 ä¸ªé…ç½®é¡¹ï¼Œæ¯ä¸ªé…ç½®é¡¹ç›¸å½“äºä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå˜é‡åæ˜¯ <code>FLG_</code> åŠ é…ç½®åã€‚ä¸Šé¢çš„ä»£ç ç¼–è¯‘å®Œåï¼Œå¯ä»¥æŒ‰ä¸‹é¢çš„æ–¹å¼è¿è¡Œï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">./xx                  <span style="color:#998;font-style:italic"># æŒ‰é»˜è®¤é…ç½®è¿è¡Œ</span>
./xx -xy -s good      <span style="color:#998;font-style:italic"># å•å­—æ¯å‘½åçš„ bool flag, å¯ä»¥ä¸€å¹¶è®¾ç½®ä¸º true</span>
./xx -s <span style="color:#d14">&#34;I&#39;m ok&#34;</span>      <span style="color:#998;font-style:italic"># å«ç©ºæ ¼çš„å­—ç¬¦ä¸²</span>
./xx -u32 8k          <span style="color:#998;font-style:italic"># æ•´æ•°å¯ä»¥å¸¦å•ä½: k,m,g,t,p, ä¸åŒºåˆ†å¤§å°å†™</span>

./xx -mkconf          <span style="color:#998;font-style:italic"># è‡ªåŠ¨ç”Ÿæˆé…ç½®æ–‡ä»¶ xx.conf</span>
./xx xx.conf          <span style="color:#998;font-style:italic"># ä»é…ç½®æ–‡ä»¶ä¼ å…¥å‚æ•°</span>
./xx -config xx.conf  <span style="color:#998;font-style:italic"># ä¸ä¸ŠåŒ</span>
</code></pre></div><h3 id="colog"><a class="anchor" href="#colog">#</a>co/log</h3>
<p><a href="../../co/log/">co/log</a> æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„æœ¬åœ°æ—¥å¿—ç³»ç»Ÿï¼ŒCO ä¸­çš„ä¸€äº›ç»„ä»¶ä¼šç”¨å®ƒæ‰“å°æ—¥å¿—ã€‚</p>
<p>co/log å°†æ—¥å¿—åˆ†ä¸º debug, info, warning, error, fatal 5 ä¸ªçº§åˆ«ï¼Œ<strong>æ‰“å° fatal çº§åˆ«çš„æ—¥å¿—ä¼šç»ˆæ­¢ç¨‹åºçš„è¿è¡Œ</strong>ã€‚ç”¨æˆ·å¯ä»¥åƒä¸‹é¢è¿™æ ·æ‰“å°ä¸åŒçº§åˆ«çš„æ—¥å¿—ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">DLOG <span style="color:#000;font-weight:bold">&lt;&lt;</span> <span style="color:#d14">&#34;hello &#34;</span> <span style="color:#000;font-weight:bold">&lt;&lt;</span> <span style="color:#099">23</span>;  <span style="color:#998;font-style:italic">// debug
</span><span style="color:#998;font-style:italic"></span>LOG <span style="color:#000;font-weight:bold">&lt;&lt;</span> <span style="color:#d14">&#34;hello &#34;</span> <span style="color:#000;font-weight:bold">&lt;&lt;</span> <span style="color:#099">23</span>;   <span style="color:#998;font-style:italic">// info
</span><span style="color:#998;font-style:italic"></span>WLOG <span style="color:#000;font-weight:bold">&lt;&lt;</span> <span style="color:#d14">&#34;hello &#34;</span> <span style="color:#000;font-weight:bold">&lt;&lt;</span> <span style="color:#099">23</span>;  <span style="color:#998;font-style:italic">// warning
</span><span style="color:#998;font-style:italic"></span>ELOG <span style="color:#000;font-weight:bold">&lt;&lt;</span> <span style="color:#d14">&#34;hello &#34;</span> <span style="color:#000;font-weight:bold">&lt;&lt;</span> <span style="color:#099">23</span>;  <span style="color:#998;font-style:italic">// error
</span><span style="color:#998;font-style:italic"></span>FLOG <span style="color:#000;font-weight:bold">&lt;&lt;</span> <span style="color:#d14">&#34;hello &#34;</span> <span style="color:#000;font-weight:bold">&lt;&lt;</span> <span style="color:#099">23</span>;  <span style="color:#998;font-style:italic">// fatal
</span></code></pre></div><p>co/log è¿˜æä¾›äº†ä¸€ç³»åˆ— <code>CHECK</code> å®ï¼Œå¯ä»¥è§†ä¸ºåŠ å¼ºç‰ˆçš„ <code>assert</code>ï¼Œå®ƒä»¬åœ¨ debug æ¨¡å¼ä¸‹ä¹Ÿä¸ä¼šè¢«æ¸…é™¤ã€‚</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#458;font-weight:bold">void</span><span style="color:#000;font-weight:bold">*</span> p <span style="color:#000;font-weight:bold">=</span> malloc(<span style="color:#099">32</span>);
CHECK(p <span style="color:#000;font-weight:bold">!=</span> <span style="color:#0086b3">NULL</span>) <span style="color:#000;font-weight:bold">&lt;&lt;</span> <span style="color:#d14">&#34;malloc failed..&#34;</span>;
CHECK_NE(p, <span style="color:#0086b3">NULL</span>) <span style="color:#000;font-weight:bold">&lt;&lt;</span> <span style="color:#d14">&#34;malloc failed..&#34;</span>;
</code></pre></div><p>CHECK æ–­è¨€å¤±è´¥æ—¶ï¼Œco/log ä¼šæ‰“å°å‡½æ•°è°ƒç”¨æ ˆä¿¡æ¯ï¼Œç„¶åç»ˆæ­¢ç¨‹åºçš„è¿è¡Œã€‚</p>
<p>co/log é€Ÿåº¦éå¸¸å¿«ï¼Œåœ¨ç¨‹åºè¿è¡Œç¨³å®šåï¼Œå‡ ä¹ä¸éœ€è¦å†…å­˜åˆ†é…æ“ä½œã€‚ä¸‹é¢æ˜¯ä¸€äº›æµ‹è¯•ç»“æœï¼Œä»…ä¾›å‚è€ƒï¼š</p>
<ul>
<li>
<p>co/log vs glog (single thread)</p>
<table>
<thead>
<tr>
<th>platform</th>
<th>google glog</th>
<th>co/log</th>
</tr>
</thead>
<tbody>
<tr>
<td>win2012 HHD</td>
<td>1.6MB/s</td>
<td>180MB/s</td>
</tr>
<tr>
<td>win10 SSD</td>
<td>3.7MB/s</td>
<td>560MB/s</td>
</tr>
<tr>
<td>mac SSD</td>
<td>17MB/s</td>
<td>450MB/s</td>
</tr>
<tr>
<td>linux SSD</td>
<td>54MB/s</td>
<td>1023MB/s</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><a href="https://github.com/idealvin/co/tree/benchmark">co/log vs spdlog</a> (Windows)</p>
<table>
<thead>
<tr>
<th>threads</th>
<th>total logs</th>
<th>co/log time(seconds)</th>
<th>spdlog time(seconds)</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1000000</td>
<td>0.103619</td>
<td>0.482525</td>
</tr>
<tr>
<td>2</td>
<td>1000000</td>
<td>0.202246</td>
<td>0.565262</td>
</tr>
<tr>
<td>4</td>
<td>1000000</td>
<td>0.330694</td>
<td>0.722709</td>
</tr>
<tr>
<td>8</td>
<td>1000000</td>
<td>0.386760</td>
<td>1.322471</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><a href="https://github.com/idealvin/co/tree/benchmark">co/log vs spdlog</a> (Linux)</p>
<table>
<thead>
<tr>
<th>threads</th>
<th>total logs</th>
<th>co/log time(seconds)</th>
<th>spdlog time(seconds)</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1000000</td>
<td>0.096445</td>
<td>2.006087</td>
</tr>
<tr>
<td>2</td>
<td>1000000</td>
<td>0.142160</td>
<td>3.276006</td>
</tr>
<tr>
<td>4</td>
<td>1000000</td>
<td>0.181407</td>
<td>4.339714</td>
</tr>
<tr>
<td>8</td>
<td>1000000</td>
<td>0.303968</td>
<td>4.700860</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h3 id="counitest"><a class="anchor" href="#counitest">#</a>co/unitest</h3>
<p><a href="../../co/unitest/">co/unitest</a> æ˜¯ä¸€ä¸ªç®€å•æ˜“ç”¨çš„å•å…ƒæµ‹è¯•æ¡†æ¶ï¼ŒCO ä¸­çš„å¾ˆå¤šç»„ä»¶ä¼šç”¨å®ƒå†™å•å…ƒæµ‹è¯•ä»£ç ï¼Œä¸º CO çš„ç¨³å®šæ€§æä¾›äº†ä¿éšœã€‚</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#999;font-weight:bold;font-style:italic">#include</span> <span style="color:#999;font-weight:bold;font-style:italic">&#34;co/unitest.h&#34;</span><span style="color:#999;font-weight:bold;font-style:italic">
</span><span style="color:#999;font-weight:bold;font-style:italic">#include</span> <span style="color:#999;font-weight:bold;font-style:italic">&#34;co/os.h&#34;</span><span style="color:#999;font-weight:bold;font-style:italic">
</span><span style="color:#999;font-weight:bold;font-style:italic"></span>
<span style="color:#000;font-weight:bold">namespace</span> test {
    
DEF_test(os) {
    DEF_case(homedir) {
        EXPECT_NE(os<span style="color:#000;font-weight:bold">::</span>homedir(), <span style="color:#d14">&#34;&#34;</span>);
    }

    DEF_case(cpunum) {
        EXPECT_GT(os<span style="color:#000;font-weight:bold">::</span>cpunum(), <span style="color:#099">0</span>);
    }
}
    
} <span style="color:#998;font-style:italic">// namespace test
</span></code></pre></div><p>ä¸Šé¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œ<code>DEF_test</code> å®å®šä¹‰äº†ä¸€ä¸ªæµ‹è¯•å•å…ƒï¼Œå®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªå‡½æ•°(ç±»ä¸­çš„æ–¹æ³•)ã€‚<code>DEF_case</code> å®å®šä¹‰äº†æµ‹è¯•ç”¨ä¾‹ï¼Œæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªä»£ç å—ã€‚å¤šä¸ªæµ‹è¯•å•å…ƒå¯ä»¥æ”¾åˆ°åŒä¸€ä¸ª C++ é¡¹ç›®ä¸­ï¼Œmain å‡½æ•°ä¸€èˆ¬åªéœ€è¦ä¸‹é¢å‡ è¡Œï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#999;font-weight:bold;font-style:italic">#include</span> <span style="color:#999;font-weight:bold;font-style:italic">&#34;co/unitest.h&#34;</span><span style="color:#999;font-weight:bold;font-style:italic">
</span><span style="color:#999;font-weight:bold;font-style:italic"></span>
<span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span>(<span style="color:#458;font-weight:bold">int</span> argc, <span style="color:#458;font-weight:bold">char</span><span style="color:#000;font-weight:bold">**</span> argv) {
    flag<span style="color:#000;font-weight:bold">::</span>init(argc, argv);
    unitest<span style="color:#000;font-weight:bold">::</span>run_all_tests();
    <span style="color:#000;font-weight:bold">return</span> <span style="color:#099">0</span>;
}
</code></pre></div><p><a href="https://github.com/idealvin/co/tree/master/unitest">co/unitest</a> ç›®å½•ä¸‹é¢æ˜¯ CO ä¸­çš„å•å…ƒæµ‹è¯•ä»£ç ï¼Œç¼–è¯‘åå¯æ‰§è¡Œä¸‹è¿°å‘½ä»¤è¿è¡Œï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">xmake r unitest -a   <span style="color:#998;font-style:italic"># è¿è¡Œæ‰€æœ‰å•å…ƒæµ‹è¯•ç”¨ä¾‹</span>
xmake r unitest -os  <span style="color:#998;font-style:italic"># ä»…è¿è¡Œ os å•å…ƒä¸­çš„æµ‹è¯•ç”¨ä¾‹</span>
</code></pre></div><h3 id="åç¨‹"><a class="anchor" href="#%e5%8d%8f%e7%a8%8b">#</a>åç¨‹</h3>
<p>CO å®ç°äº†ç±»ä¼¼ <a href="https://github.com/golang/go">golang</a> çš„åç¨‹ï¼Œå®ƒæœ‰å¦‚ä¸‹ç‰¹æ€§ï¼š</p>
<ul>
<li>å¤šçº¿ç¨‹è°ƒåº¦ï¼Œé»˜è®¤çº¿ç¨‹æ•°ä¸ºç³»ç»Ÿ CPU æ ¸æ•°ã€‚</li>
<li>å…±äº«æ ˆï¼ŒåŒä¸€çº¿ç¨‹ä¸­çš„åç¨‹å…±ç”¨è‹¥å¹²ä¸ªæ ˆ(å¤§å°é»˜è®¤ä¸º 1MB)ï¼Œå†…å­˜å ç”¨ä½ï¼ŒLinux ä¸Šçš„æµ‹è¯•æ˜¾ç¤º 1000 ä¸‡åç¨‹åªç”¨äº† 2.8G å†…å­˜(ä»…ä¾›å‚è€ƒ)ã€‚</li>
<li>å„åç¨‹ä¹‹é—´ä¸ºå¹³çº§å…³ç³»ï¼Œå¯ä»¥åœ¨ä»»ä½•åœ°æ–¹(åŒ…æ‹¬åœ¨åç¨‹ä¸­)åˆ›å»ºæ–°çš„åç¨‹ã€‚</li>
<li>æ”¯æŒç³»ç»Ÿ API hook (Windows/Linux/Mac)ï¼Œå¯ä»¥ç›´æ¥åœ¨åç¨‹ä¸­ä½¿ç”¨ä¸‰æ–¹ç½‘ç»œåº“ã€‚</li>
<li>åç¨‹åŒ–çš„ <a href="../../co/coroutine/#%e5%8d%8f%e7%a8%8b%e5%8c%96%e7%9a%84-socket-api">socket API</a>ã€‚</li>
<li>åç¨‹åŒæ­¥äº‹ä»¶ <a href="../../co/coroutine/#%e5%8d%8f%e7%a8%8b%e5%90%8c%e6%ad%a5%e4%ba%8b%e4%bb%b6coevent">co::Event</a>ã€‚</li>
<li>åç¨‹é” <a href="../../co/coroutine/#%e5%8d%8f%e7%a8%8b%e9%94%81comutex">co::Mutex</a>ã€‚</li>
<li>åç¨‹æ±  <a href="../../co/coroutine/#%e5%8d%8f%e7%a8%8b%e6%b1%a0copool">co::Pool</a>ã€‚</li>
<li>channel <a href="../../co/coroutine/#channelcochan">co::Chan</a>ã€‚</li>
<li>waitgroup <a href="../../co/coroutine/#waitgroupcowaitgroup">co::WaitGroup</a>ã€‚</li>
</ul>
<h4 id="åˆ›å»ºåç¨‹"><a class="anchor" href="#%e5%88%9b%e5%bb%ba%e5%8d%8f%e7%a8%8b">#</a>åˆ›å»ºåç¨‹</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">go(ku);            <span style="color:#998;font-style:italic">// void ku();
</span><span style="color:#998;font-style:italic"></span>go(f, <span style="color:#099">7</span>);          <span style="color:#998;font-style:italic">// void f(int);
</span><span style="color:#998;font-style:italic"></span>go(<span style="color:#000;font-weight:bold">&amp;</span>T<span style="color:#000;font-weight:bold">::</span>f, <span style="color:#000;font-weight:bold">&amp;</span>o);     <span style="color:#998;font-style:italic">// void T::f(); T o;
</span><span style="color:#998;font-style:italic"></span>go(<span style="color:#000;font-weight:bold">&amp;</span>T<span style="color:#000;font-weight:bold">::</span>f, <span style="color:#000;font-weight:bold">&amp;</span>o, <span style="color:#099">7</span>);  <span style="color:#998;font-style:italic">// void T::f(int); T o;
</span><span style="color:#998;font-style:italic"></span>go([](){
    LOG <span style="color:#000;font-weight:bold">&lt;&lt;</span> <span style="color:#d14">&#34;hello go&#34;</span>;
});
</code></pre></div><p>ä¸Šé¢æ˜¯ç”¨ <code>go()</code> åˆ›å»ºåç¨‹çš„ä¾‹å­ï¼Œgo() æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥å— 1 åˆ° 3 ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•° <code>f</code> æ˜¯ä»»æ„å¯è°ƒç”¨çš„å¯¹è±¡ï¼Œè¿™äº›å‚æ•°åªè¦æ»¡è¶³ <code>f()</code>, <code>(*f)()</code>, <code>f(p)</code>, <code>(*f)(p)</code>, <code>(o-&gt;*f)()</code> æˆ–è€… <code>(o-&gt;*f)(p)</code> èƒ½è¢«è°ƒç”¨å°±å¯ä»¥äº†ã€‚</p>
<p><code>go()</code> åˆ›å»ºçš„åç¨‹ä¼šå‡åŒ€çš„åˆ†é…åˆ°ä¸åŒçš„è°ƒåº¦çº¿ç¨‹ä¸­ã€‚å¦‚æœç”¨æˆ·æƒ³è®©æŸäº›åç¨‹è¿è¡Œåœ¨åŒä¸€ä¸ªçº¿ç¨‹ä¸‹ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„æ–¹å¼åˆ›å»ºåç¨‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#000;font-weight:bold">auto</span> s <span style="color:#000;font-weight:bold">=</span> co<span style="color:#000;font-weight:bold">::</span>next_scheduler();
s<span style="color:#000;font-weight:bold">-&gt;</span>go(f1);
s<span style="color:#000;font-weight:bold">-&gt;</span>go(f2);
</code></pre></div><p>å¦‚æœç”¨æˆ·æƒ³åœ¨æ‰€æœ‰çš„è°ƒåº¦çº¿ç¨‹ä¸­åˆ›å»ºåç¨‹ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„æ–¹å¼ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#000;font-weight:bold">auto</span><span style="color:#000;font-weight:bold">&amp;</span> s <span style="color:#000;font-weight:bold">=</span> co<span style="color:#000;font-weight:bold">::</span>all_schedulers();
<span style="color:#000;font-weight:bold">for</span> (size_t i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>; i <span style="color:#000;font-weight:bold">&lt;</span> s.size(); <span style="color:#000;font-weight:bold">++</span>i) {
    s[i]<span style="color:#000;font-weight:bold">-&gt;</span>go(f);
}
</code></pre></div><h4 id="channel"><a class="anchor" href="#channel">#</a>channel</h4>
<p><a href="../../co/coroutine/#channelcochan">co::Chan</a>ï¼Œç±»ä¼¼äº golang ä¸­çš„ channelï¼Œå¯ç”¨äºåœ¨åç¨‹ä¹‹é—´ä¼ é€’æ•°æ®ã€‚</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#999;font-weight:bold;font-style:italic">#include</span> <span style="color:#999;font-weight:bold;font-style:italic">&#34;co/co.h&#34;</span><span style="color:#999;font-weight:bold;font-style:italic">
</span><span style="color:#999;font-weight:bold;font-style:italic"></span>
DEF_main(argc, argv) {
    co<span style="color:#000;font-weight:bold">::</span>Chan<span style="color:#000;font-weight:bold">&lt;</span><span style="color:#458;font-weight:bold">int</span><span style="color:#000;font-weight:bold">&gt;</span> ch;
    go([ch]() {
        ch <span style="color:#000;font-weight:bold">&lt;&lt;</span> <span style="color:#099">7</span>;
    });

    <span style="color:#458;font-weight:bold">int</span> v <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>;
    ch <span style="color:#000;font-weight:bold">&gt;&gt;</span> v;
    LOG <span style="color:#000;font-weight:bold">&lt;&lt;</span> <span style="color:#d14">&#34;v: &#34;</span> <span style="color:#000;font-weight:bold">&lt;&lt;</span> v;

    <span style="color:#000;font-weight:bold">return</span> <span style="color:#099">0</span>;
}
</code></pre></div><p><strong>channel çš„è¯»å†™æ“ä½œå¿…é¡»åœ¨åç¨‹ä¸­è¿›è¡Œ</strong>ï¼Œå› æ­¤ä¸Šè¿°ä»£ç ä¸­ç”¨ <code>DEF_main</code> å®šä¹‰ main å‡½æ•°ï¼Œè®© main å‡½æ•°ä¸­çš„ä»£ç ä¹Ÿè¿è¡Œåœ¨åç¨‹ä¸­ã€‚</p>
<p>ä»£ç ä¸­çš„ channel å¯¹è±¡åœ¨æ ˆä¸Šï¼Œè€Œ CO é‡‡ç”¨çš„æ˜¯å…±äº«æ ˆå®ç°æ–¹å¼ï¼Œä¸€ä¸ªåç¨‹æ ˆä¸Šçš„æ•°æ®å¯èƒ½è¢«å…¶ä»–åç¨‹è¦†ç›–ï¼Œ<strong>åç¨‹é—´ä¸€èˆ¬ä¸èƒ½ç›´æ¥é€šè¿‡æ ˆä¸Šçš„æ•°æ®é€šä¿¡</strong>ï¼Œå› æ­¤ä»£ç ä¸­çš„ lambda é‡‡ç”¨äº†<strong>æŒ‰å€¼æ•è·</strong>çš„æ–¹å¼ï¼Œå°† channel æ‹·è´äº†ä¸€ä»½ï¼Œä¼ é€’åˆ°æ–°å»ºçš„åç¨‹ä¸­ã€‚channel çš„æ‹·è´æ“ä½œåªæ˜¯å°†å†…éƒ¨å¼•ç”¨è®¡æ•°åŠ  1ï¼Œå‡ ä¹ä¸ä¼šå¯¹æ€§èƒ½é€ æˆå½±å“ã€‚</p>
<p>åˆ›å»º channel æ—¶å¯ä»¥åƒä¸‹é¢è¿™æ ·åŠ ä¸Šè¶…æ—¶æ—¶é—´ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">co<span style="color:#000;font-weight:bold">::</span>Chan<span style="color:#000;font-weight:bold">&lt;</span><span style="color:#458;font-weight:bold">int</span><span style="color:#000;font-weight:bold">&gt;</span> ch(<span style="color:#099">8</span>, <span style="color:#099">1000</span>);
</code></pre></div><p>channel è¯»å†™æ“ä½œç»“æŸåï¼Œå¯ä»¥è°ƒç”¨ <code>co::timeout()</code> åˆ¤æ–­æ˜¯å¦è¶…æ—¶ï¼Œè¿™ç§æ–¹å¼æ¯” golang ä¸­åŸºäº select çš„å®ç°æ–¹å¼æ›´ç®€å•ã€‚</p>
<p>CO ä¸­çš„ channel åŸºäºå†…å­˜æ‹·è´å®ç°ï¼Œä¼ é€’çš„æ•°æ®ç±»å‹å¯ä»¥æ˜¯å†…ç½®ç±»å‹ã€æŒ‡é’ˆç±»å‹ï¼Œæˆ–è€…<strong>æ‹·è´æ“ä½œå…·æœ‰ç®€å•çš„å†…å­˜æ‹·è´è¯­ä¹‰çš„ç»“æ„ä½“ç±»å‹</strong>ã€‚åƒ <code>std::string</code> æˆ– STL ä¸­çš„å®¹å™¨ç±»å‹ï¼Œæ‹·è´æ“ä½œä¸æ˜¯ç®€å•çš„å†…å­˜æ‹·è´ï¼Œä¸€èˆ¬ä¸èƒ½ç›´æ¥åœ¨ channel ä¸­ä¼ é€’ï¼Œè¯¦æƒ…è§ <a href="../../co/coroutine/#channelcochan">co::Chan å‚è€ƒæ–‡æ¡£</a>ã€‚</p>
<h4 id="waitgroup"><a class="anchor" href="#waitgroup">#</a>waitgroup</h4>
<p><a href="../../co/coroutine/#waitgroupcowaitgroup">co::WaitGroup</a>ï¼Œç±»ä¼¼äº golang ä¸­çš„ <code>sync.WaitGroup</code>ï¼Œå¯ç”¨äºç­‰å¾…åç¨‹æˆ–çº¿ç¨‹çš„é€€å‡ºã€‚</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#999;font-weight:bold;font-style:italic">#include</span> <span style="color:#999;font-weight:bold;font-style:italic">&#34;co/co.h&#34;</span><span style="color:#999;font-weight:bold;font-style:italic">
</span><span style="color:#999;font-weight:bold;font-style:italic"></span>
DEF_main(argc, argv) {
    FLG_cout <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">true</span>;

    co<span style="color:#000;font-weight:bold">::</span>WaitGroup wg;
    wg.add(<span style="color:#099">8</span>);

    <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>; i <span style="color:#000;font-weight:bold">&lt;</span> <span style="color:#099">8</span>; <span style="color:#000;font-weight:bold">++</span>i) {
        go([wg]() {
            LOG <span style="color:#000;font-weight:bold">&lt;&lt;</span> <span style="color:#d14">&#34;co: &#34;</span> <span style="color:#000;font-weight:bold">&lt;&lt;</span> co<span style="color:#000;font-weight:bold">::</span>coroutine_id();
            wg.done();
        });
    }

    wg.wait();
    <span style="color:#000;font-weight:bold">return</span> <span style="color:#099">0</span>;
}
</code></pre></div><h3 id="ç½‘ç»œç¼–ç¨‹"><a class="anchor" href="#%e7%bd%91%e7%bb%9c%e7%bc%96%e7%a8%8b">#</a>ç½‘ç»œç¼–ç¨‹</h3>
<p>CO æä¾›äº†ä¸€å¥—åç¨‹åŒ–çš„ <a href="../../co/coroutine/#%e5%8d%8f%e7%a8%8b%e5%8c%96%e7%9a%84-socket-api">socket API</a>ï¼Œå®ƒä»¬å¤§éƒ¨åˆ†å½¢å¼ä¸Šä¸åŸç”Ÿçš„ socket API åŸºæœ¬ä¸€è‡´ï¼Œç†Ÿæ‚‰ socket ç¼–ç¨‹çš„ç”¨æˆ·ï¼Œå¯ä»¥è½»æ¾çš„ç”¨åŒæ­¥çš„æ–¹å¼å†™å‡ºé«˜æ€§èƒ½çš„ç½‘ç»œç¨‹åºã€‚å¦å¤–ï¼ŒCO ä¹Ÿå®ç°äº†æ›´é«˜å±‚çš„ç½‘ç»œç¼–ç¨‹ç»„ä»¶ï¼ŒåŒ…æ‹¬ <a href="../../co/net/tcp/">TCP</a>ã€<a href="../../co/net/http/">HTTP</a> ä»¥åŠåŸºäº <a href="../../co/json/">JSON</a> çš„ <a href="../../co/net/rpc/">RPC</a> æ¡†æ¶ï¼Œå®ƒä»¬å…¼å®¹ IPv6ï¼ŒåŒæ—¶æ”¯æŒ SSLï¼Œç”¨èµ·æ¥æ¯” socket API æ›´æ–¹ä¾¿ã€‚è¿™é‡Œåªç®€å•çš„å±•ç¤ºä¸€ä¸‹ HTTP çš„ç”¨æ³•ï¼Œå…¶ä½™çš„å¯ä»¥æŸ¥çœ‹å‚è€ƒæ–‡æ¡£ã€‚</p>
<p><strong>é™æ€ web server</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#999;font-weight:bold;font-style:italic">#include</span> <span style="color:#999;font-weight:bold;font-style:italic">&#34;co/flag.h&#34;</span><span style="color:#999;font-weight:bold;font-style:italic">
</span><span style="color:#999;font-weight:bold;font-style:italic">#include</span> <span style="color:#999;font-weight:bold;font-style:italic">&#34;co/log.h&#34;</span><span style="color:#999;font-weight:bold;font-style:italic">
</span><span style="color:#999;font-weight:bold;font-style:italic">#include</span> <span style="color:#999;font-weight:bold;font-style:italic">&#34;co/so.h&#34;</span><span style="color:#999;font-weight:bold;font-style:italic">
</span><span style="color:#999;font-weight:bold;font-style:italic"></span>
DEF_string(d, <span style="color:#d14">&#34;.&#34;</span>, <span style="color:#d14">&#34;root dir&#34;</span>); <span style="color:#998;font-style:italic">// Specify the root directory of the web server
</span><span style="color:#998;font-style:italic"></span>
<span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span>(<span style="color:#458;font-weight:bold">int</span> argc, <span style="color:#458;font-weight:bold">char</span><span style="color:#000;font-weight:bold">**</span> argv) {
    flag<span style="color:#000;font-weight:bold">::</span>init(argc, argv);
    log<span style="color:#000;font-weight:bold">::</span>init();

    so<span style="color:#000;font-weight:bold">::</span>easy(FLG_d.c_str()); <span style="color:#998;font-style:italic">// mum never have to worry again
</span><span style="color:#998;font-style:italic"></span>
    <span style="color:#000;font-weight:bold">return</span> <span style="color:#099">0</span>;
}
</code></pre></div><p><strong>HTTP server</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">http<span style="color:#000;font-weight:bold">::</span>Server serv;

serv.on_req(
    [](<span style="color:#000;font-weight:bold">const</span> http<span style="color:#000;font-weight:bold">::</span>Req<span style="color:#000;font-weight:bold">&amp;</span> req, http<span style="color:#000;font-weight:bold">::</span>Res<span style="color:#000;font-weight:bold">&amp;</span> res) {
        <span style="color:#000;font-weight:bold">if</span> (req.is_method_get()) {
            <span style="color:#000;font-weight:bold">if</span> (req.url() <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#34;/hello&#34;</span>) {
                res.set_status(<span style="color:#099">200</span>);
                res.set_body(<span style="color:#d14">&#34;hello world&#34;</span>);
            } <span style="color:#000;font-weight:bold">else</span> {
                res.set_status(<span style="color:#099">404</span>);
            }
        } <span style="color:#000;font-weight:bold">else</span> {
            res.set_status(<span style="color:#099">405</span>); <span style="color:#998;font-style:italic">// method not allowed
</span><span style="color:#998;font-style:italic"></span>        }
    }
);

serv.start(<span style="color:#d14">&#34;0.0.0.0&#34;</span>, <span style="color:#099">80</span>);                                    <span style="color:#998;font-style:italic">// http
</span><span style="color:#998;font-style:italic"></span>serv.start(<span style="color:#d14">&#34;0.0.0.0&#34;</span>, <span style="color:#099">443</span>, <span style="color:#d14">&#34;privkey.pem&#34;</span>, <span style="color:#d14">&#34;certificate.pem&#34;</span>); <span style="color:#998;font-style:italic">// https
</span></code></pre></div><p><strong>HTTP client</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">f</span>() {
    http<span style="color:#000;font-weight:bold">::</span>Client c(<span style="color:#d14">&#34;https://github.com&#34;</span>);

    c.get(<span style="color:#d14">&#34;/&#34;</span>);
    LOG <span style="color:#000;font-weight:bold">&lt;&lt;</span> <span style="color:#d14">&#34;response code: &#34;</span><span style="color:#000;font-weight:bold">&lt;&lt;</span> c.response_code();
    LOG <span style="color:#000;font-weight:bold">&lt;&lt;</span> <span style="color:#d14">&#34;body size: &#34;</span><span style="color:#000;font-weight:bold">&lt;&lt;</span> c.body_size();
    LOG <span style="color:#000;font-weight:bold">&lt;&lt;</span> <span style="color:#d14">&#34;Content-Length: &#34;</span><span style="color:#000;font-weight:bold">&lt;&lt;</span> c.header(<span style="color:#d14">&#34;Content-Length&#34;</span>);
    LOG <span style="color:#000;font-weight:bold">&lt;&lt;</span> c.header();

    c.post(<span style="color:#d14">&#34;/hello&#34;</span>, <span style="color:#d14">&#34;data xxx&#34;</span>);
    LOG <span style="color:#000;font-weight:bold">&lt;&lt;</span> <span style="color:#d14">&#34;response code: &#34;</span><span style="color:#000;font-weight:bold">&lt;&lt;</span> c.response_code();
}

go(f);
</code></pre></div></article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">

  



  
    
  
    
  


  


<div class="book-languages" tabindex="0" aria-haspopup="true">
  <ul>
    <li class="flex align-center">
      <img src="../../../svg/translate.svg" class="book-icon" alt="Languages" />
      ä¸­æ–‡
    </li> 
  </ul>

  <ul class="book-languages-list">
    
    <li class="active">
      <a href="../../../cn/" class="flex align-center">
        <img src="../../../svg/translate.svg" class="book-icon" alt="Languages" />
        ä¸­æ–‡
      </a>
    </li>
    
    <li class="">
      <a href="../../../en/about/co/" class="flex align-center">
        <img src="../../../svg/translate.svg" class="book-icon" alt="Languages" />
        English
      </a>
    </li>
    
  </ul>
</div>




  <div class="book-date"><a class="flex align-center" href="https://github.com/cocoyaxi/codoc/commit/4a60e17ba65dc6c26412646734470dc1be4ac6e2" title='æœ€åä¿®æ”¹è€… idealvin | August 9, 2021' target="_blank" rel="noopener">
      <img src="../../../svg/calendar.svg" class="book-icon" alt="Calendar" />
      <span>August 9, 2021</span>
    </a>
  </div>



  <div class="book-edit">
    <a class="flex align-center" href="https://github.com/cocoyaxi/codoc/edit/master/content/cn/about/co.md" target="_blank" rel="noopener">
      <img src="../../../svg/edit.svg" class="book-icon" alt="Edit" />
      <span>ç¼–è¾‘æœ¬é¡µ</span>
    </a>
  </div>

</div>

 
        





<script src="//cdn.bootcss.com/highlight.js/11.1.0/highlight.min.js"></script>



<script src="//cdn.bootcss.com/highlight.js/11.1.0/languages/cpp.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/11.1.0/languages/bash.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/11.1.0/languages/lua.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/11.1.0/languages/yaml.min.js"></script>
<script>hljs.configure({ languages: [] }); hljs.initHighlightingOnLoad();</script>





      </footer>

      
  
  <div class="book-comments">


<link rel="stylesheet" href="//cdn.bootcss.com/gitalk/1.7.2/gitalk.min.css">
<script src="//cdn.bootcss.com/gitalk/1.7.2/gitalk.min.js"></script>
<div id="gitalk-container"></div>
<script type="text/javascript">
  var gitalk = new Gitalk({
    clientID: '11f9ff9ca43804d70b32',
    clientSecret: '07e2bd5b09a1654e7942a7698c3ec164e7566177',
    repo: 'gitalk',
    owner: 'idealvin',
    admin: ['idealvin'],
    id: location.pathname,
    language: 'zh-CN',
    distractionFreeMode: false,
    proxy: 'https:\/\/cors-anywhere.azm.workers.dev\/https:\/\/github.com\/login\/oauth\/access_token'
  })
  gitalk.render('gitalk-container');
</script></div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#co-æ˜¯ä»€ä¹ˆ">CO æ˜¯ä»€ä¹ˆ</a></li>
        <li><a href="#co-çš„å‘å±•å†ç¨‹">CO çš„å‘å±•å†ç¨‹</a></li>
        <li><a href="#å¿«é€Ÿä¸Šæ‰‹">å¿«é€Ÿä¸Šæ‰‹</a>
          <ul>
            <li><a href="#ç¼–è¯‘">ç¼–è¯‘</a></li>
            <li><a href="#ä½¿ç”¨-co-å¼€å‘-c-é¡¹ç›®">ä½¿ç”¨ CO å¼€å‘ C++ é¡¹ç›®</a></li>
          </ul>
        </li>
        <li><a href="#æ ¸å¿ƒç»„ä»¶">æ ¸å¿ƒç»„ä»¶</a>
          <ul>
            <li><a href="#coflag">co/flag</a></li>
            <li><a href="#colog">co/log</a></li>
            <li><a href="#counitest">co/unitest</a></li>
            <li><a href="#åç¨‹">åç¨‹</a>
              <ul>
                <li><a href="#åˆ›å»ºåç¨‹">åˆ›å»ºåç¨‹</a></li>
                <li><a href="#channel">channel</a></li>
                <li><a href="#waitgroup">waitgroup</a></li>
              </ul>
            </li>
            <li><a href="#ç½‘ç»œç¼–ç¨‹">ç½‘ç»œç¼–ç¨‹</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












