<!DOCTYPE html>
<html lang="cn" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="include: co/co.h.
#Socket APIs co Êèê‰æõ‰∫ÜÂ∏∏Áî®ÁöÑÂçèÁ®ãÂåñÁöÑ socket APIÔºå‰ª•ÊîØÊåÅÂü∫‰∫éÂçèÁ®ãÁöÑÁΩëÁªúÁºñÁ®ã„ÄÇ
Â§ßÈÉ®ÂàÜ API ÂΩ¢Âºè‰∏ä‰∏éÂéüÁîüÁöÑ socket API ‰øùÊåÅ‰∏ÄËá¥ÔºåËøôÊ†∑ÂèØ‰ª•ÂáèËΩªÁî®Êà∑ÁöÑÂ≠¶‰π†Ë¥üÊãÖÔºåÁÜüÊÇâ socket ÁºñÁ®ãÁöÑÁî®Êà∑ÂèØ‰ª•ËΩªÊùæ‰∏äÊâã„ÄÇ
Ëøô‰∫õ API Â§ßÈÉ®ÂàÜÈúÄË¶ÅÂú®ÂçèÁ®ã‰∏≠‰ΩøÁî®ÔºåÂÆÉ‰ª¨Âú® I/O ÈòªÂ°ûÊàñË∞ÉÁî® sleep Á≠âÊìç‰ΩúÊó∂ÔºåË∞ÉÂ∫¶Á∫øÁ®ã‰ºöÊåÇËµ∑ÂΩìÂâçÂçèÁ®ãÔºåÂàáÊç¢Âà∞ÂÖ∂‰ªñÁ≠âÂæÖ‰∏≠ÁöÑÂçèÁ®ãËøêË°åÔºåË∞ÉÂ∫¶Á∫øÁ®ãÊú¨Ë∫´Âπ∂‰∏ç‰ºöÈòªÂ°û„ÄÇÂÄüÂä©Ëøô‰∫õ APIÔºåÁî®Êà∑ÂèØ‰ª•ËΩªÊùæÁöÑÂÆûÁé∞È´òÂπ∂Âèë„ÄÅÈ´òÊÄßËÉΩÁöÑÁΩëÁªúÁ®ãÂ∫è„ÄÇ
#ÊúØËØ≠Á∫¶ÂÆö ÈòªÂ°û
Âú®ÊèèËø∞ co ‰∏≠ÁöÑ‰∏Ä‰∫õ socket API Êó∂Ôºå‰ºöÁî®Âà∞ÈòªÂ°û‰∏ÄËØçÔºåÂ¶Ç accept, recvÔºåÊñáÊ°£‰∏≠ËØ¥ÂÆÉ‰ª¨‰ºöÈòªÂ°ûÔºåÊòØÊåáÂΩìÂâçÁöÑÂçèÁ®ã‰ºöÈòªÂ°ûÔºåËÄåÂΩìÂâçÁöÑË∞ÉÂ∫¶Á∫øÁ®ãÂπ∂‰∏ç‰ºöÈòªÂ°û(ÂèØ‰ª•ÂàáÊç¢Âà∞ÂÖ∂‰ªñÂçèÁ®ãËøêË°å)„ÄÇÁî®Êà∑ÁúãÂà∞ÁöÑÊòØÂçèÁ®ãÔºåËÄå‰∏çÊòØË∞ÉÂ∫¶Á∫øÁ®ãÔºåÂõ†Ê≠§‰ªéÁî®Êà∑ÁöÑËßíÂ∫¶ÁúãÔºåÂÆÉ‰ª¨ÊòØÈòªÂ°ûÁöÑ„ÄÇÂÆûÈôÖ‰∏äÔºåËøô‰∫õ API ÂÜÖÈÉ®‰ΩøÁî® non-blocking socketÔºåÂπ∂‰∏ç‰ºöÁúüÁöÑÈòªÂ°ûÔºåÂè™ÊòØÂú® socket ‰∏äÊ≤°ÊúâÊï∞ÊçÆÂèØËØªÊàñËÄÖÊó†Ê≥ïÁ´ãÂç≥ÂÜôÂÖ•Êï∞ÊçÆÊó∂ÔºåË∞ÉÂ∫¶Á∫øÁ®ã‰ºöÊåÇËµ∑ÂΩìÂâçÂçèÁ®ãÔºåÂΩì socket Âèò‰∏∫ÂèØËØªÊàñÂèØÂÜôÊó∂ÔºåË∞ÉÂ∫¶Á∫øÁ®ã‰ºöÈáçÊñ∞Âî§Ëµ∑ËØ•ÂçèÁ®ãÔºåÁªßÁª≠ I/O Êìç‰Ωú„ÄÇ
non-blocking socket
co ‰∏≠ÁöÑ socket API ÂøÖÈ°ª‰ΩøÁî® non-blocking socketÔºåÂú® windows Âπ≥Âè∞ËøòË¶ÅÊ±Ç socket ÊîØÊåÅ overlapped I/OÔºåwin32 API ÂàõÂª∫ÁöÑ socket ÈªòËÆ§ÈÉΩÊîØÊåÅ overlapped I/OÔºåÁî®Êà∑‰∏ÄËà¨‰∏çÈúÄË¶ÅÊãÖÂøÉËøô‰∏™ÈóÆÈ¢ò„ÄÇ‰∏∫‰∫ÜÂèôËø∞Êñπ‰æøÔºåËøôÈáåÁ∫¶ÂÆöÊñáÊ°£‰∏≠ËØ¥Âà∞ non-blocking socket Êó∂ÔºåÂêåÊó∂‰πüË°®Á§∫ÂÆÉÂú® windows ‰∏äÊîØÊåÅ overlapped I/O„ÄÇ">
<meta name="theme-color" content="#FFFFFF"><meta property="og:title" content="socket ÁºñÁ®ã" />
<meta property="og:description" content="include: co/co.h.
#Socket APIs co Êèê‰æõ‰∫ÜÂ∏∏Áî®ÁöÑÂçèÁ®ãÂåñÁöÑ socket APIÔºå‰ª•ÊîØÊåÅÂü∫‰∫éÂçèÁ®ãÁöÑÁΩëÁªúÁºñÁ®ã„ÄÇ
Â§ßÈÉ®ÂàÜ API ÂΩ¢Âºè‰∏ä‰∏éÂéüÁîüÁöÑ socket API ‰øùÊåÅ‰∏ÄËá¥ÔºåËøôÊ†∑ÂèØ‰ª•ÂáèËΩªÁî®Êà∑ÁöÑÂ≠¶‰π†Ë¥üÊãÖÔºåÁÜüÊÇâ socket ÁºñÁ®ãÁöÑÁî®Êà∑ÂèØ‰ª•ËΩªÊùæ‰∏äÊâã„ÄÇ
Ëøô‰∫õ API Â§ßÈÉ®ÂàÜÈúÄË¶ÅÂú®ÂçèÁ®ã‰∏≠‰ΩøÁî®ÔºåÂÆÉ‰ª¨Âú® I/O ÈòªÂ°ûÊàñË∞ÉÁî® sleep Á≠âÊìç‰ΩúÊó∂ÔºåË∞ÉÂ∫¶Á∫øÁ®ã‰ºöÊåÇËµ∑ÂΩìÂâçÂçèÁ®ãÔºåÂàáÊç¢Âà∞ÂÖ∂‰ªñÁ≠âÂæÖ‰∏≠ÁöÑÂçèÁ®ãËøêË°åÔºåË∞ÉÂ∫¶Á∫øÁ®ãÊú¨Ë∫´Âπ∂‰∏ç‰ºöÈòªÂ°û„ÄÇÂÄüÂä©Ëøô‰∫õ APIÔºåÁî®Êà∑ÂèØ‰ª•ËΩªÊùæÁöÑÂÆûÁé∞È´òÂπ∂Âèë„ÄÅÈ´òÊÄßËÉΩÁöÑÁΩëÁªúÁ®ãÂ∫è„ÄÇ
#ÊúØËØ≠Á∫¶ÂÆö ÈòªÂ°û
Âú®ÊèèËø∞ co ‰∏≠ÁöÑ‰∏Ä‰∫õ socket API Êó∂Ôºå‰ºöÁî®Âà∞ÈòªÂ°û‰∏ÄËØçÔºåÂ¶Ç accept, recvÔºåÊñáÊ°£‰∏≠ËØ¥ÂÆÉ‰ª¨‰ºöÈòªÂ°ûÔºåÊòØÊåáÂΩìÂâçÁöÑÂçèÁ®ã‰ºöÈòªÂ°ûÔºåËÄåÂΩìÂâçÁöÑË∞ÉÂ∫¶Á∫øÁ®ãÂπ∂‰∏ç‰ºöÈòªÂ°û(ÂèØ‰ª•ÂàáÊç¢Âà∞ÂÖ∂‰ªñÂçèÁ®ãËøêË°å)„ÄÇÁî®Êà∑ÁúãÂà∞ÁöÑÊòØÂçèÁ®ãÔºåËÄå‰∏çÊòØË∞ÉÂ∫¶Á∫øÁ®ãÔºåÂõ†Ê≠§‰ªéÁî®Êà∑ÁöÑËßíÂ∫¶ÁúãÔºåÂÆÉ‰ª¨ÊòØÈòªÂ°ûÁöÑ„ÄÇÂÆûÈôÖ‰∏äÔºåËøô‰∫õ API ÂÜÖÈÉ®‰ΩøÁî® non-blocking socketÔºåÂπ∂‰∏ç‰ºöÁúüÁöÑÈòªÂ°ûÔºåÂè™ÊòØÂú® socket ‰∏äÊ≤°ÊúâÊï∞ÊçÆÂèØËØªÊàñËÄÖÊó†Ê≥ïÁ´ãÂç≥ÂÜôÂÖ•Êï∞ÊçÆÊó∂ÔºåË∞ÉÂ∫¶Á∫øÁ®ã‰ºöÊåÇËµ∑ÂΩìÂâçÂçèÁ®ãÔºåÂΩì socket Âèò‰∏∫ÂèØËØªÊàñÂèØÂÜôÊó∂ÔºåË∞ÉÂ∫¶Á∫øÁ®ã‰ºöÈáçÊñ∞Âî§Ëµ∑ËØ•ÂçèÁ®ãÔºåÁªßÁª≠ I/O Êìç‰Ωú„ÄÇ
non-blocking socket
co ‰∏≠ÁöÑ socket API ÂøÖÈ°ª‰ΩøÁî® non-blocking socketÔºåÂú® windows Âπ≥Âè∞ËøòË¶ÅÊ±Ç socket ÊîØÊåÅ overlapped I/OÔºåwin32 API ÂàõÂª∫ÁöÑ socket ÈªòËÆ§ÈÉΩÊîØÊåÅ overlapped I/OÔºåÁî®Êà∑‰∏ÄËà¨‰∏çÈúÄË¶ÅÊãÖÂøÉËøô‰∏™ÈóÆÈ¢ò„ÄÇ‰∏∫‰∫ÜÂèôËø∞Êñπ‰æøÔºåËøôÈáåÁ∫¶ÂÆöÊñáÊ°£‰∏≠ËØ¥Âà∞ non-blocking socket Êó∂ÔºåÂêåÊó∂‰πüË°®Á§∫ÂÆÉÂú® windows ‰∏äÊîØÊåÅ overlapped I/O„ÄÇ" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://coostdocs.github.io/cn/co/net/sock/" /><meta property="article:section" content="co" />

<meta property="article:modified_time" content="2023-09-09T08:51:44+08:00" />

<title>socket ÁºñÁ®ã | Documents for Coost</title>
<link rel="manifest" href="../../../../manifest.json">
<link rel="icon" href="../../../../favicon.png" type="image/x-icon">
  <link rel="alternate" hreflang="en" href="https://coostdocs.github.io/en/co/net/sock/" title="Socket programming">
<link rel="stylesheet" href="../../../../book.min.1e076dd51b902c98b19726f75e8c6a47852539df7ed47234d11e926c0e7bcf4f.css" integrity="sha256-Hgdt1RuQLJixlyb3XoxqR4UlOd9&#43;1HI00R6SbA57z08=" crossorigin="anonymous">
  <script defer src="../../../../flexsearch.min.js"></script>
  <script defer src="../../../../cn.search.min.a0184848556cfcb224a0c209fda99921c7011447c8faf7f5949993c9b8121a34.js" integrity="sha256-oBhISFVs/LIkoMIJ/amZIccBFEfI&#43;vf1lJmTybgSGjQ=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  


<link href='../../../../css/github.css' rel='stylesheet' type='text/css' />


</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a href="../../../../cn/"><span>Documents for Coost</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="ÊêúÁ¥¢" aria-label="ÊêúÁ¥¢" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>











  



  
  <ul>
    
      
        <li>
          
  
  

  
    <span>ÂÖ≥‰∫é</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/about/announce/" class="">Â£∞Êòé</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/about/co/" class="">ÁÆÄ‰ªã</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/about/contact/" class="">ËÅîÁ≥ª</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/about/sponsor/" class="">ËµûÂä©üíï</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <span>ÂèÇËÄÉÊñáÊ°£</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/def/" class="">Âü∫Êú¨ÂÆö‰πâ</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/god/" class="">Èù¢ÂêëÁéÑÂ≠¶</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/mem/" class="">ÂÜÖÂ≠òÂàÜÈÖç</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/flag/" class="">ÈÖçÁΩÆ</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/log/" class="">Êó•Âøó</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/unitest/" class="">ÂçïÂÖÉÊµãËØï</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/benchmark/" class="">Âü∫ÂáÜÊµãËØï</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/json/" class="">JSON</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-b823a0d731c4d472c5b015b832e5d976" class="toggle"  />
    <label for="section-b823a0d731c4d472c5b015b832e5d976" class="flex justify-between">
      <a role="button" class="">Âπ∂ÂèëÁºñÁ®ã</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/concurrency/atomic/" class="">ÂéüÂ≠êÊìç‰Ωú</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/concurrency/thread/" class="">Á∫øÁ®ã</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-a8bcee0f770e9eedef784caa025649c4" class="toggle"  />
    <label for="section-a8bcee0f770e9eedef784caa025649c4" class="flex justify-between">
      <a role="button" class="">ÂçèÁ®ã</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/concurrency/coroutine/basic/" class="">Âü∫Êú¨Ê¶ÇÂøµ</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/concurrency/coroutine/api/" class="">APIs</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/concurrency/coroutine/chan/" class="">channel</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/concurrency/coroutine/event/" class="">ÂêåÊ≠•‰∫ã‰ª∂</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/concurrency/coroutine/io_event/" class="">IO ‰∫ã‰ª∂</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/concurrency/coroutine/mutex/" class="">‰∫íÊñ•ÈîÅ</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/concurrency/coroutine/wg/" class="">wait group</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/concurrency/coroutine/pool/" class="">ÂçèÁ®ãÊ±†</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/concurrency/coroutine/conf/" class="">ÈÖçÁΩÆÈ°π</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-752f64a904309658adbf6062b2c3d8c1" class="toggle" checked />
    <label for="section-752f64a904309658adbf6062b2c3d8c1" class="flex justify-between">
      <a role="button" class="">ÁΩëÁªúÁºñÁ®ã</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/net/byte_order/" class="">Â≠óËäÇÂ∫è</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/net/sock/" class=" active">socket ÁºñÁ®ã</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/net/mode/" class="">ÁΩëÁªúÁºñÁ®ãÊ®°Âºè</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/net/third/" class="">‰ΩøÁî®‰∏âÊñπÁΩëÁªúÂ∫ì</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/net/tcp/" class="">TCP</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/net/http/" class="">HTTP</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/net/rpc/" class="">RPC</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-76a5d3cff40a8cc3b003b19d517c02e9" class="toggle"  />
    <label for="section-76a5d3cff40a8cc3b003b19d517c02e9" class="flex justify-between">
      <a role="button" class="">ÂÖ∂‰ªñ</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/other/console/" class="">ÁªàÁ´ØËæìÂá∫</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/other/defer/" class="">defer</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/other/error/" class="">ÈîôËØØ</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/other/fastring/" class="">fastring</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/other/fastream/" class="">fastream</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/other/stl/" class="">STL</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/other/str/" class="">string utility</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/other/rand/" class="">ÈöèÊú∫ÂÄº</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/other/hash/" class="">Hash</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/other/time/" class="">Êó∂Èó¥</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/other/tasked/" class="">ÂÆöÊó∂‰ªªÂä°</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/other/path/" class="">Êñá‰ª∂Ë∑ØÂæÑ(path)</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/other/fs/" class="">Êñá‰ª∂Á≥ªÁªü</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/other/os/" class="">Êìç‰ΩúÁ≥ªÁªü</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../../cn/co/build/" class="">ÁºñËØë</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="../../../../svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>socket ÁºñÁ®ã</strong>

  <label for="toc-control">
    
    <img src="../../../../svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#socket-apis">Socket APIs</a>
          <ul>
            <li><a href="#ÊúØËØ≠Á∫¶ÂÆö">ÊúØËØ≠Á∫¶ÂÆö</a></li>
            <li><a href="#cosocket">co::socket</a></li>
            <li><a href="#coaccept">co::accept</a></li>
            <li><a href="#cobind">co::bind</a></li>
            <li><a href="#coclose">co::close</a></li>
            <li><a href="#coconnect">co::connect</a></li>
            <li><a href="#colisten">co::listen</a></li>
            <li><a href="#corecv">co::recv</a></li>
            <li><a href="#corecvn">co::recvn</a></li>
            <li><a href="#corecvfrom">co::recvfrom</a></li>
            <li><a href="#cosend">co::send</a></li>
            <li><a href="#cosendto">co::sendto</a></li>
            <li><a href="#coshutdown">co::shutdown</a></li>
            <li><a href="#heading">‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî</a></li>
            <li><a href="#cogetsockopt">co::getsockopt</a></li>
            <li><a href="#cosetsockopt">co::setsockopt</a></li>
            <li><a href="#coset_nonblock">co::set_nonblock</a></li>
            <li><a href="#coset_reuseaddr">co::set_reuseaddr</a></li>
            <li><a href="#coset_recv_buffer_size">co::set_recv_buffer_size</a></li>
            <li><a href="#coset_send_buffer_size">co::set_send_buffer_size</a></li>
            <li><a href="#coset_tcp_keepalive">co::set_tcp_keepalive</a></li>
            <li><a href="#coset_tcp_nodelay">co::set_tcp_nodelay</a></li>
            <li><a href="#coreset_tcp_socket">co::reset_tcp_socket</a></li>
            <li><a href="#heading-1">‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî</a></li>
            <li><a href="#coaddr2str">co::addr2str</a></li>
            <li><a href="#coinit_addr">co::init_addr</a></li>
            <li><a href="#coinit_ip_addr">co::init_ip_addr</a></li>
            <li><a href="#copeer">co::peer</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><p>include: <a href="https://github.com/idealvin/coost/blob/master/include/co/co.h">co/co.h</a>.</p>
<h2 id="socket-apis"><a class="anchor" href="#socket-apis">#</a>Socket APIs</h2>
<p>co Êèê‰æõ‰∫ÜÂ∏∏Áî®ÁöÑÂçèÁ®ãÂåñÁöÑ socket APIÔºå‰ª•ÊîØÊåÅÂü∫‰∫éÂçèÁ®ãÁöÑÁΩëÁªúÁºñÁ®ã„ÄÇ</p>
<p><strong>Â§ßÈÉ®ÂàÜ API ÂΩ¢Âºè‰∏ä‰∏éÂéüÁîüÁöÑ socket API ‰øùÊåÅ‰∏ÄËá¥</strong>ÔºåËøôÊ†∑ÂèØ‰ª•ÂáèËΩªÁî®Êà∑ÁöÑÂ≠¶‰π†Ë¥üÊãÖÔºåÁÜüÊÇâ socket ÁºñÁ®ãÁöÑÁî®Êà∑ÂèØ‰ª•ËΩªÊùæ‰∏äÊâã„ÄÇ</p>
<p>Ëøô‰∫õ API Â§ßÈÉ®ÂàÜÈúÄË¶ÅÂú®ÂçèÁ®ã‰∏≠‰ΩøÁî®ÔºåÂÆÉ‰ª¨Âú® I/O ÈòªÂ°ûÊàñË∞ÉÁî® sleep Á≠âÊìç‰ΩúÊó∂ÔºåË∞ÉÂ∫¶Á∫øÁ®ã‰ºöÊåÇËµ∑ÂΩìÂâçÂçèÁ®ãÔºåÂàáÊç¢Âà∞ÂÖ∂‰ªñÁ≠âÂæÖ‰∏≠ÁöÑÂçèÁ®ãËøêË°åÔºåË∞ÉÂ∫¶Á∫øÁ®ãÊú¨Ë∫´Âπ∂‰∏ç‰ºöÈòªÂ°û„ÄÇÂÄüÂä©Ëøô‰∫õ APIÔºåÁî®Êà∑ÂèØ‰ª•<strong>ËΩªÊùæÁöÑÂÆûÁé∞È´òÂπ∂Âèë„ÄÅÈ´òÊÄßËÉΩÁöÑÁΩëÁªúÁ®ãÂ∫è</strong>„ÄÇ</p>
<h3 id="ÊúØËØ≠Á∫¶ÂÆö"><a class="anchor" href="#%e6%9c%af%e8%af%ad%e7%ba%a6%e5%ae%9a">#</a>ÊúØËØ≠Á∫¶ÂÆö</h3>
<p><strong>ÈòªÂ°û</strong></p>
<p>Âú®ÊèèËø∞ co ‰∏≠ÁöÑ‰∏Ä‰∫õ socket API Êó∂Ôºå‰ºöÁî®Âà∞ÈòªÂ°û‰∏ÄËØçÔºåÂ¶Ç accept, recvÔºåÊñáÊ°£‰∏≠ËØ¥ÂÆÉ‰ª¨‰ºöÈòªÂ°ûÔºåÊòØÊåáÂΩìÂâçÁöÑÂçèÁ®ã‰ºöÈòªÂ°ûÔºåËÄåÂΩìÂâçÁöÑË∞ÉÂ∫¶Á∫øÁ®ãÂπ∂‰∏ç‰ºöÈòªÂ°û(ÂèØ‰ª•ÂàáÊç¢Âà∞ÂÖ∂‰ªñÂçèÁ®ãËøêË°å)„ÄÇÁî®Êà∑ÁúãÂà∞ÁöÑÊòØÂçèÁ®ãÔºåËÄå‰∏çÊòØË∞ÉÂ∫¶Á∫øÁ®ãÔºåÂõ†Ê≠§‰ªéÁî®Êà∑ÁöÑËßíÂ∫¶ÁúãÔºåÂÆÉ‰ª¨ÊòØÈòªÂ°ûÁöÑ„ÄÇÂÆûÈôÖ‰∏äÔºåËøô‰∫õ API ÂÜÖÈÉ®‰ΩøÁî® <strong>non-blocking socket</strong>ÔºåÂπ∂‰∏ç‰ºöÁúüÁöÑÈòªÂ°ûÔºåÂè™ÊòØÂú® socket ‰∏äÊ≤°ÊúâÊï∞ÊçÆÂèØËØªÊàñËÄÖÊó†Ê≥ïÁ´ãÂç≥ÂÜôÂÖ•Êï∞ÊçÆÊó∂ÔºåË∞ÉÂ∫¶Á∫øÁ®ã‰ºöÊåÇËµ∑ÂΩìÂâçÂçèÁ®ãÔºåÂΩì socket Âèò‰∏∫ÂèØËØªÊàñÂèØÂÜôÊó∂ÔºåË∞ÉÂ∫¶Á∫øÁ®ã‰ºöÈáçÊñ∞Âî§Ëµ∑ËØ•ÂçèÁ®ãÔºåÁªßÁª≠ I/O Êìç‰Ωú„ÄÇ</p>
<p><strong>non-blocking socket</strong></p>
<p><strong>co ‰∏≠ÁöÑ socket API ÂøÖÈ°ª‰ΩøÁî® non-blocking socket</strong>ÔºåÂú® windows Âπ≥Âè∞ËøòË¶ÅÊ±Ç socket ÊîØÊåÅ <a href="https://support.microsoft.com/en-us/help/181611/socket-overlapped-i-o-versus-blocking-nonblocking-mode">overlapped I/O</a>Ôºåwin32 API ÂàõÂª∫ÁöÑ socket ÈªòËÆ§ÈÉΩÊîØÊåÅ overlapped I/OÔºåÁî®Êà∑‰∏ÄËà¨‰∏çÈúÄË¶ÅÊãÖÂøÉËøô‰∏™ÈóÆÈ¢ò„ÄÇ‰∏∫‰∫ÜÂèôËø∞Êñπ‰æøÔºåËøôÈáåÁ∫¶ÂÆöÊñáÊ°£‰∏≠ËØ¥Âà∞ non-blocking socket Êó∂ÔºåÂêåÊó∂‰πüË°®Á§∫ÂÆÉÂú® windows ‰∏äÊîØÊåÅ overlapped I/O„ÄÇ</p>
<h3 id="cosocket"><a class="anchor" href="#cosocket">#</a>co::socket</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="mf">1.</span> <span class="n">sock_t</span> <span class="n">socket</span><span class="p">(</span><span class="kt">int</span> <span class="n">domain</span><span class="p">,</span> <span class="kt">int</span> <span class="n">type</span><span class="p">,</span> <span class="kt">int</span> <span class="n">proto</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="mf">2.</span> <span class="n">sock_t</span> <span class="n">tcp_socket</span><span class="p">(</span><span class="kt">int</span> <span class="n">domain</span><span class="o">=</span><span class="n">AF_INET</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="mf">3.</span> <span class="n">sock_t</span> <span class="n">udp_socket</span><span class="p">(</span><span class="kt">int</span> <span class="n">domain</span><span class="o">=</span><span class="n">AF_INET</span><span class="p">);</span>
</span></span></code></pre></div><ul>
<li>ÂàõÂª∫ socket„ÄÇ</li>
<li>1, ÂΩ¢Âºè‰∏ä‰∏éÂéüÁîü API ÂÆåÂÖ®‰∏ÄÊ†∑ÔºåÂú® linux Á≥ªÁªüÂèØ‰ª•Áî® <code>man socket</code>¬†Êü•ÁúãÂèÇÊï∞ËØ¶ÊÉÖ„ÄÇ</li>
<li>2, ÂàõÂª∫‰∏Ä‰∏™ TCP socket„ÄÇ</li>
<li>3, ÂàõÂª∫‰∏Ä‰∏™ UDP¬†socket„ÄÇ</li>
<li>ÂèÇÊï∞ <code>domain</code> ‰∏ÄËà¨ÊòØ AF_INET Êàñ AF_INET6ÔºåÂâçËÄÖË°®Á§∫ ipv4ÔºåÂêéËÄÖË°®Á§∫ ipv6„ÄÇ</li>
<li><strong>Ëøô‰∫õÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™ non-blocking socket</strong>„ÄÇÂèëÁîüÈîôËØØÊó∂ÔºåËøîÂõûÂÄºÊòØ -1ÔºåÂèØ‰ª•Ë∞ÉÁî® <a href="../../other/error/#coerror">co::error()</a> Ëé∑ÂèñÈîôËØØ‰ø°ÊÅØ„ÄÇ</li>
</ul>
<h3 id="coaccept"><a class="anchor" href="#coaccept">#</a>co::accept</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="n">sock_t</span> <span class="nf">accept</span><span class="p">(</span><span class="n">sock_t</span> <span class="n">fd</span><span class="p">,</span> <span class="kt">void</span><span class="o">*</span> <span class="n">addr</span><span class="p">,</span> <span class="kt">int</span><span class="o">*</span> <span class="n">addrlen</span><span class="p">);</span>
</span></span></code></pre></div><ul>
<li>Âú®ÊåáÂÆö socket ‰∏äÊé•Êî∂ÂÆ¢Êà∑Á´ØËøûÊé•ÔºåÂèÇÊï∞ fd ÊòØ‰πãÂâçË∞ÉÁî® <a href="#colisten">listen()</a> ÁõëÂê¨ÁöÑ non-blocking socketÔºåÂèÇÊï∞ addr ‰∏é addrlen Áî®‰∫éÊé•Êî∂ÂÆ¢Êà∑Á´ØÁöÑÂú∞ÂùÄ‰ø°ÊÅØÔºå<code>*addrlen</code>¬†ÁöÑÂàùÂßãÂÄºÊòØ addr ÊâÄÊåáÂêë buffer ÁöÑÈïøÂ∫¶„ÄÇÂ¶ÇÊûúÁî®Êà∑‰∏çÈúÄË¶ÅÂÆ¢Êà∑Á´ØÂú∞ÂùÄ‰ø°ÊÅØÔºåÂèØ‰ª•Â∞Ü addr ‰∏é addrlen ËÆæÁΩÆ‰∏∫ NULL„ÄÇ</li>
<li>Ê≠§ÂáΩÊï∞<strong>ÂøÖÈ°ªÂú®ÂçèÁ®ã‰∏≠Ë∞ÉÁî®</strong>„ÄÇ</li>
<li>Ê≠§ÂáΩÊï∞‰ºöÈòªÂ°ûÔºåÁõ¥Âà∞ÊúâÊñ∞ÁöÑËøûÊé•ËøõÊù•ÔºåÊàñËÄÖÂèëÁîüÈîôËØØ„ÄÇ</li>
<li>Ê≠§ÂáΩÊï∞ÊàêÂäüÊó∂<strong>ËøîÂõû‰∏Ä‰∏™ non-blocking socket</strong>ÔºåÂèëÁîüÈîôËØØÊó∂ËøîÂõû -1ÔºåÂèØ‰ª•Ë∞ÉÁî® <a href="../../other/error/#coerror">co::error()</a> Ëé∑ÂèñÈîôËØØ‰ø°ÊÅØ„ÄÇ</li>
</ul>
<h3 id="cobind"><a class="anchor" href="#cobind">#</a>co::bind</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">bind</span><span class="p">(</span><span class="n">sock_t</span> <span class="n">fd</span><span class="p">,</span> <span class="k">const</span> <span class="kt">void</span><span class="o">*</span> <span class="n">addr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">addrlen</span><span class="p">);</span>
</span></span></code></pre></div><ul>
<li>Áªô socket ÁªëÂÆö ip Âú∞ÂùÄÔºåÂèÇÊï∞ addr ‰∏é addrlen ÊòØÂú∞ÂùÄ‰ø°ÊÅØÔºå‰∏éÂéüÁîü API Áõ∏Âêå„ÄÇ</li>
<li>Ê≠§ÂáΩÊï∞ÊàêÂäüÊó∂ËøîÂõû 0ÔºåÂê¶ÂàôËøîÂõû -1ÔºåÂèØ‰ª•Ë∞ÉÁî® <a href="../../other/error/#coerror">co::error()</a> Ëé∑ÂèñÈîôËØØ‰ø°ÊÅØ„ÄÇ</li>
</ul>
<h3 id="coclose"><a class="anchor" href="#coclose">#</a>co::close</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">close</span><span class="p">(</span><span class="n">sock_t</span> <span class="n">fd</span><span class="p">,</span> <span class="kt">int</span> <span class="n">ms</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span>
</span></span></code></pre></div><ul>
<li>ÂÖ≥Èó≠ socket„ÄÇ</li>
<li>Âú® 2.0.0 Âèä‰πãÂâçÁöÑÁâàÊú¨‰∏≠ÔºåÊ≠§ÂáΩÊï∞ÂøÖÈ°ªÂú®ËøõË°å I/O Êìç‰ΩúÁöÑÁ∫øÁ®ã‰∏≠Ë∞ÉÁî®„ÄÇ‰ªé 2.0.1 ÁâàÊú¨ÂºÄÂßãÔºåÊ≠§ÂáΩÊï∞ÂèØ‰ª•Âú®ÂçèÁ®ãÊàñÈùûÂçèÁ®ã‰∏≠Ë∞ÉÁî®„ÄÇ</li>
<li>ÂèÇÊï∞ ms Â§ß‰∫é 0 Êó∂Ôºå‰ºöÂÖàË∞ÉÁî® <code>co::sleep(ms)</code> Â∞ÜÂΩìÂâçÂçèÁ®ãÊåÇËµ∑‰∏ÄÊÆµÊó∂Èó¥ÔºåÂÜçÂÖ≥Èó≠ socket„ÄÇ‰∏ÄËà¨Âè™Âú® server Á´ØÂ∞Ü ms ËÆæÁΩÆ‰∏∫Â§ß‰∫é 0 ÁöÑÂÄºÔºåÂèØ‰ª•Âú®‰∏ÄÂÆöÁ®ãÂ∫¶‰∏äÁºìËß£ÈùûÊ≥ïÁöÑÁΩëÁªúÊîªÂáª„ÄÇ</li>
<li>Ê≠§ÂáΩÊï∞ÂÜÖÈÉ®Â∑≤ÁªèÂ§ÑÁêÜ‰∫Ü <code>EINTR</code> ‰ø°Âè∑ÔºåÁî®Êà∑Êó†ÈúÄËÄÉËôë„ÄÇ</li>
<li>Ê≠§ÂáΩÊï∞ÊàêÂäüÊó∂ËøîÂõû 0ÔºåÂê¶ÂàôËøîÂõû -1ÔºåÂèØ‰ª•Ë∞ÉÁî® <a href="../../other/error/#coerror">co::error()</a> Ëé∑ÂèñÈîôËØØ‰ø°ÊÅØ„ÄÇ</li>
</ul>
<h3 id="coconnect"><a class="anchor" href="#coconnect">#</a>co::connect</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">connect</span><span class="p">(</span><span class="n">sock_t</span> <span class="n">fd</span><span class="p">,</span> <span class="k">const</span> <span class="kt">void</span><span class="o">*</span> <span class="n">addr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">addrlen</span><span class="p">,</span> <span class="kt">int</span> <span class="n">ms</span><span class="o">=-</span><span class="mi">1</span><span class="p">);</span>
</span></span></code></pre></div><ul>
<li>Âú®ÊåáÂÆö socket ‰∏äÂàõÂª∫Âà∞ÊåáÂÆöÂú∞ÂùÄÁöÑËøûÊé•ÔºåÂèÇÊï∞ fd ÂøÖÈ°ªÊòØ non-blocking ÁöÑÔºåÂèÇÊï∞ addr ‰∏é addrlen ÊòØÂú∞ÂùÄ‰ø°ÊÅØÔºåÂèÇÊï∞ ms ÊòØË∂ÖÊó∂Êó∂Èó¥ÔºåÂçï‰Ωç‰∏∫ÊØ´ÁßíÔºåÈªòËÆ§‰∏∫ -1ÔºåÊ∞∏‰∏çË∂ÖÊó∂„ÄÇ</li>
<li>Ê≠§ÂáΩÊï∞<strong>ÂøÖÈ°ªÂú®ÂçèÁ®ã‰∏≠Ë∞ÉÁî®</strong>„ÄÇ</li>
<li>Ê≠§ÂáΩÊï∞‰ºöÈòªÂ°ûÔºåÁõ¥Âà∞ËøûÊé•ÂÆåÊàêÔºåÊàñËÄÖË∂ÖÊó∂„ÄÅÂèëÁîüÈîôËØØ„ÄÇ</li>
<li>Ê≠§ÂáΩÊï∞ÊàêÂäüÊó∂ËøîÂõû 0ÔºåË∂ÖÊó∂ÊàñÂèëÁîüÈîôËØØËøîÂõû -1ÔºåÁî®Êà∑ÂèØ‰ª•Ë∞ÉÁî® <a href="../../concurrency/coroutine/api/#cotimeout">co::timeout()</a>¬†Âà§Êñ≠ÊòØÂê¶Ë∂ÖÊó∂ÔºåË∞ÉÁî® <a href="../../other/error/#coerror">co::error()</a> Ëé∑ÂèñÈîôËØØ‰ø°ÊÅØ„ÄÇ</li>
</ul>
<h3 id="colisten"><a class="anchor" href="#colisten">#</a>co::listen</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">listen</span><span class="p">(</span><span class="n">sock_t</span> <span class="n">fd</span><span class="p">,</span> <span class="kt">int</span> <span class="n">backlog</span><span class="o">=</span><span class="mi">1024</span><span class="p">);</span>
</span></span></code></pre></div><ul>
<li>ÁõëÂê¨ÊåáÂÆöÁöÑ socketÔºåÂèÇÊï∞ fd ÊòØÂ∑≤ÁªèË∞ÉÁî® <a href="#cobind">bind()</a> ÁªëÂÆö ip ÂèäÁ´ØÂè£ÁöÑ socket„ÄÇ</li>
<li>Ê≠§ÂáΩÊï∞ÊàêÂäüÊó∂ËøîÂõû 0ÔºåÂê¶ÂàôËøîÂõû -1ÔºåÂèØ‰ª•Ë∞ÉÁî® <a href="../../other/error/#coerror">co::error()</a> Ëé∑ÂèñÈîôËØØ‰ø°ÊÅØ„ÄÇ</li>
</ul>
<h3 id="corecv"><a class="anchor" href="#corecv">#</a>co::recv</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">recv</span><span class="p">(</span><span class="n">sock_t</span> <span class="n">fd</span><span class="p">,</span> <span class="kt">void</span><span class="o">*</span> <span class="n">buf</span><span class="p">,</span> <span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="kt">int</span> <span class="n">ms</span><span class="o">=-</span><span class="mi">1</span><span class="p">);</span>
</span></span></code></pre></div><ul>
<li>Âú®ÊåáÂÆö socket ‰∏äÊé•Êî∂Êï∞ÊçÆÔºåÂèÇÊï∞ fd ÂøÖÈ°ªÊòØ non-blocking ÁöÑÔºåÂèÇÊï∞ buf ÊòØÁî®‰∫éÊé•Êî∂Êï∞ÊçÆÁöÑ bufferÔºåÂèÇÊï∞ n ÊòØ buffer ÈïøÂ∫¶ÔºåÂèÇÊï∞ ms ÊòØË∂ÖÊó∂Êó∂Èó¥ÔºåÂçï‰Ωç‰∏∫ÊØ´ÁßíÔºåÈªòËÆ§‰∏∫ -1ÔºåÊ∞∏‰∏çË∂ÖÊó∂„ÄÇ</li>
<li>Ê≠§ÂáΩÊï∞<strong>ÂøÖÈ°ªÂú®ÂçèÁ®ã‰∏≠Ë∞ÉÁî®</strong>„ÄÇ</li>
<li>Âú® Windows Âπ≥Âè∞ÔºåÊ≠§ÂáΩÊï∞Âè™ÈÄÇÁî®‰∫é TCP Á≠â stream Á±ªÂûãÁöÑ socket„ÄÇ</li>
<li>Ê≠§ÂáΩÊï∞‰ºöÈòªÂ°ûÔºåÁõ¥Âà∞ÊúâÊï∞ÊçÆËøõÊù•ÔºåÊàñËÄÖË∂ÖÊó∂„ÄÅÂèëÁîüÈîôËØØ„ÄÇ</li>
<li>Ê≠§ÂáΩÊï∞ÊàêÂäüÊó∂ËøîÂõûÊé•Êî∂ÁöÑÊï∞ÊçÆÈïøÂ∫¶(ÂèØËÉΩÂ∞è‰∫é n)ÔºåÂØπÁ´ØÂÖ≥Èó≠ËøûÊé•Êó∂ËøîÂõû 0ÔºåË∂ÖÊó∂ÊàñÂèëÁîüÈîôËØØËøîÂõû -1ÔºåÁî®Êà∑ÂèØ‰ª•Ë∞ÉÁî® <a href="../../concurrency/coroutine/api/#cotimeout">co::timeout()</a>¬†Âà§Êñ≠ÊòØÂê¶Ë∂ÖÊó∂ÔºåË∞ÉÁî® <a href="../../other/error/#coerror">co::error()</a> Ëé∑ÂèñÈîôËØØ‰ø°ÊÅØ„ÄÇ</li>
</ul>
<h3 id="corecvn"><a class="anchor" href="#corecvn">#</a>co::recvn</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">recvn</span><span class="p">(</span><span class="n">sock_t</span> <span class="n">fd</span><span class="p">,</span> <span class="kt">void</span><span class="o">*</span> <span class="n">buf</span><span class="p">,</span> <span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="kt">int</span> <span class="n">ms</span><span class="o">=-</span><span class="mi">1</span><span class="p">);</span>
</span></span></code></pre></div><ul>
<li>Âú®ÊåáÂÆö socket ‰∏äÊé•Êî∂ÊåáÂÆöÈïøÂ∫¶ÁöÑÊï∞ÊçÆÔºåÂèÇÊï∞ fd ÂøÖÈ°ªÊòØ non-blocking ÁöÑÔºåÂèÇÊï∞ buf ÊòØÁî®‰∫éÊé•Êî∂Êï∞ÊçÆÁöÑ bufferÔºåÂèÇÊï∞ n ÊòØË¶ÅÊé•Êî∂Êï∞ÊçÆÁöÑÈïøÂ∫¶ÔºåÂèÇÊï∞ ms ÊòØË∂ÖÊó∂Êó∂Èó¥ÔºåÂçï‰Ωç‰∏∫ÊØ´ÁßíÔºåÈªòËÆ§‰∏∫ -1ÔºåÊ∞∏‰∏çË∂ÖÊó∂„ÄÇ</li>
<li>Ê≠§ÂáΩÊï∞<strong>ÂøÖÈ°ªÂú®ÂçèÁ®ã‰∏≠Ë∞ÉÁî®</strong>„ÄÇ</li>
<li>Ê≠§ÂáΩÊï∞‰ºöÈòªÂ°ûÔºåÁõ¥Âà∞ n Â≠óËäÇÁöÑÊï∞ÊçÆÂÖ®ÈÉ®Êé•Êî∂ÂÆåÔºåÊàñËÄÖË∂ÖÊó∂„ÄÅÂèëÁîüÈîôËØØ„ÄÇ</li>
<li>Ê≠§ÂáΩÊï∞ÊàêÂäüÊó∂ËøîÂõû nÔºåÂØπÁ´ØÂÖ≥Èó≠ËøûÊé•Êó∂ËøîÂõû 0ÔºåË∂ÖÊó∂ÊàñÂèëÁîüÈîôËØØËøîÂõû -1ÔºåÁî®Êà∑ÂèØ‰ª•Ë∞ÉÁî® <a href="../../concurrency/coroutine/api/#cotimeout">co::timeout()</a>¬†Âà§Êñ≠ÊòØÂê¶Ë∂ÖÊó∂ÔºåË∞ÉÁî® <a href="../../other/error/#coerror">co::error()</a> Ëé∑ÂèñÈîôËØØ‰ø°ÊÅØ„ÄÇ</li>
</ul>
<h3 id="corecvfrom"><a class="anchor" href="#corecvfrom">#</a>co::recvfrom</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">recvfrom</span><span class="p">(</span><span class="n">sock_t</span> <span class="n">fd</span><span class="p">,</span> <span class="kt">void</span><span class="o">*</span> <span class="n">buf</span><span class="p">,</span> <span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="kt">void</span><span class="o">*</span> <span class="n">src_addr</span><span class="p">,</span> <span class="kt">int</span><span class="o">*</span> <span class="n">addrlen</span><span class="p">,</span> <span class="kt">int</span> <span class="n">ms</span><span class="o">=-</span><span class="mi">1</span><span class="p">);</span>
</span></span></code></pre></div><ul>
<li>‰∏é <a href="#corecv">co::recv</a> Á±ª‰ººÔºåÂè™ÊòØÂèØ‰ª•Áî®ÂèÇÊï∞ src_addr ‰∏é addrlen Êé•Êî∂Ê∫êÂú∞ÂùÄ‰ø°ÊÅØÔºå<code>*addrlen</code>¬†ÁöÑÂàùÂßãÂÄºÊòØ src_addr ÊâÄÊåáÂêë buffer ÁöÑÈïøÂ∫¶ÔºåÂ¶ÇÊûúÁî®Êà∑‰∏çÈúÄË¶ÅÊ∫êÂú∞ÂùÄ‰ø°ÊÅØÔºåÂèØ‰ª•Â∞Ü addr ‰∏é addrlen ËÆæÁΩÆ‰∏∫ NULL„ÄÇ</li>
<li>‰∏ÄËà¨<strong>Âª∫ËÆÆÂè™Áî®Ê≠§ÂáΩÊï∞Êé•Êî∂ UDP Êï∞ÊçÆ</strong>„ÄÇ</li>
</ul>
<h3 id="cosend"><a class="anchor" href="#cosend">#</a>co::send</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">send</span><span class="p">(</span><span class="n">sock_t</span> <span class="n">fd</span><span class="p">,</span> <span class="k">const</span> <span class="kt">void</span><span class="o">*</span> <span class="n">buf</span><span class="p">,</span> <span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="kt">int</span> <span class="n">ms</span><span class="o">=-</span><span class="mi">1</span><span class="p">);</span>
</span></span></code></pre></div><ul>
<li>ÂêëÊåáÂÆö socket ‰∏äÂèëÈÄÅÊï∞ÊçÆÔºåÂèÇÊï∞ fd ÂøÖÈ°ªÊòØ non-blocking ÁöÑÔºåÂèÇÊï∞ buf ‰∏é n ÊòØË¶ÅÂèëÈÄÅÁöÑÊï∞ÊçÆÂèäÈïøÂ∫¶ÔºåÂèÇÊï∞ ms ÊòØË∂ÖÊó∂Êó∂Èó¥ÔºåÂçï‰Ωç‰∏∫ÊØ´ÁßíÔºåÈªòËÆ§‰∏∫ -1ÔºåÊ∞∏‰∏çË∂ÖÊó∂„ÄÇ</li>
<li>Ê≠§ÂáΩÊï∞<strong>ÂøÖÈ°ªÂú®ÂçèÁ®ã‰∏≠Ë∞ÉÁî®</strong>„ÄÇ</li>
<li>Âú® Windows Âπ≥Âè∞ÔºåÊ≠§ÂáΩÊï∞Âè™ÈÄÇÁî®‰∫é TCP Á≠â stream Á±ªÂûãÁöÑ socket„ÄÇ</li>
<li>Ê≠§ÂáΩÊï∞‰ºöÈòªÂ°ûÔºåÁõ¥Âà∞ n Â≠óËäÇÁöÑÊï∞ÊçÆÂÖ®ÈÉ®ÂèëÈÄÅÂÆåÔºåÊàñËÄÖË∂ÖÊó∂„ÄÅÂèëÁîüÈîôËØØ„ÄÇ</li>
<li>Ê≠§ÂáΩÊï∞ÊàêÂäüÊó∂ËøîÂõû nÔºåË∂ÖÊó∂ÊàñÂèëÁîüÈîôËØØËøîÂõû -1ÔºåÁî®Êà∑ÂèØ‰ª•Ë∞ÉÁî® <a href="../../concurrency/coroutine/api/#cotimeout">co::timeout()</a>¬†Âà§Êñ≠ÊòØÂê¶Ë∂ÖÊó∂ÔºåË∞ÉÁî® <a href="../../other/error/#coerror">co::error()</a> Ëé∑ÂèñÈîôËØØ‰ø°ÊÅØ„ÄÇ</li>
</ul>
<h3 id="cosendto"><a class="anchor" href="#cosendto">#</a>co::sendto</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">sendto</span><span class="p">(</span><span class="n">sock_t</span> <span class="n">fd</span><span class="p">,</span> <span class="k">const</span> <span class="kt">void</span><span class="o">*</span> <span class="n">buf</span><span class="p">,</span> <span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="k">const</span> <span class="kt">void</span><span class="o">*</span> <span class="n">dst_addr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">addrlen</span><span class="p">,</span> <span class="kt">int</span> <span class="n">ms</span><span class="o">=-</span><span class="mi">1</span><span class="p">);</span>
</span></span></code></pre></div><ul>
<li>ÂêëÊåáÂÆöÁöÑÂú∞ÂùÄÂèëÈÄÅÊï∞ÊçÆÔºåÂΩì dst_addr ‰∏∫ NULLÔºåaddrlen ‰∏∫ 0 Êó∂Ôºå‰∏é <a href="#cosend">co::send</a> Á≠â‰ª∑„ÄÇ</li>
<li>‰∏ÄËà¨<strong>Âª∫ËÆÆÂè™Áî®Ê≠§ÂáΩÊï∞ÂèëÈÄÅ UDP Êï∞ÊçÆ</strong>„ÄÇ</li>
<li>fd ÊòØ UDP socket Êó∂Ôºån ÊúÄÂ§ßÊòØ 65507„ÄÇ</li>
</ul>
<h3 id="coshutdown"><a class="anchor" href="#coshutdown">#</a>co::shutdown</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">shutdown</span><span class="p">(</span><span class="n">sock_t</span> <span class="n">fd</span><span class="p">,</span> <span class="kt">char</span> <span class="n">c</span><span class="o">=</span><span class="sc">&#39;b&#39;</span><span class="p">);</span>
</span></span></code></pre></div><ul>
<li>Ê≠§ÂáΩÊï∞‰∏ÄËà¨Áî®‰∫éÂçäÂÖ≥Èó≠ socketÔºåÂèÇÊï∞ c ‰∏∫ <code>'r'</code> Êó∂Ë°®Á§∫ÂÖ≥Èó≠ËØªÔºå‰∏∫ <code>'w'</code> Êó∂Ë°®Á§∫ÂÖ≥Èó≠ÂÜôÔºåÈªòËÆ§‰∏∫ <code>'b'</code>ÔºåÂÖ≥Èó≠ËØª‰∏éÂÜô„ÄÇ</li>
<li>‰∏ÄËà¨Âª∫ËÆÆÂú®ËøõË°å IO Êìç‰ΩúÁöÑÁ∫øÁ®ã‰∏≠Ë∞ÉÁî®Ê≠§ÂáΩÊï∞„ÄÇ</li>
<li>Ê≠§ÂáΩÊï∞ÊàêÂäüÊó∂ËøîÂõû 0ÔºåÂê¶ÂàôËøîÂõû -1ÔºåÂèØ‰ª•Ë∞ÉÁî® <a href="../../other/error/#coerror">co::error()</a> Ëé∑ÂèñÈîôËØØ‰ø°ÊÅØ„ÄÇ</li>
</ul>
<h3 id="heading"><a class="anchor" href="#heading">#</a>‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî</h3>
<h3 id="cogetsockopt"><a class="anchor" href="#cogetsockopt">#</a>co::getsockopt</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">getsockopt</span><span class="p">(</span><span class="n">sock_t</span> <span class="n">fd</span><span class="p">,</span> <span class="kt">int</span> <span class="n">lv</span><span class="p">,</span> <span class="kt">int</span> <span class="n">opt</span><span class="p">,</span> <span class="kt">void</span><span class="o">*</span> <span class="n">optval</span><span class="p">,</span> <span class="kt">int</span><span class="o">*</span> <span class="n">optlen</span><span class="p">);</span>
</span></span></code></pre></div><ul>
<li>Ëé∑Âèñ socket option ‰ø°ÊÅØÔºå‰∏éÂéüÁîü API ÂÆåÂÖ®‰∏ÄÊ†∑Ôºåman getsockopt ÁúãËØ¶ÊÉÖ„ÄÇ</li>
</ul>
<h3 id="cosetsockopt"><a class="anchor" href="#cosetsockopt">#</a>co::setsockopt</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">setsockopt</span><span class="p">(</span><span class="n">sock_t</span> <span class="n">fd</span><span class="p">,</span> <span class="kt">int</span> <span class="n">lv</span><span class="p">,</span> <span class="kt">int</span> <span class="n">opt</span><span class="p">,</span> <span class="k">const</span> <span class="kt">void</span><span class="o">*</span> <span class="n">optval</span><span class="p">,</span> <span class="kt">int</span> <span class="n">optlen</span><span class="p">);</span>
</span></span></code></pre></div><ul>
<li>ËÆæÁΩÆ socket option ‰ø°ÊÅØÔºå‰∏éÂéüÁîü API ÂÆåÂÖ®‰∏ÄÊ†∑Ôºåman setsockopt ÁúãËØ¶ÊÉÖ„ÄÇ</li>
</ul>
<h3 id="coset_nonblock"><a class="anchor" href="#coset_nonblock">#</a>co::set_nonblock</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">set_nonblock</span><span class="p">(</span><span class="n">sock_t</span> <span class="n">fd</span><span class="p">);</span>
</span></span></code></pre></div><ul>
<li>Áªô socket ËÆæÁΩÆ O_NONBLOCK ÈÄâÈ°π„ÄÇ</li>
</ul>
<h3 id="coset_reuseaddr"><a class="anchor" href="#coset_reuseaddr">#</a>co::set_reuseaddr</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">set_reuseaddr</span><span class="p">(</span><span class="n">sock_t</span> <span class="n">fd</span><span class="p">);</span>
</span></span></code></pre></div><ul>
<li>Áªô socket ËÆæÁΩÆ¬†SO_REUSEADDR ÈÄâÈ°πÔºå‰∏ÄËà¨ server Á´ØÁöÑ listening socket ÈúÄË¶ÅËÆæÁΩÆËøô‰∏™ÈÄâÈ°πÔºåÈò≤Ê≠¢ server ÈáçÂêØÂêé bind Â§±Ë¥•„ÄÇ</li>
</ul>
<h3 id="coset_recv_buffer_size"><a class="anchor" href="#coset_recv_buffer_size">#</a>co::set_recv_buffer_size</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">set_recv_buffer_size</span><span class="p">(</span><span class="n">sock_t</span> <span class="n">fd</span><span class="p">,</span> <span class="kt">int</span> <span class="n">n</span><span class="p">);</span>
</span></span></code></pre></div><ul>
<li>ËÆæÁΩÆ socket ÁöÑÊé•Êî∂ÁºìÂÜ≤Âå∫Â§ßÂ∞èÔºåÂøÖÈ°ªÂú® socket ËøûÊé•ÂâçË∞ÉÁî®Ê≠§ÂáΩÊï∞„ÄÇ</li>
</ul>
<h3 id="coset_send_buffer_size"><a class="anchor" href="#coset_send_buffer_size">#</a>co::set_send_buffer_size</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">set_send_buffer_size</span><span class="p">(</span><span class="n">sock_t</span> <span class="n">fd</span><span class="p">,</span> <span class="kt">int</span> <span class="n">n</span><span class="p">);</span>
</span></span></code></pre></div><ul>
<li>ËÆæÁΩÆ socket ÁöÑÂèëÈÄÅÁºìÂÜ≤Âå∫Â§ßÂ∞èÔºåÂøÖÈ°ªÂú® socket ËøûÊé•ÂâçË∞ÉÁî®Ê≠§ÂáΩÊï∞„ÄÇ</li>
</ul>
<h3 id="coset_tcp_keepalive"><a class="anchor" href="#coset_tcp_keepalive">#</a>co::set_tcp_keepalive</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">set_tcp_keepalive</span><span class="p">(</span><span class="n">sock_t</span> <span class="n">fd</span><span class="p">);</span>
</span></span></code></pre></div><ul>
<li>Áªô socket ËÆæÁΩÆ SO_KEEPALIVE ÈÄâÈ°π„ÄÇ</li>
</ul>
<h3 id="coset_tcp_nodelay"><a class="anchor" href="#coset_tcp_nodelay">#</a>co::set_tcp_nodelay</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">set_tcp_nodelay</span><span class="p">(</span><span class="n">sock_t</span> <span class="n">fd</span><span class="p">);</span>
</span></span></code></pre></div><ul>
<li>Áªô socket ËÆæÁΩÆ TCP_NODELAY ÈÄâÈ°π„ÄÇ</li>
</ul>
<h3 id="coreset_tcp_socket"><a class="anchor" href="#coreset_tcp_socket">#</a>co::reset_tcp_socket</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">reset_tcp_socket</span><span class="p">(</span><span class="n">sock_t</span> <span class="n">fd</span><span class="p">,</span> <span class="kt">int</span> <span class="n">ms</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span>
</span></span></code></pre></div><ul>
<li>ÈáçÁΩÆ TCP ËøûÊé•Ôºå‰∏é <a href="#coclose">co::close</a> Á±ª‰ººÔºå‰ΩÜ‰∏ªÂä®Ë∞ÉÁî®Êñπ‰∏ç‰ºöËøõÂÖ• TIME_WAIT Áä∂ÊÄÅ„ÄÇ</li>
<li>‰∏ÄËà¨Âè™Êúâ server Á´Ø‰ºöË∞ÉÁî®Ê≠§ÂáΩÊï∞ÔºåÁî®‰∫é‰∏ªÂä®ÂÖ≥Èó≠ÂÆ¢Êà∑Á´ØËøûÊé•ÔºåÂêåÊó∂ÈÅøÂÖçËøõÂÖ• TIME_WAIT Áä∂ÊÄÅ„ÄÇ</li>
</ul>
<h3 id="heading-1"><a class="anchor" href="#heading-1">#</a>‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî</h3>
<h3 id="coaddr2str"><a class="anchor" href="#coaddr2str">#</a>co::addr2str</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="mf">1.</span> <span class="n">fastring</span> <span class="n">addr2str</span><span class="p">(</span><span class="k">const</span> <span class="k">struct</span> <span class="nc">sockaddr_in</span><span class="o">*</span> <span class="n">addr</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="mf">2.</span> <span class="n">fastring</span> <span class="n">addr2str</span><span class="p">(</span><span class="k">const</span> <span class="k">struct</span> <span class="nc">sockaddr_in6</span><span class="o">*</span> <span class="n">addr</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="mf">3.</span> <span class="n">fastring</span> <span class="n">addr2str</span><span class="p">(</span><span class="k">const</span> <span class="kt">void</span><span class="o">*</span> <span class="n">addr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">len</span><span class="p">);</span>
</span></span></code></pre></div><ul>
<li>
<p>Â∞Ü sockaddr Âú∞ÂùÄËΩ¨Êç¢Êàê <code>&quot;ip:port&quot;</code> ÂΩ¢ÂºèÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ</p>
</li>
<li>
<p>1 Áî®‰∫é ipv4 Âú∞ÂùÄÔºå2 Áî®‰∫é ipv6 Âú∞ÂùÄÔºå3 Ê†πÊçÆ <code>len</code> ÈÄâÊã©Ë∞ÉÁî®ÁâàÊú¨ 1 ÊàñÁâàÊú¨ 2„ÄÇ</p>
</li>
<li>
<p>Á§∫‰æã</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">struct</span> <span class="nc">sockaddr_in</span> <span class="n">addr</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">co</span><span class="o">::</span><span class="n">init_addr</span><span class="p">(</span><span class="o">&amp;</span><span class="n">addr</span><span class="p">,</span> <span class="s">&#34;127.0.0.1&#34;</span><span class="p">,</span> <span class="mi">80</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">co</span><span class="o">::</span><span class="n">addr2str</span><span class="p">(</span><span class="o">&amp;</span><span class="n">addr</span><span class="p">);</span>                <span class="c1">// &#34;127.0.0.1:80&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">co</span><span class="o">::</span><span class="n">addr2str</span><span class="p">(</span><span class="o">&amp;</span><span class="n">addr</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">addr</span><span class="p">));</span>  <span class="c1">// &#34;127.0.0.1:80&#34;
</span></span></span></code></pre></div><h3 id="coinit_addr"><a class="anchor" href="#coinit_addr">#</a>co::init_addr</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="mf">1.</span> <span class="kt">bool</span> <span class="n">init_addr</span><span class="p">(</span><span class="k">struct</span> <span class="nc">sockaddr_in</span><span class="o">*</span> <span class="n">addr</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">ip</span><span class="p">,</span> <span class="kt">int</span> <span class="n">port</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="mf">2.</span> <span class="kt">bool</span> <span class="n">init_addr</span><span class="p">(</span><span class="k">struct</span> <span class="nc">sockaddr_in6</span><span class="o">*</span> <span class="n">addr</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">ip</span><span class="p">,</span> <span class="kt">int</span> <span class="n">port</span><span class="p">);</span>
</span></span></code></pre></div><ul>
<li>
<p>Áî® ip Âèä port ÂàùÂßãÂåñ sockaddr ÁªìÊûÑ„ÄÇ</p>
</li>
<li>
<p>1 Áî®‰∫é ipv4 Âú∞ÂùÄÔºå2 Áî®‰∫é ipv6 Âú∞ÂùÄ„ÄÇ</p>
</li>
<li>
<p>Á§∫‰æã</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">union</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">struct</span> <span class="nc">sockaddr_in</span>  <span class="n">v4</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">struct</span> <span class="nc">sockaddr_in6</span> <span class="n">v6</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> <span class="n">addr</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">co</span><span class="o">::</span><span class="n">init_addr</span><span class="p">(</span><span class="o">&amp;</span><span class="n">addr</span><span class="p">.</span><span class="n">v4</span><span class="p">,</span> <span class="s">&#34;127.0.0.1&#34;</span><span class="p">,</span> <span class="mi">7777</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">co</span><span class="o">::</span><span class="n">init_addr</span><span class="p">(</span><span class="o">&amp;</span><span class="n">addr</span><span class="p">.</span><span class="n">v6</span><span class="p">,</span> <span class="s">&#34;::&#34;</span><span class="p">,</span> <span class="mi">7777</span><span class="p">);</span>
</span></span></code></pre></div><h3 id="coinit_ip_addr"><a class="anchor" href="#coinit_ip_addr">#</a>co::init_ip_addr</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">bool</span> <span class="nf">init_ip_addr</span><span class="p">(</span><span class="k">struct</span> <span class="nc">sockaddr_in</span><span class="o">*</span> <span class="n">addr</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">ip</span><span class="p">,</span> <span class="kt">int</span> <span class="n">port</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kt">bool</span> <span class="nf">init_ip_addr</span><span class="p">(</span><span class="k">struct</span> <span class="nc">sockaddr_in6</span><span class="o">*</span> <span class="n">addr</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">ip</span><span class="p">,</span> <span class="kt">int</span> <span class="n">port</span><span class="p">);</span>
</span></span></code></pre></div><ul>
<li>v3.0.1 Ê†áËÆ∞‰∏∫ <strong>deprecated</strong>ÔºåÂª∫ËÆÆÁî® <a href="#coinit_addr">co::init_addr</a> Âèñ‰ª£‰πã„ÄÇ</li>
</ul>
<h3 id="copeer"><a class="anchor" href="#copeer">#</a>co::peer</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="n">fastring</span> <span class="nf">peer</span><span class="p">(</span><span class="n">sock_t</span> <span class="n">fd</span><span class="p">);</span>
</span></span></code></pre></div><ul>
<li>Ëé∑Âèñ peer Á´ØÁöÑÂú∞ÂùÄ‰ø°ÊÅØÔºåËøîÂõûÂÄºÊòØ <code>&quot;ip:port&quot;</code> ÂΩ¢ÂºèÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ</li>
</ul>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">

  



  
    
  
    
  


  


<div class="book-languages" tabindex="0" aria-haspopup="true">
  <ul>
    <li class="flex align-center">
      <img src="../../../../svg/translate.svg" class="book-icon" alt="Languages" />
      ‰∏≠Êñá
    </li> 
  </ul>

  <ul class="book-languages-list">
    
    <li class="active">
      <a href="../../../../cn/" class="flex align-center">
        <img src="../../../../svg/translate.svg" class="book-icon" alt="Languages" />
        ‰∏≠Êñá
      </a>
    </li>
    
    <li class="">
      <a href="../../../../en/co/net/sock/" class="flex align-center">
        <img src="../../../../svg/translate.svg" class="book-icon" alt="Languages" />
        English
      </a>
    </li>
    
  </ul>
</div>




  <div class="book-date"><a class="flex align-center" href="https://github.com/coostdocs/codoc/commit/265464652ec7af99f0d224db2a618227cb64a318" title='ÊúÄÂêé‰øÆÊîπËÄÖ idealvin | September 9, 2023' target="_blank" rel="noopener">
      <img src="../../../../svg/calendar.svg" class="book-icon" alt="Calendar" />
      <span>September 9, 2023</span>
    </a>
  </div>



  <div class="book-edit">
    <a class="flex align-center" href="https://github.com/coostdocs/codoc/edit/master/content/cn/co/net/sock.md" target="_blank" rel="noopener">
      <img src="../../../../svg/edit.svg" class="book-icon" alt="Edit" />
      <span>ÁºñËæëÊú¨È°µ</span>
    </a>
  </div>

</div>

 
        





<script src="//cdn.bootcss.com/highlight.js/11.1.0/highlight.min.js"></script>



<script src="//cdn.bootcss.com/highlight.js/11.1.0/languages/cpp.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/11.1.0/languages/bash.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/11.1.0/languages/lua.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/11.1.0/languages/yaml.min.js"></script>
<script>hljs.configure({ languages: [] }); hljs.initHighlightingOnLoad();</script>





      </footer>

      
  
  <div class="book-comments">


<link rel="stylesheet" href="//cdn.bootcss.com/gitalk/1.7.2/gitalk.min.css">
<script src="//cdn.bootcss.com/gitalk/1.7.2/gitalk.min.js"></script>
<div id="gitalk-container"></div>
<script type="text/javascript">
  var gitalk = new Gitalk({
    clientID: '11f9ff9ca43804d70b32',
    clientSecret: '07e2bd5b09a1654e7942a7698c3ec164e7566177',
    repo: 'gitalk',
    owner: 'idealvin',
    admin: ['idealvin'],
    id: location.pathname,
    language: 'zh-CN',
    distractionFreeMode: false,
    proxy: 'https:\/\/cors-anywhere.azm.workers.dev\/https:\/\/github.com\/login\/oauth\/access_token'
  })
  gitalk.render('gitalk-container');
</script></div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#socket-apis">Socket APIs</a>
          <ul>
            <li><a href="#ÊúØËØ≠Á∫¶ÂÆö">ÊúØËØ≠Á∫¶ÂÆö</a></li>
            <li><a href="#cosocket">co::socket</a></li>
            <li><a href="#coaccept">co::accept</a></li>
            <li><a href="#cobind">co::bind</a></li>
            <li><a href="#coclose">co::close</a></li>
            <li><a href="#coconnect">co::connect</a></li>
            <li><a href="#colisten">co::listen</a></li>
            <li><a href="#corecv">co::recv</a></li>
            <li><a href="#corecvn">co::recvn</a></li>
            <li><a href="#corecvfrom">co::recvfrom</a></li>
            <li><a href="#cosend">co::send</a></li>
            <li><a href="#cosendto">co::sendto</a></li>
            <li><a href="#coshutdown">co::shutdown</a></li>
            <li><a href="#heading">‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî</a></li>
            <li><a href="#cogetsockopt">co::getsockopt</a></li>
            <li><a href="#cosetsockopt">co::setsockopt</a></li>
            <li><a href="#coset_nonblock">co::set_nonblock</a></li>
            <li><a href="#coset_reuseaddr">co::set_reuseaddr</a></li>
            <li><a href="#coset_recv_buffer_size">co::set_recv_buffer_size</a></li>
            <li><a href="#coset_send_buffer_size">co::set_send_buffer_size</a></li>
            <li><a href="#coset_tcp_keepalive">co::set_tcp_keepalive</a></li>
            <li><a href="#coset_tcp_nodelay">co::set_tcp_nodelay</a></li>
            <li><a href="#coreset_tcp_socket">co::reset_tcp_socket</a></li>
            <li><a href="#heading-1">‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî</a></li>
            <li><a href="#coaddr2str">co::addr2str</a></li>
            <li><a href="#coinit_addr">co::init_addr</a></li>
            <li><a href="#coinit_ip_addr">co::init_ip_addr</a></li>
            <li><a href="#copeer">co::peer</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












