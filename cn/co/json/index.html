<!DOCTYPE html>
<html lang="cn" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="include: co/json.h.
co/jsonÂ æ˜¯ä¸€ä¸ªç±»ä¼¼ rapidjson çš„ JSON åº“ï¼Œä¸ rapidjson ç›¸æ¯”ï¼Œå®ƒæ—¢æœ‰æ€§èƒ½ä¸Šçš„ä¼˜åŠ¿ï¼ŒåŒæ—¶åˆæ›´ç®€å•æ˜“ç”¨ã€‚
#åŸºæœ¬æ¦‚å¿µ JSON æ˜¯ä¸€ç§ç®€å•çš„æ•°æ®æ ¼å¼ï¼Œå®ƒæ”¯æŒä¸¤ç§æ•°æ®ç»“æ„ï¼š
 ç”±ä¸€ç³»åˆ— key/valueÂ é”®å€¼å¯¹æ„æˆçš„é›†åˆï¼Œè¿™ç±»ç»“æ„ç§°ä¸º objectï¼Œå¯¹åº”ç¼–ç¨‹è¯­è¨€ä¸­çš„ struct, map ç­‰ç­‰ã€‚ ç”±ä¸€ç³»åˆ— value æ„æˆçš„åˆ—è¡¨ï¼Œè¿™ç±»ç»“æ„ç§°ä¸º arrayï¼Œå¯¹åº”ç¼–ç¨‹è¯­è¨€ä¸­çš„ vector, list ç­‰ç­‰ã€‚  ä¸Šè¿° key æ˜¯ stringï¼Œvalue ä¸€èˆ¬ä¹Ÿç§°ä¸º JSON value (co/json ä¸­ç”¨ Json ç±»è¡¨ç¤º)ï¼Œå¯ä»¥æ˜¯ object, array, number, string, bool(false, true), null ä¸­çš„ä»»æ„ä¸€ç§ã€‚number æ˜¯æ•´æ•°æˆ–æµ®ç‚¹æ•°ï¼Œå¤§éƒ¨åˆ†å®ç°ä¼šå°†æ•´æ•°ä¸æµ®ç‚¹æ•°åŒºåˆ†å¼€ã€‚
object ç”±ä¸€å¯¹å¤§æ‹¬å·æ‹¬èµ·æ¥ï¼Œarray ç”±ä¸€å¯¹ä¸­æ‹¬å·æ‹¬èµ·æ¥ï¼Œå®ƒä»¬çœ‹èµ·æ¥åƒä¸‹é¢è¿™æ ·ï¼š
{&#34;a&#34;:1, &#34;b&#34;:false, &#34;s&#34;:&#34;xxx&#34;} [1, 2, 3] ç”±å®šä¹‰ object ä¸ array å¯ä»¥åµŒå¥—ï¼Œä»è€Œå¯ä»¥è¡¨ç¤ºæ ‘ç­‰å¤æ‚æ•°æ®ç»“æ„ã€‚
#Json #Json::Json 1. Json() noexcept; 2. Json(decltype(nullptr)) noexcept; 3.">
<meta name="theme-color" content="#FFFFFF"><meta property="og:title" content="JSON" />
<meta property="og:description" content="include: co/json.h.
co/jsonÂ æ˜¯ä¸€ä¸ªç±»ä¼¼ rapidjson çš„ JSON åº“ï¼Œä¸ rapidjson ç›¸æ¯”ï¼Œå®ƒæ—¢æœ‰æ€§èƒ½ä¸Šçš„ä¼˜åŠ¿ï¼ŒåŒæ—¶åˆæ›´ç®€å•æ˜“ç”¨ã€‚
#åŸºæœ¬æ¦‚å¿µ JSON æ˜¯ä¸€ç§ç®€å•çš„æ•°æ®æ ¼å¼ï¼Œå®ƒæ”¯æŒä¸¤ç§æ•°æ®ç»“æ„ï¼š
 ç”±ä¸€ç³»åˆ— key/valueÂ é”®å€¼å¯¹æ„æˆçš„é›†åˆï¼Œè¿™ç±»ç»“æ„ç§°ä¸º objectï¼Œå¯¹åº”ç¼–ç¨‹è¯­è¨€ä¸­çš„ struct, map ç­‰ç­‰ã€‚ ç”±ä¸€ç³»åˆ— value æ„æˆçš„åˆ—è¡¨ï¼Œè¿™ç±»ç»“æ„ç§°ä¸º arrayï¼Œå¯¹åº”ç¼–ç¨‹è¯­è¨€ä¸­çš„ vector, list ç­‰ç­‰ã€‚  ä¸Šè¿° key æ˜¯ stringï¼Œvalue ä¸€èˆ¬ä¹Ÿç§°ä¸º JSON value (co/json ä¸­ç”¨ Json ç±»è¡¨ç¤º)ï¼Œå¯ä»¥æ˜¯ object, array, number, string, bool(false, true), null ä¸­çš„ä»»æ„ä¸€ç§ã€‚number æ˜¯æ•´æ•°æˆ–æµ®ç‚¹æ•°ï¼Œå¤§éƒ¨åˆ†å®ç°ä¼šå°†æ•´æ•°ä¸æµ®ç‚¹æ•°åŒºåˆ†å¼€ã€‚
object ç”±ä¸€å¯¹å¤§æ‹¬å·æ‹¬èµ·æ¥ï¼Œarray ç”±ä¸€å¯¹ä¸­æ‹¬å·æ‹¬èµ·æ¥ï¼Œå®ƒä»¬çœ‹èµ·æ¥åƒä¸‹é¢è¿™æ ·ï¼š
{&#34;a&#34;:1, &#34;b&#34;:false, &#34;s&#34;:&#34;xxx&#34;} [1, 2, 3] ç”±å®šä¹‰ object ä¸ array å¯ä»¥åµŒå¥—ï¼Œä»è€Œå¯ä»¥è¡¨ç¤ºæ ‘ç­‰å¤æ‚æ•°æ®ç»“æ„ã€‚
#Json #Json::Json 1. Json() noexcept; 2. Json(decltype(nullptr)) noexcept; 3." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cocoyaxi.github.io/cn/co/json/" /><meta property="article:section" content="co" />

<meta property="article:modified_time" content="2022-05-31T20:54:04+08:00" />

<title>JSON | Documents for CO</title>
<link rel="manifest" href="../../../manifest.json">
<link rel="icon" href="../../../favicon.png" type="image/x-icon">
  <link rel="alternate" hreflang="en" href="https://cocoyaxi.github.io/en/co/json/" title="JSON">
<link rel="stylesheet" href="../../../book.min.0608a3570dae40fa4b3de520d6a873cc9855bb4cb5001c4b16e95a226b84aff8.css" integrity="sha256-BgijVw2uQPpLPeUg1qhzzJhVu0y1ABxLFulaImuEr/g=" crossorigin="anonymous">
  <script defer src="../../../flexsearch.min.js"></script>
  <script defer src="../../../cn.search.min.4d791923cc17f3b7107e45be1714ceadd0f9cbf7f96e68abe15d23241dfe6bb6.js" integrity="sha256-TXkZI8wX87cQfkW&#43;FxTOrdD5y/f5bmir4V0jJB3&#43;a7Y=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  


<link href='//cdn.bootcss.com/highlight.js/11.1.0/styles/github.min.css'
  rel='stylesheet' type='text/css' />


</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a href="../../../cn/"><span>Documents for CO</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="æœç´¢" aria-label="æœç´¢" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>











  



  
  <ul>
    
      
        <li>
          
  
  

  
    <span>å…³äº</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="../../../cn/about/co/" class="">ç®€ä»‹</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/about/contact/" class="">è”ç³»</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/about/sponsor/" class="">èµåŠ©ğŸ’•</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <span>CO å‚è€ƒæ–‡æ¡£</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/def/" class="">åŸºæœ¬å®šä¹‰</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/defer/" class="">defer</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/atomic/" class="">åŸå­æ“ä½œ</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/fastring/" class="">å­—ç¬¦ä¸²(fastring)</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/fastream/" class="">å­—ç¬¦æµ(fastream)</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/str/" class="">å­—ç¬¦ä¸²æ“ä½œ</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/flag/" class="">å‘½ä»¤è¡Œå‚æ•°ä¸é…ç½®æ–‡ä»¶è§£æ</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/log/" class="">æ—¥å¿—</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/unitest/" class="">å•å…ƒæµ‹è¯•æ¡†æ¶</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/json/" class=" active">JSON</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/time/" class="">æ—¶é—´</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/thread/" class="">çº¿ç¨‹</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/coroutine/" class="">åç¨‹</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-752f64a904309658adbf6062b2c3d8c1" class="toggle"  />
    <label for="section-752f64a904309658adbf6062b2c3d8c1" class="flex justify-between">
      <a role="button" class="">ç½‘ç»œç¼–ç¨‹</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/net/byte_order/" class="">å­—èŠ‚åº</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/net/tcp/" class="">TCP</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/net/http/" class="">HTTP</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/net/rpc/" class="">RPC</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/tasked/" class="">å®šæ—¶ä»»åŠ¡</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/random/" class="">éšæœºæ•°</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/lrumap/" class="">LruMap</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/hash/" class="">Hash</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/path/" class="">æ–‡ä»¶è·¯å¾„(path)</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/fs/" class="">æ–‡ä»¶ç³»ç»Ÿ</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/os/" class="">æ“ä½œç³»ç»Ÿ</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="../../../cn/co/build/" class="">ç¼–è¯‘</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var a=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="../../../svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>JSON</strong>

  <label for="toc-control">
    
    <img src="../../../svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#åŸºæœ¬æ¦‚å¿µ">åŸºæœ¬æ¦‚å¿µ</a></li>
        <li><a href="#json">Json</a>
          <ul>
            <li><a href="#jsonjson">Json::Json</a></li>
            <li><a href="#jsonarray">json::array</a></li>
            <li><a href="#jsonobject">json::object</a></li>
            <li><a href="#jsonoperator">Json::operator=</a></li>
            <li><a href="#jsondup">Json::dup</a></li>
            <li><a href="#heading">â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</a></li>
            <li><a href="#jsonis_null">Json::is_null</a></li>
            <li><a href="#jsonis_bool">Json::is_bool</a></li>
            <li><a href="#jsonis_int">Json::is_int</a></li>
            <li><a href="#jsonis_double">Json::is_double</a></li>
            <li><a href="#jsonis_string">Json::is_string</a></li>
            <li><a href="#jsonis_array">Json::is_array</a></li>
            <li><a href="#jsonis_object">Json::is_object</a></li>
            <li><a href="#heading-1">â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</a></li>
            <li><a href="#jsonas_bool">Json::as_bool</a></li>
            <li><a href="#jsonas_int">Json::as_int</a></li>
            <li><a href="#jsonas_double">Json::as_double</a></li>
            <li><a href="#jsonas_string">Json::as_string</a></li>
            <li><a href="#jsonget">Json::get</a></li>
            <li><a href="#ä»£ç ç¤ºä¾‹">ä»£ç ç¤ºä¾‹</a></li>
            <li><a href="#heading-2">â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</a></li>
            <li><a href="#jsonoperator-1">Json::operator==</a></li>
            <li><a href="#jsonoperator-2">Json::operator!=</a></li>
            <li><a href="#ä»£ç ç¤ºä¾‹-1">ä»£ç ç¤ºä¾‹</a></li>
            <li><a href="#heading-3">â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</a></li>
            <li><a href="#jsonadd_member">Json::add_member</a></li>
            <li><a href="#jsonpush_back">Json::push_back</a></li>
            <li><a href="#jsonreset">Json::reset</a></li>
            <li><a href="#jsonswap">Json::swap</a></li>
            <li><a href="#heading-4">â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</a></li>
            <li><a href="#jsonoperator-3">Json::operator[]</a></li>
            <li><a href="#jsonhas_member">Json::has_member</a></li>
            <li><a href="#jsonsize">Json::size</a></li>
            <li><a href="#jsonempty">Json::empty</a></li>
            <li><a href="#jsonstring_size">Json::string_size</a></li>
            <li><a href="#jsonarray_size">Json::array_size</a></li>
            <li><a href="#jsonobject_size">Json::object_size</a></li>
            <li><a href="#heading-5">â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</a></li>
            <li><a href="#jsonstr">Json::str</a></li>
            <li><a href="#jsonpretty">Json::pretty</a></li>
            <li><a href="#jsondbg">Json::dbg</a></li>
            <li><a href="#jsonparse_from">Json::parse_from</a></li>
            <li><a href="#jsonparse">json::parse</a></li>
            <li><a href="#ä»£ç ç¤ºä¾‹-2">ä»£ç ç¤ºä¾‹</a></li>
            <li><a href="#heading-6">â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</a></li>
            <li><a href="#jsonbegin">Json::begin</a></li>
            <li><a href="#jsonend">Json::end</a></li>
            <li><a href="#jsoniterator">Json::iterator</a>
              <ul>
                <li><a href="#iteratoroperator">iterator::operator==</a></li>
                <li><a href="#iteratoroperator-1">iterator::operator!=</a></li>
                <li><a href="#iteratoroperator-2">iterator::operator++</a></li>
                <li><a href="#iteratoroperator-3">iterator::operator*</a></li>
                <li><a href="#iteratorkey">iterator::key</a></li>
                <li><a href="#iteratorvalue">iterator::value</a></li>
              </ul>
            </li>
            <li><a href="#éå†-array-æˆ–-object">éå† array æˆ– object</a></li>
          </ul>
        </li>
        <li><a href="#æ€§èƒ½ä¼˜åŒ–å»ºè®®">æ€§èƒ½ä¼˜åŒ–å»ºè®®</a></li>
      </ul>
    </li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><p>include: <a href="https://github.com/idealvin/co/blob/master/include/co/json.h">co/json.h</a>.</p>
<p><code>co/json</code>Â æ˜¯ä¸€ä¸ªç±»ä¼¼ <a href="https://github.com/Tencent/rapidjson">rapidjson</a> çš„ JSON åº“ï¼Œä¸ rapidjson ç›¸æ¯”ï¼Œå®ƒæ—¢æœ‰æ€§èƒ½ä¸Šçš„ä¼˜åŠ¿ï¼ŒåŒæ—¶åˆæ›´ç®€å•æ˜“ç”¨ã€‚</p>
<h2 id="åŸºæœ¬æ¦‚å¿µ"><a class="anchor" href="#%e5%9f%ba%e6%9c%ac%e6%a6%82%e5%bf%b5">#</a>åŸºæœ¬æ¦‚å¿µ</h2>
<p><a href="https://www.json.org/json-en.html">JSON</a> æ˜¯ä¸€ç§ç®€å•çš„æ•°æ®æ ¼å¼ï¼Œå®ƒæ”¯æŒä¸¤ç§æ•°æ®ç»“æ„ï¼š</p>
<ul>
<li>ç”±ä¸€ç³»åˆ— <strong>key/value</strong>Â é”®å€¼å¯¹æ„æˆçš„é›†åˆï¼Œè¿™ç±»ç»“æ„ç§°ä¸º <strong>object</strong>ï¼Œå¯¹åº”ç¼–ç¨‹è¯­è¨€ä¸­çš„ struct, map ç­‰ç­‰ã€‚</li>
<li>ç”±ä¸€ç³»åˆ— <strong>value</strong> æ„æˆçš„åˆ—è¡¨ï¼Œè¿™ç±»ç»“æ„ç§°ä¸º <strong>array</strong>ï¼Œå¯¹åº”ç¼–ç¨‹è¯­è¨€ä¸­çš„ vector, list ç­‰ç­‰ã€‚</li>
</ul>
<p>ä¸Šè¿° key æ˜¯ stringï¼Œvalue ä¸€èˆ¬ä¹Ÿç§°ä¸º <strong>JSON value</strong> (co/json ä¸­ç”¨ <strong>Json</strong> ç±»è¡¨ç¤º)ï¼Œå¯ä»¥æ˜¯ object, array, number, string, bool(false, true), null ä¸­çš„ä»»æ„ä¸€ç§ã€‚number æ˜¯æ•´æ•°æˆ–æµ®ç‚¹æ•°ï¼Œå¤§éƒ¨åˆ†å®ç°ä¼šå°†æ•´æ•°ä¸æµ®ç‚¹æ•°åŒºåˆ†å¼€ã€‚</p>
<p>object ç”±ä¸€å¯¹å¤§æ‹¬å·æ‹¬èµ·æ¥ï¼Œarray ç”±ä¸€å¯¹ä¸­æ‹¬å·æ‹¬èµ·æ¥ï¼Œå®ƒä»¬çœ‹èµ·æ¥åƒä¸‹é¢è¿™æ ·ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">{<span style="color:#d14">&#34;a&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">1</span>, <span style="color:#d14">&#34;b&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0086b3">false</span>, <span style="color:#d14">&#34;s&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#d14">&#34;xxx&#34;</span>}
[<span style="color:#099">1</span>, <span style="color:#099">2</span>, <span style="color:#099">3</span>]
</code></pre></div><p>ç”±å®šä¹‰ object ä¸ array å¯ä»¥åµŒå¥—ï¼Œä»è€Œå¯ä»¥è¡¨ç¤ºæ ‘ç­‰å¤æ‚æ•°æ®ç»“æ„ã€‚</p>
<h2 id="json"><a class="anchor" href="#json">#</a>Json</h2>
<h3 id="jsonjson"><a class="anchor" href="#jsonjson">#</a>Json::Json</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"> <span style="color:#099">1.</span> Json() <span style="color:#000;font-weight:bold">noexcept</span>;
 <span style="color:#099">2.</span> Json(<span style="color:#000;font-weight:bold">decltype</span>(<span style="color:#000;font-weight:bold">nullptr</span>)) <span style="color:#000;font-weight:bold">noexcept</span>;

 <span style="color:#099">3.</span> Json(Json<span style="color:#000;font-weight:bold">&amp;&amp;</span> v) <span style="color:#000;font-weight:bold">noexcept</span>;
 <span style="color:#099">4.</span> Json(Json<span style="color:#000;font-weight:bold">&amp;</span> v) <span style="color:#000;font-weight:bold">noexcept</span>;
    Json(<span style="color:#000;font-weight:bold">const</span> Json<span style="color:#000;font-weight:bold">&amp;</span> v) <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">delete</span>;

 <span style="color:#099">5.</span> Json(<span style="color:#458;font-weight:bold">bool</span> v);
 <span style="color:#099">6.</span> Json(<span style="color:#458;font-weight:bold">double</span> v);
 <span style="color:#099">7.</span> Json(int64 v);
 <span style="color:#099">8.</span> Json(int32 v);
 <span style="color:#099">9.</span> Json(uint32 v);
<span style="color:#099">10.</span> Json(uint64 v);

<span style="color:#099">11.</span> Json(<span style="color:#000;font-weight:bold">const</span> <span style="color:#458;font-weight:bold">void</span><span style="color:#000;font-weight:bold">*</span> p, size_t n);
<span style="color:#099">12.</span> Json(<span style="color:#000;font-weight:bold">const</span> <span style="color:#458;font-weight:bold">char</span><span style="color:#000;font-weight:bold">*</span> s);
<span style="color:#099">13.</span> Json(<span style="color:#000;font-weight:bold">const</span> fastring<span style="color:#000;font-weight:bold">&amp;</span> s);
<span style="color:#099">14.</span> Json(<span style="color:#000;font-weight:bold">const</span> std<span style="color:#000;font-weight:bold">::</span>string<span style="color:#000;font-weight:bold">&amp;</span> s);

<span style="color:#099">15.</span> Json(std<span style="color:#000;font-weight:bold">::</span>initializer_list<span style="color:#000;font-weight:bold">&lt;</span>Json<span style="color:#000;font-weight:bold">&gt;</span> v);
</code></pre></div><ul>
<li>
<p>1-2, æ„å»ºä¸€ä¸ª null å¯¹è±¡ã€‚</p>
</li>
<li>
<p>3-4, move æ„é€ ä¸æ‹·è´æ„é€ å‡½æ•°ï¼Œ<strong>äºŒè€…å‡æ‰§è¡Œ move è¯­ä¹‰</strong>ï¼Œæ„é€ å‡½æ•°æ‰§è¡Œåï¼Œå‚æ•° <code>v</code> å°†å˜ä¸ºä¸€ä¸ª null å¯¹è±¡ã€‚</p>
</li>
<li>
<p>5, æ„é€  bool ç±»å‹çš„ JSON å¯¹è±¡ã€‚</p>
</li>
<li>
<p>6, æ„é€  double ç±»å‹çš„ JSON å¯¹è±¡ã€‚</p>
</li>
<li>
<p>7-10, æ„é€ æ•´æ•°ç±»å‹çš„ JSON å¯¹è±¡ã€‚</p>
</li>
<li>
<p>11-14, æ„é€ å­—ç¬¦ä¸²ç±»å‹çš„ JSON å¯¹è±¡ã€‚</p>
</li>
<li>
<p>15, æ ¹æ®åˆå§‹åŒ–åˆ—è¡¨æ„å»º object æˆ– array å¯¹è±¡ã€‚</p>
</li>
<li>
<p>ç¤ºä¾‹</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">Json a;          <span style="color:#998;font-style:italic">// null
</span><span style="color:#998;font-style:italic"></span>Json <span style="color:#900;font-weight:bold">b</span>(<span style="color:#000;font-weight:bold">nullptr</span>); <span style="color:#998;font-style:italic">// null
</span><span style="color:#998;font-style:italic"></span>Json c <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">false</span>;  <span style="color:#998;font-style:italic">// bool
</span><span style="color:#998;font-style:italic"></span>Json d <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">3.14</span>;   <span style="color:#998;font-style:italic">// double
</span><span style="color:#998;font-style:italic"></span>Json e <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">23</span>;     <span style="color:#998;font-style:italic">// integer
</span><span style="color:#998;font-style:italic"></span>Json f <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;xx&#34;</span>;   <span style="color:#998;font-style:italic">// string
</span><span style="color:#998;font-style:italic"></span>
Json g <span style="color:#000;font-weight:bold">=</span> {<span style="color:#099">1</span>, <span style="color:#099">2</span>, <span style="color:#099">3</span>};  <span style="color:#998;font-style:italic">// g -&gt; [1, 2, 3]
</span><span style="color:#998;font-style:italic"></span>Json h <span style="color:#000;font-weight:bold">=</span> {<span style="color:#d14">&#34;a&#34;</span>, <span style="color:#d14">&#34;b&#34;</span>}; <span style="color:#998;font-style:italic">// h -&gt; [&#34;a&#34;, &#34;b&#34;]
</span><span style="color:#998;font-style:italic"></span>
Json i <span style="color:#000;font-weight:bold">=</span> {           <span style="color:#998;font-style:italic">// i -&gt; { &#34;a&#34;: &#34;b&#34; }
</span><span style="color:#998;font-style:italic"></span>    {<span style="color:#d14">&#34;a&#34;</span>, <span style="color:#d14">&#34;b&#34;</span>}
};

Json j <span style="color:#000;font-weight:bold">=</span> {           <span style="color:#998;font-style:italic">// j -&gt; {&#34;a&#34;: 1, &#34;b&#34;: [1,2,3]}
</span><span style="color:#998;font-style:italic"></span>    {<span style="color:#d14">&#34;a&#34;</span>, <span style="color:#099">1</span>},
    {<span style="color:#d14">&#34;b&#34;</span>, {<span style="color:#099">1</span>, <span style="color:#099">2</span>, <span style="color:#099">3</span>}},
};

Json <span style="color:#900;font-weight:bold">x</span>(i);            <span style="color:#998;font-style:italic">// i -&gt; null
</span><span style="color:#998;font-style:italic"></span>Json <span style="color:#900;font-weight:bold">y</span>(std<span style="color:#000;font-weight:bold">::</span>move(j)); <span style="color:#998;font-style:italic">// j -&gt; null
</span></code></pre></div><h3 id="jsonarray"><a class="anchor" href="#jsonarray">#</a>json::array</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">Json <span style="color:#900;font-weight:bold">array</span>();
</code></pre></div><ul>
<li>æ­¤å‡½æ•°åœ¨ namespace json ä¸‹ï¼Œå®ƒè¿”å›ä¸€ä¸ªç©ºçš„ array å¯¹è±¡ã€‚</li>
</ul>
<h3 id="jsonobject"><a class="anchor" href="#jsonobject">#</a>json::object</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">Json <span style="color:#900;font-weight:bold">object</span>();
</code></pre></div><ul>
<li>æ­¤å‡½æ•°åœ¨ namespace json ä¸‹ï¼Œå®ƒè¿”å›ä¸€ä¸ªç©ºçš„ object å¯¹è±¡ã€‚</li>
</ul>
<h3 id="jsonoperator"><a class="anchor" href="#jsonoperator">#</a>Json::operator=</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">Json<span style="color:#000;font-weight:bold">&amp;</span> <span style="color:#000;font-weight:bold">operator</span><span style="color:#000;font-weight:bold">=</span>(Json<span style="color:#000;font-weight:bold">&amp;&amp;</span> v);
Json<span style="color:#000;font-weight:bold">&amp;</span> <span style="color:#000;font-weight:bold">operator</span><span style="color:#000;font-weight:bold">=</span>(Json<span style="color:#000;font-weight:bold">&amp;</span> v);
<span style="color:#458;font-weight:bold">void</span> <span style="color:#000;font-weight:bold">operator</span><span style="color:#000;font-weight:bold">=</span>(<span style="color:#000;font-weight:bold">const</span> Json<span style="color:#000;font-weight:bold">&amp;</span>) <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">delete</span>;
</code></pre></div><ul>
<li>èµ‹å€¼æ“ä½œï¼Œä¸Šé¢çš„ä¸¤ä¸ªæ–¹æ³•ç­‰ä»·ï¼Œ<strong>è¯¥æ“ä½œæ‰§è¡Œåï¼Œå‚æ•° <code>v</code> å˜æˆ null å¯¹è±¡</strong>ã€‚</li>
</ul>
<h3 id="jsondup"><a class="anchor" href="#jsondup">#</a>Json::dup</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">Json <span style="color:#900;font-weight:bold">dup</span>() <span style="color:#000;font-weight:bold">const</span>;
</code></pre></div><ul>
<li>
<p>æ·±åº¦æ‹·è´ä¸€ä¸ª JSON å¯¹è±¡ã€‚</p>
</li>
<li>
<p>ç¤ºä¾‹</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">Json x <span style="color:#000;font-weight:bold">=</span> {<span style="color:#099">1</span>, <span style="color:#099">2</span>, <span style="color:#099">3</span>}; <span style="color:#998;font-style:italic">// x -&gt; [1,2,3]
</span><span style="color:#998;font-style:italic"></span>Json y, z;
y <span style="color:#000;font-weight:bold">=</span> x;       <span style="color:#998;font-style:italic">// x -&gt; null, y -&gt; [1,2,3]
</span><span style="color:#998;font-style:italic"></span>z <span style="color:#000;font-weight:bold">=</span> y.dup(); <span style="color:#998;font-style:italic">// y:[1,2,3], z -&gt; [1,2,3]
</span></code></pre></div><h3 id="heading"><a class="anchor" href="#heading">#</a>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</h3>
<h3 id="jsonis_null"><a class="anchor" href="#jsonis_null">#</a>Json::is_null</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#458;font-weight:bold">bool</span> <span style="color:#900;font-weight:bold">is_null</span>() <span style="color:#000;font-weight:bold">const</span>;
</code></pre></div><ul>
<li>åˆ¤æ–­ Json å¯¹è±¡æ˜¯å¦ä¸º nullã€‚</li>
</ul>
<h3 id="jsonis_bool"><a class="anchor" href="#jsonis_bool">#</a>Json::is_bool</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#458;font-weight:bold">bool</span> <span style="color:#900;font-weight:bold">is_bool</span>() <span style="color:#000;font-weight:bold">const</span>;
</code></pre></div><ul>
<li>åˆ¤æ–­ Json å¯¹è±¡æ˜¯å¦ä¸º bool ç±»å‹ã€‚</li>
</ul>
<h3 id="jsonis_int"><a class="anchor" href="#jsonis_int">#</a>Json::is_int</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#458;font-weight:bold">bool</span> <span style="color:#900;font-weight:bold">is_int</span>() <span style="color:#000;font-weight:bold">const</span>;
</code></pre></div><ul>
<li>åˆ¤æ–­ Json å¯¹è±¡æ˜¯å¦ä¸ºæ•´æ•°ç±»å‹ã€‚</li>
</ul>
<h3 id="jsonis_double"><a class="anchor" href="#jsonis_double">#</a>Json::is_double</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#458;font-weight:bold">bool</span> <span style="color:#900;font-weight:bold">is_double</span>() <span style="color:#000;font-weight:bold">const</span>;
</code></pre></div><ul>
<li>åˆ¤æ–­ Json å¯¹è±¡æ˜¯å¦ä¸º double ç±»å‹ã€‚</li>
</ul>
<h3 id="jsonis_string"><a class="anchor" href="#jsonis_string">#</a>Json::is_string</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#458;font-weight:bold">bool</span> <span style="color:#900;font-weight:bold">is_string</span>() <span style="color:#000;font-weight:bold">const</span>;
</code></pre></div><ul>
<li>åˆ¤æ–­ Json å¯¹è±¡æ˜¯å¦ä¸ºå­—ç¬¦ä¸²ç±»å‹ã€‚</li>
</ul>
<h3 id="jsonis_array"><a class="anchor" href="#jsonis_array">#</a>Json::is_array</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#458;font-weight:bold">bool</span> <span style="color:#900;font-weight:bold">is_array</span>() <span style="color:#000;font-weight:bold">const</span>;
</code></pre></div><ul>
<li>åˆ¤æ–­ Json å¯¹è±¡æ˜¯å¦ä¸º array ç±»å‹ã€‚</li>
</ul>
<h3 id="jsonis_object"><a class="anchor" href="#jsonis_object">#</a>Json::is_object</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#458;font-weight:bold">bool</span> <span style="color:#900;font-weight:bold">is_object</span>() <span style="color:#000;font-weight:bold">const</span>;
</code></pre></div><ul>
<li>åˆ¤æ–­ Json å¯¹è±¡æ˜¯å¦ä¸º object ç±»å‹ã€‚</li>
</ul>
<h3 id="heading-1"><a class="anchor" href="#heading-1">#</a>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</h3>
<h3 id="jsonas_bool"><a class="anchor" href="#jsonas_bool">#</a>Json::as_bool</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#458;font-weight:bold">bool</span> <span style="color:#900;font-weight:bold">as_bool</span>() <span style="color:#000;font-weight:bold">const</span>;
</code></pre></div><ul>
<li>è·å– bool ç±»å‹çš„å€¼ï¼Œè‹¥è°ƒç”¨æ­¤æ–¹æ³•çš„ Json å¯¹è±¡ä¸æ˜¯ bool ç±»å‹ï¼Œè¿”å›å€¼ä¸º falseã€‚</li>
</ul>
<h3 id="jsonas_int"><a class="anchor" href="#jsonas_int">#</a>Json::as_int</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">as_int</span>() <span style="color:#000;font-weight:bold">const</span>;
int32 <span style="color:#900;font-weight:bold">as_int32</span>() <span style="color:#000;font-weight:bold">const</span>;
int64 <span style="color:#900;font-weight:bold">as_int64</span>() <span style="color:#000;font-weight:bold">const</span>;
</code></pre></div><ul>
<li>è·å–æ•´æ•°ç±»å‹çš„å€¼ï¼Œè‹¥è°ƒç”¨è¿™äº›æ–¹æ³•çš„ Json å¯¹è±¡ä¸æ˜¯æ•´æ•°ç±»å‹ï¼Œè¿”å›å€¼ä¸º 0ã€‚</li>
</ul>
<h3 id="jsonas_double"><a class="anchor" href="#jsonas_double">#</a>Json::as_double</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#458;font-weight:bold">double</span> <span style="color:#900;font-weight:bold">as_double</span>() <span style="color:#000;font-weight:bold">const</span>;
</code></pre></div><ul>
<li>è·å– double ç±»å‹çš„å€¼ï¼Œè‹¥è°ƒç”¨æ­¤æ–¹æ³•çš„ Json å¯¹è±¡ä¸æ˜¯ double ç±»å‹ï¼Œè¿”å›å€¼æ˜¯ 0ã€‚</li>
</ul>
<h3 id="jsonas_string"><a class="anchor" href="#jsonas_string">#</a>Json::as_string</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#000;font-weight:bold">const</span> <span style="color:#458;font-weight:bold">char</span><span style="color:#000;font-weight:bold">*</span> <span style="color:#900;font-weight:bold">as_string</span>() <span style="color:#000;font-weight:bold">const</span>;
</code></pre></div><ul>
<li>è·å–å­—ç¬¦ä¸²ç±»å‹çš„å€¼ï¼Œè‹¥è°ƒç”¨æ­¤æ–¹æ³•çš„ Json å¯¹è±¡ä¸æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œè¿”å›å€¼æ˜¯ç©ºå­—ç¬¦ä¸²ã€‚</li>
<li>æ­¤æ–¹æ³•è¿”å› <code>'\0'</code>Â ç»“å°¾çš„ C å­—ç¬¦ä¸²ï¼Œç”¨æˆ·è¿˜å¯ä»¥è°ƒç”¨ <code>string_size()</code>Â æ–¹æ³•è·å–å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚</li>
</ul>
<h3 id="jsonget"><a class="anchor" href="#jsonget">#</a>Json::get</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#099">1.</span> Json<span style="color:#000;font-weight:bold">&amp;</span> get(uint32 i) <span style="color:#000;font-weight:bold">const</span>;
<span style="color:#099">2.</span> Json<span style="color:#000;font-weight:bold">&amp;</span> get(<span style="color:#458;font-weight:bold">int</span> i) <span style="color:#000;font-weight:bold">const</span>;
<span style="color:#099">3.</span> Json<span style="color:#000;font-weight:bold">&amp;</span> get(<span style="color:#000;font-weight:bold">const</span> <span style="color:#458;font-weight:bold">char</span><span style="color:#000;font-weight:bold">*</span> key) <span style="color:#000;font-weight:bold">const</span>;

<span style="color:#099">4.</span> <span style="color:#000;font-weight:bold">template</span> <span style="color:#000;font-weight:bold">&lt;</span><span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">T</span>,  <span style="color:#000;font-weight:bold">class</span> <span style="color:#a61717;background-color:#e3d2d2">...</span><span style="color:#458;font-weight:bold">X</span><span style="color:#000;font-weight:bold">&gt;</span>
   <span style="color:#000;font-weight:bold">inline</span> Json<span style="color:#000;font-weight:bold">&amp;</span> get(T<span style="color:#000;font-weight:bold">&amp;&amp;</span> v, X<span style="color:#000;font-weight:bold">&amp;&amp;</span> ... x) <span style="color:#000;font-weight:bold">const</span>;
</code></pre></div><ul>
<li>æ ¹æ® index æˆ– key è·å– JSON å¯¹è±¡ï¼Œ<strong>æ­¤æ–¹æ³•æ˜¯åªè¯»æ“ä½œï¼Œä¸ä¼šä¿®æ”¹è°ƒç”¨æ­¤æ–¹æ³•çš„ JSON å¯¹è±¡</strong>ã€‚</li>
<li>1-2, è·å– array å¯¹è±¡çš„ç¬¬ i ä¸ªå…ƒç´ ï¼Œè‹¥è°ƒç”¨æ­¤æ–¹æ³•çš„ JSON å¯¹è±¡ä¸æ˜¯ array ç±»å‹ï¼Œæˆ–è€… <code>i</code> è¶…å‡ºäº† array çš„èŒƒå›´ï¼Œè¿”å›ç»“æœå°†å¼•ç”¨ä¸€ä¸ª null å¯¹è±¡ã€‚</li>
<li>3, è·å– <code>key</code> å¯¹åº”çš„ JSON value å¯¹è±¡ï¼Œè‹¥è°ƒç”¨æ­¤æ–¹æ³•çš„ JSON å¯¹è±¡ä¸æ˜¯ object ç±»å‹ï¼Œæˆ–è€… <code>key</code> ä¸å­˜åœ¨ï¼Œè¿”å›ç»“æœå°†å¼•ç”¨ä¸€ä¸ª null å¯¹è±¡ã€‚</li>
<li>4, å¯ä»¥å¸¦ä»»æ„æ•°é‡çš„å‚æ•°ï¼Œæ¯ä¸ªå‚æ•°æ˜¯ index æˆ–è€… keyã€‚è¯¥æ–¹æ³•é‡åˆ°ç¬¬ä¸€ä¸ªä¸åˆé€‚çš„ index æˆ– ä¸å­˜åœ¨çš„ key æ—¶ï¼Œç«‹å³è¿”å›ï¼Œè¿”å›ç»“æœå°†å¼•ç”¨ä¸€ä¸ª null å¯¹è±¡ã€‚</li>
</ul>
<h3 id="ä»£ç ç¤ºä¾‹"><a class="anchor" href="#%e4%bb%a3%e7%a0%81%e7%a4%ba%e4%be%8b">#</a>ä»£ç ç¤ºä¾‹</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">Json r <span style="color:#000;font-weight:bold">=</span> {
    { <span style="color:#d14">&#34;a&#34;</span>, <span style="color:#099">7</span> },
    { <span style="color:#d14">&#34;b&#34;</span>, <span style="color:#0086b3">false</span> },
    { <span style="color:#d14">&#34;c&#34;</span>, { <span style="color:#099">1</span>, <span style="color:#099">2</span>, <span style="color:#099">3</span> } },
    { <span style="color:#d14">&#34;s&#34;</span>, <span style="color:#d14">&#34;xx&#34;</span> },
};

r.get(<span style="color:#d14">&#34;a&#34;</span>).as_int();    <span style="color:#998;font-style:italic">// 7
</span><span style="color:#998;font-style:italic"></span>r.get(<span style="color:#d14">&#34;b&#34;</span>).as_bool();   <span style="color:#998;font-style:italic">// false
</span><span style="color:#998;font-style:italic"></span>r.get(<span style="color:#d14">&#34;s&#34;</span>).as_string(); <span style="color:#998;font-style:italic">// &#34;xx&#34;
</span><span style="color:#998;font-style:italic"></span>r.get(<span style="color:#d14">&#34;c&#34;</span>, <span style="color:#099">0</span>).as_int(); <span style="color:#998;font-style:italic">// 1
</span><span style="color:#998;font-style:italic"></span>r.get(<span style="color:#d14">&#34;c&#34;</span>, <span style="color:#099">1</span>).as_int(); <span style="color:#998;font-style:italic">// 2
</span></code></pre></div><h3 id="heading-2"><a class="anchor" href="#heading-2">#</a>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</h3>
<h3 id="jsonoperator-1"><a class="anchor" href="#jsonoperator-1">#</a>Json::operator==</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#458;font-weight:bold">bool</span> <span style="color:#000;font-weight:bold">operator</span><span style="color:#000;font-weight:bold">==</span>(<span style="color:#458;font-weight:bold">bool</span> v) <span style="color:#000;font-weight:bold">const</span>;
<span style="color:#458;font-weight:bold">bool</span> <span style="color:#000;font-weight:bold">operator</span><span style="color:#000;font-weight:bold">==</span>(<span style="color:#458;font-weight:bold">double</span> v) <span style="color:#000;font-weight:bold">const</span>;
<span style="color:#458;font-weight:bold">bool</span> <span style="color:#000;font-weight:bold">operator</span><span style="color:#000;font-weight:bold">==</span>(int64 v) <span style="color:#000;font-weight:bold">const</span>;
<span style="color:#458;font-weight:bold">bool</span> <span style="color:#000;font-weight:bold">operator</span><span style="color:#000;font-weight:bold">==</span>(<span style="color:#458;font-weight:bold">int</span> v) <span style="color:#000;font-weight:bold">const</span>;
<span style="color:#458;font-weight:bold">bool</span> <span style="color:#000;font-weight:bold">operator</span><span style="color:#000;font-weight:bold">==</span>(uint32 v) <span style="color:#000;font-weight:bold">const</span>;
<span style="color:#458;font-weight:bold">bool</span> <span style="color:#000;font-weight:bold">operator</span><span style="color:#000;font-weight:bold">==</span>(uint64 v) <span style="color:#000;font-weight:bold">const</span>;
<span style="color:#458;font-weight:bold">bool</span> <span style="color:#000;font-weight:bold">operator</span><span style="color:#000;font-weight:bold">==</span>(<span style="color:#000;font-weight:bold">const</span> <span style="color:#458;font-weight:bold">char</span><span style="color:#000;font-weight:bold">*</span> v) <span style="color:#000;font-weight:bold">const</span>;
<span style="color:#458;font-weight:bold">bool</span> <span style="color:#000;font-weight:bold">operator</span><span style="color:#000;font-weight:bold">==</span>(<span style="color:#000;font-weight:bold">const</span> fastring<span style="color:#000;font-weight:bold">&amp;</span> v) <span style="color:#000;font-weight:bold">const</span>;
<span style="color:#458;font-weight:bold">bool</span> <span style="color:#000;font-weight:bold">operator</span><span style="color:#000;font-weight:bold">==</span>(<span style="color:#000;font-weight:bold">const</span> std<span style="color:#000;font-weight:bold">::</span>string<span style="color:#000;font-weight:bold">&amp;</span> v) <span style="color:#000;font-weight:bold">const</span>;
</code></pre></div><ul>
<li>åˆ¤æ–­ Json å¯¹è±¡çš„å€¼æ˜¯å¦ç­‰äº <code>v</code>ã€‚</li>
<li>è‹¥ Json å¯¹è±¡çš„ç±»å‹ä¸ <code>v</code> ä¸åŒï¼Œåˆ™ç›´æ¥è¿”å› falseã€‚</li>
</ul>
<h3 id="jsonoperator-2"><a class="anchor" href="#jsonoperator-2">#</a>Json::operator!=</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#458;font-weight:bold">bool</span> <span style="color:#000;font-weight:bold">operator</span><span style="color:#000;font-weight:bold">!=</span>(<span style="color:#458;font-weight:bold">bool</span> v) <span style="color:#000;font-weight:bold">const</span>;
<span style="color:#458;font-weight:bold">bool</span> <span style="color:#000;font-weight:bold">operator</span><span style="color:#000;font-weight:bold">!=</span>(<span style="color:#458;font-weight:bold">double</span> v) <span style="color:#000;font-weight:bold">const</span>;
<span style="color:#458;font-weight:bold">bool</span> <span style="color:#000;font-weight:bold">operator</span><span style="color:#000;font-weight:bold">!=</span>(int64 v) <span style="color:#000;font-weight:bold">const</span>;
<span style="color:#458;font-weight:bold">bool</span> <span style="color:#000;font-weight:bold">operator</span><span style="color:#000;font-weight:bold">!=</span>(<span style="color:#458;font-weight:bold">int</span> v) <span style="color:#000;font-weight:bold">const</span>;
<span style="color:#458;font-weight:bold">bool</span> <span style="color:#000;font-weight:bold">operator</span><span style="color:#000;font-weight:bold">!=</span>(uint32 v) <span style="color:#000;font-weight:bold">const</span>;
<span style="color:#458;font-weight:bold">bool</span> <span style="color:#000;font-weight:bold">operator</span><span style="color:#000;font-weight:bold">!=</span>(uint64 v) <span style="color:#000;font-weight:bold">const</span>;
<span style="color:#458;font-weight:bold">bool</span> <span style="color:#000;font-weight:bold">operator</span><span style="color:#000;font-weight:bold">!=</span>(<span style="color:#000;font-weight:bold">const</span> <span style="color:#458;font-weight:bold">char</span><span style="color:#000;font-weight:bold">*</span> v) <span style="color:#000;font-weight:bold">const</span>;
<span style="color:#458;font-weight:bold">bool</span> <span style="color:#000;font-weight:bold">operator</span><span style="color:#000;font-weight:bold">!=</span>(<span style="color:#000;font-weight:bold">const</span> fastring<span style="color:#000;font-weight:bold">&amp;</span> v) <span style="color:#000;font-weight:bold">const</span>;
<span style="color:#458;font-weight:bold">bool</span> <span style="color:#000;font-weight:bold">operator</span><span style="color:#000;font-weight:bold">!=</span>(<span style="color:#000;font-weight:bold">const</span> std<span style="color:#000;font-weight:bold">::</span>string<span style="color:#000;font-weight:bold">&amp;</span> v) <span style="color:#000;font-weight:bold">const</span>;
</code></pre></div><ul>
<li>åˆ¤æ–­ Json å¯¹è±¡çš„å€¼æ˜¯å¦ä¸ç­‰äº <code>v</code>ã€‚</li>
<li>è‹¥ Json å¯¹è±¡çš„ç±»å‹ä¸ <code>v</code> ä¸åŒï¼Œåˆ™ç›´æ¥è¿”å› trueã€‚</li>
</ul>
<h3 id="ä»£ç ç¤ºä¾‹-1"><a class="anchor" href="#%e4%bb%a3%e7%a0%81%e7%a4%ba%e4%be%8b-1">#</a>ä»£ç ç¤ºä¾‹</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">Json x <span style="color:#000;font-weight:bold">=</span> {
    {<span style="color:#d14">&#34;a&#34;</span>, <span style="color:#099">3</span>},
    {<span style="color:#d14">&#34;b&#34;</span>, <span style="color:#0086b3">false</span>},
    {<span style="color:#d14">&#34;s&#34;</span>, <span style="color:#d14">&#34;xx&#34;</span>},
};

x <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">7</span>;          <span style="color:#998;font-style:italic">// false
</span><span style="color:#998;font-style:italic"></span>x[<span style="color:#d14">&#34;a&#34;</span>] <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">3</span>;     <span style="color:#998;font-style:italic">// true
</span><span style="color:#998;font-style:italic"></span>x[<span style="color:#d14">&#34;b&#34;</span>] <span style="color:#000;font-weight:bold">==</span> <span style="color:#0086b3">false</span>; <span style="color:#998;font-style:italic">// true
</span><span style="color:#998;font-style:italic"></span>x[<span style="color:#d14">&#34;s&#34;</span>] <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#34;xx&#34;</span>;  <span style="color:#998;font-style:italic">// true
</span></code></pre></div><h3 id="heading-3"><a class="anchor" href="#heading-3">#</a>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</h3>
<h3 id="jsonadd_member"><a class="anchor" href="#jsonadd_member">#</a>Json::add_member</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">add_member</span>(<span style="color:#000;font-weight:bold">const</span> <span style="color:#458;font-weight:bold">char</span><span style="color:#000;font-weight:bold">*</span> key, Json<span style="color:#000;font-weight:bold">&amp;&amp;</span> v);
<span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">add_member</span>(<span style="color:#000;font-weight:bold">const</span> <span style="color:#458;font-weight:bold">char</span><span style="color:#000;font-weight:bold">*</span> key, Json<span style="color:#000;font-weight:bold">&amp;</span> v);
</code></pre></div><ul>
<li>
<p>å‘ object ç±»å‹çš„ Json ä¸­æ·»åŠ  key-value é”®å€¼å¯¹ (null è°ƒç”¨æ­¤æ–¹æ³•åè‡ªåŠ¨å˜æˆ object)ã€‚</p>
</li>
<li>
<p>å‚æ•° key æ˜¯ <code>'\0'</code>Â ç»“å°¾çš„ C å­—ç¬¦ä¸²ï¼Œå‚æ•° v æ˜¯æ‰€æ·»åŠ çš„å€¼ã€‚</p>
</li>
<li>
<p>å‚æ•° v æ‰§è¡Œ move è¯­ä¹‰ï¼Œè°ƒç”¨æ­¤æ–¹æ³•åï¼Œv å˜ä¸º null å¯¹è±¡ã€‚</p>
</li>
<li>
<p><strong>NOTEï¼š</strong> co/json å‡ºäºæ€§èƒ½ä¸Šçš„è€ƒè™‘ï¼Œè¦æ±‚ key ä¸­ä¸èƒ½åŒ…å«åŒå¼•å·ã€‚</p>
</li>
<li>
<p>ç¤ºä¾‹</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">Json r;
r.add_member(<span style="color:#d14">&#34;a&#34;</span>, <span style="color:#099">1</span>);     <span style="color:#998;font-style:italic">// r -&gt; {&#34;a&#34;:1}
</span><span style="color:#998;font-style:italic"></span>r.add_member(<span style="color:#d14">&#34;d&#34;</span>, <span style="color:#099">3.3</span>);   <span style="color:#998;font-style:italic">// r -&gt; {&#34;a&#34;:1, &#34;d&#34;:3.3}
</span><span style="color:#998;font-style:italic"></span>r.add_member(<span style="color:#d14">&#34;s&#34;</span>, <span style="color:#d14">&#34;xx&#34;</span>);  <span style="color:#998;font-style:italic">// r -&gt; {&#34;a&#34;:1, &#34;d&#34;:3.3, &#34;s&#34;:&#34;xx&#34;}
</span><span style="color:#998;font-style:italic"></span>
Json x;
x.add_member(<span style="color:#d14">&#34;xx&#34;</span>, r); <span style="color:#998;font-style:italic">// r -&gt; null
</span></code></pre></div><h3 id="jsonpush_back"><a class="anchor" href="#jsonpush_back">#</a>Json::push_back</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">push_back</span>(Json<span style="color:#000;font-weight:bold">&amp;&amp;</span> v);
<span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">push_back</span>(Json<span style="color:#000;font-weight:bold">&amp;</span> v);
</code></pre></div><ul>
<li>
<p>å‘ array ç±»å‹çš„ Json ä¸­æ·»åŠ å…ƒç´ (null è°ƒç”¨æ­¤æ–¹æ³•åè‡ªåŠ¨å˜æˆ array)ã€‚</p>
</li>
<li>
<p>å‚æ•° v æ‰§è¡Œ move è¯­ä¹‰ï¼Œè°ƒç”¨æ­¤æ–¹æ³•åï¼Œv å˜ä¸º null å¯¹è±¡ã€‚</p>
</li>
<li>
<p>ç¤ºä¾‹</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">Json r;
r.push_back(<span style="color:#099">1</span>);    <span style="color:#998;font-style:italic">// r -&gt; [1]
</span><span style="color:#998;font-style:italic"></span>r.push_back(<span style="color:#099">3.3</span>);  <span style="color:#998;font-style:italic">// r -&gt; [1, 3.3]
</span><span style="color:#998;font-style:italic"></span>r.push_back(<span style="color:#d14">&#34;xx&#34;</span>); <span style="color:#998;font-style:italic">// r -&gt; [1, 3.3, &#34;xx&#34;]
</span><span style="color:#998;font-style:italic"></span>
Json x;
x.push_back(r);    <span style="color:#998;font-style:italic">// r -&gt; null, x -&gt; [[1, 3.3, &#34;xx&#34;]]
</span></code></pre></div><h3 id="jsonreset"><a class="anchor" href="#jsonreset">#</a>Json::reset</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">reset</span>();
</code></pre></div><ul>
<li>é‡ç½® Json å¯¹è±¡ä¸º nullã€‚</li>
</ul>
<h3 id="jsonswap"><a class="anchor" href="#jsonswap">#</a>Json::swap</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">swap</span>(Json<span style="color:#000;font-weight:bold">&amp;</span> v) <span style="color:#000;font-weight:bold">noexcept</span>;
<span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">swap</span>(Json<span style="color:#000;font-weight:bold">&amp;&amp;</span> v) <span style="color:#000;font-weight:bold">noexcept</span>;
</code></pre></div><ul>
<li>äº¤æ¢ä¸¤ä¸ª Json å¯¹è±¡çš„å†…å®¹ã€‚</li>
</ul>
<h3 id="heading-4"><a class="anchor" href="#heading-4">#</a>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</h3>
<h3 id="jsonoperator-3"><a class="anchor" href="#jsonoperator-3">#</a>Json::operator[]</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">Json<span style="color:#000;font-weight:bold">&amp;</span> <span style="color:#000;font-weight:bold">operator</span>[](uint32 i) <span style="color:#000;font-weight:bold">const</span>;
Json<span style="color:#000;font-weight:bold">&amp;</span> <span style="color:#000;font-weight:bold">operator</span>[](<span style="color:#458;font-weight:bold">int</span> i) <span style="color:#000;font-weight:bold">const</span>;
Json<span style="color:#000;font-weight:bold">&amp;</span> <span style="color:#000;font-weight:bold">operator</span>[](<span style="color:#000;font-weight:bold">const</span> <span style="color:#458;font-weight:bold">char</span><span style="color:#000;font-weight:bold">*</span> key) <span style="color:#000;font-weight:bold">const</span>;
</code></pre></div><ul>
<li>
<p>é‡è½½ <code>operator[]</code>ï¼Œæ ¹æ® index æˆ– key è·å– Json å¯¹è±¡ä¸­çš„å…ƒç´ ã€‚</p>
</li>
<li>
<p>1-2, é€‚ç”¨äº array ç±»å‹ï¼Œè·å– array å¯¹è±¡çš„ç¬¬ i ä¸ªå…ƒç´ ï¼Œi å¿…é¡»åœ¨ array å¤§å°èŒƒå›´å†…ã€‚</p>
</li>
<li>
<p>3, é€‚ç”¨äº object ç±»å‹ï¼Œkey ä¸å­˜åœ¨æ—¶ï¼Œä¼šåœ¨ Json ä¸­æ’å…¥ä¸€ä¸ª null å¯¹è±¡ã€‚</p>
</li>
<li>
<p><strong>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå»ºè®®å°½é‡ç”¨åªè¯»çš„ <code>get()</code> æ–¹æ³•å–ä»£æ­¤æ“ä½œã€‚</strong></p>
</li>
<li>
<p>ç¤ºä¾‹</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">Json r <span style="color:#000;font-weight:bold">=</span> {
    { <span style="color:#d14">&#34;a&#34;</span>, <span style="color:#099">7</span> },
    { <span style="color:#d14">&#34;x&#34;</span>, { <span style="color:#099">1</span>, <span style="color:#099">2</span>, <span style="color:#099">3</span> } },
};

r[<span style="color:#d14">&#34;a&#34;</span>].as_int();    <span style="color:#998;font-style:italic">// 7
</span><span style="color:#998;font-style:italic"></span>r[<span style="color:#d14">&#34;x&#34;</span>][<span style="color:#099">0</span>].as_int(); <span style="color:#998;font-style:italic">// 1
</span></code></pre></div><h3 id="jsonhas_member"><a class="anchor" href="#jsonhas_member">#</a>Json::has_member</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#458;font-weight:bold">bool</span> <span style="color:#900;font-weight:bold">has_member</span>(<span style="color:#000;font-weight:bold">const</span> <span style="color:#458;font-weight:bold">char</span><span style="color:#000;font-weight:bold">*</span> key) <span style="color:#000;font-weight:bold">const</span>;
</code></pre></div><ul>
<li>
<p>åˆ¤æ–­ Json å¯¹è±¡ä¸­æ˜¯å¦å­˜åœ¨ key å¯¹åº”çš„å…ƒç´ ã€‚</p>
</li>
<li>
<p>è‹¥è°ƒç”¨æ­¤æ–¹æ³•çš„ Json å¯¹è±¡ä¸æ˜¯ object ç±»å‹ï¼Œè¿”å› falseã€‚</p>
</li>
<li>
<p>ç¤ºä¾‹</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">Json r <span style="color:#000;font-weight:bold">=</span> {{<span style="color:#d14">&#34;a&#34;</span>, <span style="color:#099">1</span>}};
r.has_member(<span style="color:#d14">&#34;a&#34;</span>); <span style="color:#998;font-style:italic">// true
</span><span style="color:#998;font-style:italic"></span>r.has_member(<span style="color:#d14">&#34;x&#34;</span>); <span style="color:#998;font-style:italic">// false
</span></code></pre></div><h3 id="jsonsize"><a class="anchor" href="#jsonsize">#</a>Json::size</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">uint32 <span style="color:#900;font-weight:bold">size</span>() <span style="color:#000;font-weight:bold">const</span>;
</code></pre></div><ul>
<li>
<p>è‹¥ Json æ˜¯ object æˆ– array ç±»å‹ï¼Œæ­¤æ–¹æ³•è¿”å›å…ƒç´ ä¸ªæ•°ã€‚</p>
</li>
<li>
<p>è‹¥ Json æ˜¯ string ç±»å‹ï¼Œæ­¤æ–¹æ³•è¿”å›å­—ç¬¦ä¸²é•¿åº¦ã€‚</p>
</li>
<li>
<p>æ‰€æœ‰å…¶ä»–ç±»å‹ï¼Œæ­¤æ–¹æ³•è¿”å› 0ã€‚</p>
</li>
<li>
<p>ç¤ºä¾‹</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">Json r <span style="color:#000;font-weight:bold">=</span> {
    {<span style="color:#d14">&#34;x&#34;</span>, <span style="color:#099">1</span>},
    {<span style="color:#d14">&#34;s&#34;</span>, <span style="color:#d14">&#34;hello&#34;</span>},
    {<span style="color:#d14">&#34;a&#34;</span>, {<span style="color:#099">1</span>, <span style="color:#099">2</span>, <span style="color:#099">3</span>}},
};

r.size();      <span style="color:#998;font-style:italic">// 3
</span><span style="color:#998;font-style:italic"></span>r[<span style="color:#d14">&#34;x&#34;</span>].size(); <span style="color:#998;font-style:italic">// 0
</span><span style="color:#998;font-style:italic"></span>r[<span style="color:#d14">&#34;s&#34;</span>].size(); <span style="color:#998;font-style:italic">// 5
</span><span style="color:#998;font-style:italic"></span>r[<span style="color:#d14">&#34;a&#34;</span>].size(); <span style="color:#998;font-style:italic">// 3
</span></code></pre></div><h3 id="jsonempty"><a class="anchor" href="#jsonempty">#</a>Json::empty</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#458;font-weight:bold">bool</span> <span style="color:#900;font-weight:bold">empty</span>() <span style="color:#000;font-weight:bold">const</span>;
</code></pre></div><ul>
<li>åˆ¤æ–­ Json å¯¹è±¡æ˜¯å¦ä¸ºç©ºï¼Œç­‰ä»·äº <code>size() == 0</code>ã€‚</li>
</ul>
<h3 id="jsonstring_size"><a class="anchor" href="#jsonstring_size">#</a>Json::string_size</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">uint32 <span style="color:#900;font-weight:bold">string_size</span>() <span style="color:#000;font-weight:bold">const</span>;
</code></pre></div><ul>
<li>è¿”å› string ç±»å‹çš„é•¿åº¦ï¼Œè‹¥è°ƒç”¨æ­¤æ–¹æ³•çš„ Json å¯¹è±¡ä¸æ˜¯ string ç±»å‹ï¼Œè¿”å› 0ã€‚</li>
</ul>
<h3 id="jsonarray_size"><a class="anchor" href="#jsonarray_size">#</a>Json::array_size</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">uint32 <span style="color:#900;font-weight:bold">array_size</span>() <span style="color:#000;font-weight:bold">const</span>;
</code></pre></div><ul>
<li>è¿”å› array ç±»å‹çš„å…ƒç´ ä¸ªæ•°ï¼Œè‹¥è°ƒç”¨æ­¤æ–¹æ³•çš„ Json å¯¹è±¡ä¸æ˜¯ array ç±»å‹ï¼Œè¿”å› 0ã€‚</li>
</ul>
<h3 id="jsonobject_size"><a class="anchor" href="#jsonobject_size">#</a>Json::object_size</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">uint32 <span style="color:#900;font-weight:bold">object_size</span>() <span style="color:#000;font-weight:bold">const</span>;
</code></pre></div><ul>
<li>è¿”å› object ç±»å‹çš„å…ƒç´ ä¸ªæ•°ï¼Œè‹¥è°ƒç”¨æ­¤æ–¹æ³•çš„ Json å¯¹è±¡ä¸æ˜¯ object ç±»å‹ï¼Œè¿”å› 0ã€‚</li>
</ul>
<h3 id="heading-5"><a class="anchor" href="#heading-5">#</a>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</h3>
<h3 id="jsonstr"><a class="anchor" href="#jsonstr">#</a>Json::str</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">fastream<span style="color:#000;font-weight:bold">&amp;</span> str(fastream<span style="color:#000;font-weight:bold">&amp;</span> s) <span style="color:#000;font-weight:bold">const</span>;
fastring<span style="color:#000;font-weight:bold">&amp;</span> str(fastring<span style="color:#000;font-weight:bold">&amp;</span> s) <span style="color:#000;font-weight:bold">const</span>;
fastring <span style="color:#900;font-weight:bold">str</span>(uint32 cap<span style="color:#000;font-weight:bold">=</span><span style="color:#099">256</span>) <span style="color:#000;font-weight:bold">const</span>;
</code></pre></div><ul>
<li>å°† Json å¯¹è±¡è½¬æ¢æˆå­—ç¬¦ä¸²ã€‚</li>
<li>ç¬¬ 1 ä¸ªç‰ˆæœ¬å°† JSON å­—ç¬¦ä¸²è¿½åŠ åˆ° fastream ä¸­ï¼Œè¿”å›å€¼ä¸å‚æ•° s ç›¸åŒã€‚</li>
<li>ç¬¬ 2 ä¸ªç‰ˆæœ¬å°† JSON å­—ç¬¦ä¸²è¿½åŠ åˆ° fastring ä¸­ï¼Œè¿”å›å€¼ä¸å‚æ•° s ç›¸åŒã€‚</li>
<li>ç¬¬ 3 ä¸ªç‰ˆæœ¬ç›´æ¥è¿”å› JSON å­—ç¬¦ä¸²ï¼Œå‚æ•° cap æ˜¯å­—ç¬¦ä¸²åˆå§‹å®¹é‡ï¼Œé»˜è®¤ä¸º 256ï¼Œè®¾ç½®ä¸ºåˆé€‚çš„å€¼å¯ä»¥å‡å°‘å†…å­˜é‡åˆ†é…ã€‚</li>
</ul>
<h3 id="jsonpretty"><a class="anchor" href="#jsonpretty">#</a>Json::pretty</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">fastream<span style="color:#000;font-weight:bold">&amp;</span> pretty(fastream<span style="color:#000;font-weight:bold">&amp;</span> s) <span style="color:#000;font-weight:bold">const</span>;
fastring<span style="color:#000;font-weight:bold">&amp;</span> pretty(fastring<span style="color:#000;font-weight:bold">&amp;</span> s) <span style="color:#000;font-weight:bold">const</span>;
fastring <span style="color:#900;font-weight:bold">pretty</span>(uint32 cap<span style="color:#000;font-weight:bold">=</span><span style="color:#099">256</span>) <span style="color:#000;font-weight:bold">const</span>;
</code></pre></div><ul>
<li>å°† Json å¯¹è±¡è½¬æ¢æˆæ›´æ¼‚äº®çš„ JSON å­—ç¬¦ä¸²ï¼Œé™¤äº†ç»“æœå¥½çœ‹ç‚¹ï¼Œå…¶ä»–ä¸ <code>Json::str()</code>Â ä¸€æ ·ã€‚</li>
</ul>
<h3 id="jsondbg"><a class="anchor" href="#jsondbg">#</a>Json::dbg</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">fastream<span style="color:#000;font-weight:bold">&amp;</span> dbg(fastream<span style="color:#000;font-weight:bold">&amp;</span> s) <span style="color:#000;font-weight:bold">const</span>;
fastring<span style="color:#000;font-weight:bold">&amp;</span> dbg(fastring<span style="color:#000;font-weight:bold">&amp;</span> s) <span style="color:#000;font-weight:bold">const</span>;
fastring <span style="color:#900;font-weight:bold">dbg</span>(uint32 cap<span style="color:#000;font-weight:bold">=</span><span style="color:#099">256</span>) <span style="color:#000;font-weight:bold">const</span>;
</code></pre></div><ul>
<li>å°† Json å¯¹è±¡è½¬æ¢æˆ debug å­—ç¬¦ä¸²ï¼Œå½“ string ç±»å‹çš„å€¼é•¿åº¦è¶…è¿‡ 512 å­—èŠ‚æ—¶ï¼Œæˆªæ–­å–å‰ 32 å­—èŠ‚ï¼Œå…¶ä»–ä¸ <code>Json::str()</code>Â ä¸€æ ·ã€‚</li>
<li>æ­¤æ–¹æ³•ä¸€èˆ¬ç”¨äºæ‰“å°æ—¥å¿—ã€‚æœ‰äº›åº”ç”¨åœºæ™¯ä¸­ï¼ŒJson å¯¹è±¡å¯èƒ½åŒ…å«è¾ƒé•¿çš„ stringï¼Œå¦‚ä¸€ä¸ªå›¾ç‰‡æ–‡ä»¶çš„ base64 ç¼–ç ï¼Œè¿™ä¸ªæ—¶å€™ç”¨ <code>Json::dbg()</code>Â å–ä»£ <code>Json::str()</code>Â æ–¹æ³•ï¼Œå¯ä»¥é¿å…æ‰“å°è¿‡å¤šæ— æ„ä¹‰çš„æ—¥å¿—ã€‚</li>
</ul>
<h3 id="jsonparse_from"><a class="anchor" href="#jsonparse_from">#</a>Json::parse_from</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#458;font-weight:bold">bool</span> <span style="color:#900;font-weight:bold">parse_from</span>(<span style="color:#000;font-weight:bold">const</span> <span style="color:#458;font-weight:bold">char</span><span style="color:#000;font-weight:bold">*</span> s, size_t n);
<span style="color:#458;font-weight:bold">bool</span> <span style="color:#900;font-weight:bold">parse_from</span>(<span style="color:#000;font-weight:bold">const</span> <span style="color:#458;font-weight:bold">char</span><span style="color:#000;font-weight:bold">*</span> s);
<span style="color:#458;font-weight:bold">bool</span> <span style="color:#900;font-weight:bold">parse_from</span>(<span style="color:#000;font-weight:bold">const</span> fastring<span style="color:#000;font-weight:bold">&amp;</span> s);
<span style="color:#458;font-weight:bold">bool</span> <span style="color:#900;font-weight:bold">parse_from</span>(<span style="color:#000;font-weight:bold">const</span> std<span style="color:#000;font-weight:bold">::</span>string<span style="color:#000;font-weight:bold">&amp;</span> s);
</code></pre></div><ul>
<li>ä» JSON å­—ç¬¦ä¸²è§£æ Json å¯¹è±¡ã€‚</li>
<li>ç¬¬ 1 ä¸ªç‰ˆæœ¬ä¸­ï¼Œs ä¸è¦æ±‚ä»¥ <code>'\0'</code>Â ç»“å°¾ã€‚</li>
<li>è§£ææˆåŠŸæ—¶ï¼Œè¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚</li>
<li>è§£æå¤±è´¥æ—¶ï¼ŒJson å˜æˆ null å¯¹è±¡ã€‚</li>
</ul>
<h3 id="jsonparse"><a class="anchor" href="#jsonparse">#</a>json::parse</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">Json <span style="color:#900;font-weight:bold">parse</span>(<span style="color:#000;font-weight:bold">const</span> <span style="color:#458;font-weight:bold">char</span><span style="color:#000;font-weight:bold">*</span> s, size_t n);
Json <span style="color:#900;font-weight:bold">parse</span>(<span style="color:#000;font-weight:bold">const</span> <span style="color:#458;font-weight:bold">char</span><span style="color:#000;font-weight:bold">*</span> s);
Json <span style="color:#900;font-weight:bold">parse</span>(<span style="color:#000;font-weight:bold">const</span> fastring<span style="color:#000;font-weight:bold">&amp;</span> s);
Json <span style="color:#900;font-weight:bold">parse</span>(<span style="color:#000;font-weight:bold">const</span> std<span style="color:#000;font-weight:bold">::</span>string<span style="color:#000;font-weight:bold">&amp;</span> s);
</code></pre></div><ul>
<li>ä» JSON å­—ç¬¦ä¸²è§£æ Json å¯¹è±¡ã€‚</li>
<li>æ­¤å‡½æ•°ä¸æ˜¯ Json ç±»ä¸­çš„æ–¹æ³•ï¼Œè€Œæ˜¯å®šä¹‰äº <code>namespace json</code>Â ä¸‹çš„å‡½æ•°ã€‚</li>
<li>æ­¤å‡½æ•°è¿”å›ä¸€ä¸ª Json å¯¹è±¡ï¼Œè§£æå¤±è´¥æ—¶ï¼Œè¿”å› null å¯¹è±¡ã€‚</li>
</ul>
<h3 id="ä»£ç ç¤ºä¾‹-2"><a class="anchor" href="#%e4%bb%a3%e7%a0%81%e7%a4%ba%e4%be%8b-2">#</a>ä»£ç ç¤ºä¾‹</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">Json r <span style="color:#000;font-weight:bold">=</span> {
    { <span style="color:#d14">&#34;a&#34;</span>, {<span style="color:#099">1</span>,<span style="color:#099">2</span>,<span style="color:#099">3</span>} }
};

fastring s <span style="color:#000;font-weight:bold">=</span> r.str();    <span style="color:#998;font-style:italic">// s -&gt; {&#34;a&#34;:[1,2,3]}
</span><span style="color:#998;font-style:italic"></span>fastring p <span style="color:#000;font-weight:bold">=</span> r.pretty(); 
LOG <span style="color:#000;font-weight:bold">&lt;&lt;</span> r.dbg();          <span style="color:#998;font-style:italic">// print json debug string
</span><span style="color:#998;font-style:italic"></span>LOG <span style="color:#000;font-weight:bold">&lt;&lt;</span> r;                <span style="color:#998;font-style:italic">// the same as above, but is  more efficient
</span><span style="color:#998;font-style:italic"></span>
Json x;
x.parse_from(s);
x.parse_from(p);

Json v <span style="color:#000;font-weight:bold">=</span> json<span style="color:#000;font-weight:bold">::</span>parse(s);
</code></pre></div><h3 id="heading-6"><a class="anchor" href="#heading-6">#</a>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</h3>
<h3 id="jsonbegin"><a class="anchor" href="#jsonbegin">#</a>Json::begin</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">iterator <span style="color:#900;font-weight:bold">begin</span>() <span style="color:#000;font-weight:bold">const</span>;
</code></pre></div><ul>
<li>è¿”å›æŒ‡å‘ Json å¯¹è±¡çš„ beginning iteratorã€‚</li>
<li>è°ƒç”¨æ­¤æ–¹æ³•çš„ Json å¯¹è±¡å¿…é¡»æ˜¯ array, object æˆ– nullã€‚</li>
<li>å½“ Json å¯¹è±¡ä¸ºç©ºæ—¶ï¼Œæ­¤æ–¹æ³•è¿”å›å€¼ç­‰äº <code>Json::end()</code>ã€‚</li>
</ul>
<h3 id="jsonend"><a class="anchor" href="#jsonend">#</a>Json::end</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#000;font-weight:bold">const</span> iterator<span style="color:#000;font-weight:bold">::</span>End<span style="color:#000;font-weight:bold">&amp;</span> end() <span style="color:#000;font-weight:bold">const</span>;
</code></pre></div><ul>
<li>è¿”å›ä¸€ä¸ªå‡çš„ end iteratorã€‚</li>
<li>è¿”å›å€¼å®é™…ä¸Šå¹¶ä¸æ˜¯ä¸€ä¸ª iterator å¯¹è±¡ï¼Œä½† iterator å¯ä»¥ä¸å®ƒæ¯”è¾ƒï¼Œè‹¥ iterator ä¸ <code>Json::end()</code>Â ç›¸ç­‰ï¼Œè¡¨ç¤ºæ²¡æœ‰æ›´å¤šçš„å…ƒç´ äº†ã€‚</li>
</ul>
<h3 id="jsoniterator"><a class="anchor" href="#jsoniterator">#</a>Json::iterator</h3>
<h4 id="iteratoroperator"><a class="anchor" href="#iteratoroperator">#</a>iterator::operator==</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#458;font-weight:bold">bool</span> <span style="color:#000;font-weight:bold">operator</span><span style="color:#000;font-weight:bold">==</span>(<span style="color:#000;font-weight:bold">const</span> End<span style="color:#000;font-weight:bold">&amp;</span>) <span style="color:#000;font-weight:bold">const</span>;
</code></pre></div><ul>
<li>åˆ¤æ–­ iterator æ˜¯å¦ç­‰äº <code>End</code>ï¼ŒEnd æ˜¯ä¸€ä¸ªå‡çš„ end iteratorã€‚</li>
</ul>
<h4 id="iteratoroperator-1"><a class="anchor" href="#iteratoroperator-1">#</a>iterator::operator!=</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#458;font-weight:bold">bool</span> <span style="color:#000;font-weight:bold">operator</span><span style="color:#000;font-weight:bold">!=</span>(<span style="color:#000;font-weight:bold">const</span> End<span style="color:#000;font-weight:bold">&amp;</span>) <span style="color:#000;font-weight:bold">const</span>;
</code></pre></div><ul>
<li>åˆ¤æ–­ iterator æ˜¯å¦ä¸ç­‰äº <code>End</code>ï¼ŒEnd æ˜¯ä¸€ä¸ªå‡çš„ end iteratorã€‚</li>
</ul>
<h4 id="iteratoroperator-2"><a class="anchor" href="#iteratoroperator-2">#</a>iterator::operator++</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">iterator<span style="color:#000;font-weight:bold">&amp;</span> <span style="color:#000;font-weight:bold">operator</span><span style="color:#000;font-weight:bold">++</span>();
</code></pre></div><ul>
<li>é‡è½½å‰ç¼€ <code>++</code>Â æ“ä½œï¼Œä¸æ”¯æŒåç¼€ <code>++</code>Â æ“ä½œã€‚</li>
</ul>
<h4 id="iteratoroperator-3"><a class="anchor" href="#iteratoroperator-3">#</a>iterator::operator*</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">Json<span style="color:#000;font-weight:bold">&amp;</span> <span style="color:#000;font-weight:bold">operator</span><span style="color:#000;font-weight:bold">*</span>() <span style="color:#000;font-weight:bold">const</span>;
</code></pre></div><ul>
<li>é‡è½½ <code>operator*</code>ï¼Œæ­¤æ–¹æ³•<strong>ä»…é€‚ç”¨äº array ç±»å‹çš„ iterator</strong>ã€‚</li>
<li>Json ä¸º array æ—¶ï¼Œiterator æŒ‡å‘ array ä¸­çš„å…ƒç´ ã€‚</li>
</ul>
<h4 id="iteratorkey"><a class="anchor" href="#iteratorkey">#</a>iterator::key</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#000;font-weight:bold">const</span> <span style="color:#458;font-weight:bold">char</span><span style="color:#000;font-weight:bold">*</span> <span style="color:#900;font-weight:bold">key</span>() <span style="color:#000;font-weight:bold">const</span>;
</code></pre></div><ul>
<li>æ­¤æ–¹æ³•<strong>ä»…é€‚ç”¨äº object ç±»å‹çš„ iterator</strong>ã€‚</li>
<li>Json ä¸º object æ—¶ï¼Œiterator æŒ‡å‘ object ä¸­çš„ key-value é”®å€¼å¯¹ï¼Œæ­¤æ–¹æ³•è¿”å›è¯¥é”®å€¼å¯¹ä¸­çš„ keyã€‚</li>
</ul>
<h4 id="iteratorvalue"><a class="anchor" href="#iteratorvalue">#</a>iterator::value</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">Json<span style="color:#000;font-weight:bold">&amp;</span> value() <span style="color:#000;font-weight:bold">const</span>;
</code></pre></div><ul>
<li>æ­¤æ–¹æ³•<strong>ä»…é€‚ç”¨äº object ç±»å‹çš„ iterator</strong>ã€‚</li>
<li>Json ä¸º object æ—¶ï¼Œiterator æŒ‡å‘ object ä¸­çš„ key-value é”®å€¼å¯¹ï¼Œæ­¤æ–¹æ³•è¿”å›è¯¥é”®å€¼å¯¹ä¸­çš„ value çš„å¼•ç”¨ã€‚</li>
</ul>
<h3 id="éå†-array-æˆ–-object"><a class="anchor" href="#%e9%81%8d%e5%8e%86-array-%e6%88%96-object">#</a>éå† array æˆ– object</h3>
<p>co/json æ”¯æŒç”¨ iterator éå† array æˆ– object ç±»å‹çš„ Json å¯¹è±¡ã€‚</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#998;font-style:italic">// {&#34;i&#34;:7, &#34;s&#34;:&#34;xx&#34;, &#34;a&#34;:[123, true, &#34;nice&#34;]}
</span><span style="color:#998;font-style:italic"></span>Json r <span style="color:#000;font-weight:bold">=</span> {
    {<span style="color:#d14">&#34;i&#34;</span>, <span style="color:#099">7</span>},
    {<span style="color:#d14">&#34;s&#34;</span>, <span style="color:#d14">&#34;xx&#34;</span>},
    {<span style="color:#d14">&#34;a&#34;</span>, {<span style="color:#099">1</span>, <span style="color:#099">2</span>, <span style="color:#099">3</span>}},
}

<span style="color:#998;font-style:italic">// object
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">for</span> (<span style="color:#000;font-weight:bold">auto</span> it <span style="color:#000;font-weight:bold">=</span> r.begin(); it <span style="color:#000;font-weight:bold">!=</span> r.end(); <span style="color:#000;font-weight:bold">++</span>it) {
    LOG <span style="color:#000;font-weight:bold">&lt;&lt;</span> it.key() <span style="color:#000;font-weight:bold">&lt;&lt;</span> <span style="color:#d14">&#34;: &#34;</span> <span style="color:#000;font-weight:bold">&lt;&lt;</span> it.value();
}

<span style="color:#998;font-style:italic">// array
</span><span style="color:#998;font-style:italic"></span>Json<span style="color:#000;font-weight:bold">&amp;</span> a <span style="color:#000;font-weight:bold">=</span> r[<span style="color:#d14">&#34;a&#34;</span>];
<span style="color:#000;font-weight:bold">for</span> (<span style="color:#000;font-weight:bold">auto</span> it <span style="color:#000;font-weight:bold">=</span> a.begin(); it <span style="color:#000;font-weight:bold">!=</span> a.end(); <span style="color:#000;font-weight:bold">++</span>it) {
    LOG <span style="color:#000;font-weight:bold">&lt;&lt;</span> (<span style="color:#000;font-weight:bold">*</span>it);
}
</code></pre></div><h2 id="æ€§èƒ½ä¼˜åŒ–å»ºè®®"><a class="anchor" href="#%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96%e5%bb%ba%e8%ae%ae">#</a>æ€§èƒ½ä¼˜åŒ–å»ºè®®</h2>
<p>æœ‰äº›ç”¨æˆ·å–œæ¬¢ç”¨ä¸‹é¢çš„æ–¹å¼æ·»åŠ å…ƒç´ ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">Json r;
r[<span style="color:#d14">&#34;a&#34;</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>;
r[<span style="color:#d14">&#34;s&#34;</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;hello world&#34;</span>;
</code></pre></div><p>ä¸Šé¢çš„æ“ä½œè™½ç„¶å¯è¡Œï¼Œä½†æ˜¯<strong>æ•ˆç‡å¹¶ä¸é«˜</strong>ã€‚<code>operator[]</code>Â æ“ä½œä¼šå…ˆæŸ¥æ‰¾ keyï¼Œæ‰¾åˆ°äº†å°±æ›´æ–°å€¼ï¼Œæ²¡æ‰¾åˆ°å°±æ’å…¥æ–°çš„å…ƒç´ ã€‚ä¸€èˆ¬å»ºè®®ç”¨ <strong>add_member()</strong> æ–¹æ³•å–è€Œä»£ä¹‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">Json r;
r.add_member(<span style="color:#d14">&#34;a&#34;</span>, <span style="color:#099">1</span>);
r.add_member(<span style="color:#d14">&#34;s&#34;</span>, <span style="color:#d14">&#34;hello world&#34;</span>);
</code></pre></div><p>æˆ–è€…åƒä¸‹é¢è¿™æ ·æ„é€  Json å¯¹è±¡ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">Json r <span style="color:#000;font-weight:bold">=</span> {
    {<span style="color:#d14">&#34;a&#34;</span>, <span style="color:#099">1</span>},
    {<span style="color:#d14">&#34;s&#34;</span>, <span style="color:#d14">&#34;hello world&#34;</span>},
};
</code></pre></div><p>object ç±»å‹å†…éƒ¨å®é™…ä¸Šæ˜¯ä»¥æ•°ç»„çš„å½¢å¼å­˜å‚¨çš„ï¼Œ<code>operator[]</code>Â ä¼šä¸æ•°ç»„ä¸­çš„ key ä¸€ä¸€æ¯”è¾ƒï¼Œå¯èƒ½è¾ƒæ…¢ã€‚åœ¨ç‰¹åˆ«æ³¨é‡æ€§èƒ½çš„åœºåˆï¼Œå»ºè®®å°† operator[] çš„ç»“æœç¼“å­˜èµ·æ¥ï¼Œä¸è¦å¯¹åŒä¸€ä¸ª key å¤šæ¬¡è°ƒç”¨ operator[] æ“ä½œã€‚</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">Json r <span style="color:#000;font-weight:bold">=</span> {{<span style="color:#d14">&#34;a&#34;</span>, <span style="color:#099">1</span>}};
Json<span style="color:#000;font-weight:bold">&amp;</span> a <span style="color:#000;font-weight:bold">=</span> r[<span style="color:#d14">&#34;a&#34;</span>];
<span style="color:#000;font-weight:bold">if</span> (a.is_int()) LOG <span style="color:#000;font-weight:bold">&lt;&lt;</span> a.get_int();
</code></pre></div></article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">

  



  
    
  
    
  


  


<div class="book-languages" tabindex="0" aria-haspopup="true">
  <ul>
    <li class="flex align-center">
      <img src="../../../svg/translate.svg" class="book-icon" alt="Languages" />
      ä¸­æ–‡
    </li> 
  </ul>

  <ul class="book-languages-list">
    
    <li class="active">
      <a href="../../../cn/" class="flex align-center">
        <img src="../../../svg/translate.svg" class="book-icon" alt="Languages" />
        ä¸­æ–‡
      </a>
    </li>
    
    <li class="">
      <a href="../../../en/co/json/" class="flex align-center">
        <img src="../../../svg/translate.svg" class="book-icon" alt="Languages" />
        English
      </a>
    </li>
    
  </ul>
</div>




  <div class="book-date"><a class="flex align-center" href="https://github.com/cocoyaxi/codoc/commit/9cd068238b5e1fd16643d58065cfb29e792e2fbe" title='æœ€åä¿®æ”¹è€… idealvin | May 31, 2022' target="_blank" rel="noopener">
      <img src="../../../svg/calendar.svg" class="book-icon" alt="Calendar" />
      <span>May 31, 2022</span>
    </a>
  </div>



  <div class="book-edit">
    <a class="flex align-center" href="https://github.com/cocoyaxi/codoc/edit/master/content/cn/co/json.md" target="_blank" rel="noopener">
      <img src="../../../svg/edit.svg" class="book-icon" alt="Edit" />
      <span>ç¼–è¾‘æœ¬é¡µ</span>
    </a>
  </div>

</div>

 
        





<script src="//cdn.bootcss.com/highlight.js/11.1.0/highlight.min.js"></script>



<script src="//cdn.bootcss.com/highlight.js/11.1.0/languages/cpp.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/11.1.0/languages/bash.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/11.1.0/languages/lua.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/11.1.0/languages/yaml.min.js"></script>
<script>hljs.configure({ languages: [] }); hljs.initHighlightingOnLoad();</script>





      </footer>

      
  
  <div class="book-comments">


<link rel="stylesheet" href="//cdn.bootcss.com/gitalk/1.7.2/gitalk.min.css">
<script src="//cdn.bootcss.com/gitalk/1.7.2/gitalk.min.js"></script>
<div id="gitalk-container"></div>
<script type="text/javascript">
  var gitalk = new Gitalk({
    clientID: '11f9ff9ca43804d70b32',
    clientSecret: '07e2bd5b09a1654e7942a7698c3ec164e7566177',
    repo: 'gitalk',
    owner: 'idealvin',
    admin: ['idealvin'],
    id: location.pathname,
    language: 'zh-CN',
    distractionFreeMode: false,
    proxy: 'https:\/\/cors-anywhere.azm.workers.dev\/https:\/\/github.com\/login\/oauth\/access_token'
  })
  gitalk.render('gitalk-container');
</script></div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#åŸºæœ¬æ¦‚å¿µ">åŸºæœ¬æ¦‚å¿µ</a></li>
        <li><a href="#json">Json</a>
          <ul>
            <li><a href="#jsonjson">Json::Json</a></li>
            <li><a href="#jsonarray">json::array</a></li>
            <li><a href="#jsonobject">json::object</a></li>
            <li><a href="#jsonoperator">Json::operator=</a></li>
            <li><a href="#jsondup">Json::dup</a></li>
            <li><a href="#heading">â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</a></li>
            <li><a href="#jsonis_null">Json::is_null</a></li>
            <li><a href="#jsonis_bool">Json::is_bool</a></li>
            <li><a href="#jsonis_int">Json::is_int</a></li>
            <li><a href="#jsonis_double">Json::is_double</a></li>
            <li><a href="#jsonis_string">Json::is_string</a></li>
            <li><a href="#jsonis_array">Json::is_array</a></li>
            <li><a href="#jsonis_object">Json::is_object</a></li>
            <li><a href="#heading-1">â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</a></li>
            <li><a href="#jsonas_bool">Json::as_bool</a></li>
            <li><a href="#jsonas_int">Json::as_int</a></li>
            <li><a href="#jsonas_double">Json::as_double</a></li>
            <li><a href="#jsonas_string">Json::as_string</a></li>
            <li><a href="#jsonget">Json::get</a></li>
            <li><a href="#ä»£ç ç¤ºä¾‹">ä»£ç ç¤ºä¾‹</a></li>
            <li><a href="#heading-2">â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</a></li>
            <li><a href="#jsonoperator-1">Json::operator==</a></li>
            <li><a href="#jsonoperator-2">Json::operator!=</a></li>
            <li><a href="#ä»£ç ç¤ºä¾‹-1">ä»£ç ç¤ºä¾‹</a></li>
            <li><a href="#heading-3">â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</a></li>
            <li><a href="#jsonadd_member">Json::add_member</a></li>
            <li><a href="#jsonpush_back">Json::push_back</a></li>
            <li><a href="#jsonreset">Json::reset</a></li>
            <li><a href="#jsonswap">Json::swap</a></li>
            <li><a href="#heading-4">â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</a></li>
            <li><a href="#jsonoperator-3">Json::operator[]</a></li>
            <li><a href="#jsonhas_member">Json::has_member</a></li>
            <li><a href="#jsonsize">Json::size</a></li>
            <li><a href="#jsonempty">Json::empty</a></li>
            <li><a href="#jsonstring_size">Json::string_size</a></li>
            <li><a href="#jsonarray_size">Json::array_size</a></li>
            <li><a href="#jsonobject_size">Json::object_size</a></li>
            <li><a href="#heading-5">â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</a></li>
            <li><a href="#jsonstr">Json::str</a></li>
            <li><a href="#jsonpretty">Json::pretty</a></li>
            <li><a href="#jsondbg">Json::dbg</a></li>
            <li><a href="#jsonparse_from">Json::parse_from</a></li>
            <li><a href="#jsonparse">json::parse</a></li>
            <li><a href="#ä»£ç ç¤ºä¾‹-2">ä»£ç ç¤ºä¾‹</a></li>
            <li><a href="#heading-6">â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</a></li>
            <li><a href="#jsonbegin">Json::begin</a></li>
            <li><a href="#jsonend">Json::end</a></li>
            <li><a href="#jsoniterator">Json::iterator</a>
              <ul>
                <li><a href="#iteratoroperator">iterator::operator==</a></li>
                <li><a href="#iteratoroperator-1">iterator::operator!=</a></li>
                <li><a href="#iteratoroperator-2">iterator::operator++</a></li>
                <li><a href="#iteratoroperator-3">iterator::operator*</a></li>
                <li><a href="#iteratorkey">iterator::key</a></li>
                <li><a href="#iteratorvalue">iterator::value</a></li>
              </ul>
            </li>
            <li><a href="#éå†-array-æˆ–-object">éå† array æˆ– object</a></li>
          </ul>
        </li>
        <li><a href="#æ€§èƒ½ä¼˜åŒ–å»ºè®®">æ€§èƒ½ä¼˜åŒ–å»ºè®®</a></li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












